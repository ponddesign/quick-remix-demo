{
  "version": 3,
  "sources": ["../node_modules/ts-invariant/lib/invariant.js", "../node_modules/ts-invariant/process/index.js", "../node_modules/@apollo/client/utilities/globals/maybe.js", "../node_modules/@apollo/client/utilities/globals/global.js", "../node_modules/@apollo/client/utilities/globals/DEV.js", "../node_modules/@apollo/client/utilities/globals/fix-graphql.js", "../node_modules/@apollo/client/utilities/globals/index.js", "../node_modules/zen-observable-ts/index.cjs", "../node_modules/@apollo/client/utilities/graphql/directives.js", "../node_modules/@apollo/client/utilities/graphql/fragments.js", "../node_modules/@apollo/client/utilities/common/objects.js", "../node_modules/@apollo/client/utilities/graphql/storeUtils.js", "../node_modules/@apollo/client/utilities/graphql/getFromAST.js", "../node_modules/@apollo/client/utilities/common/arrays.js", "../node_modules/@apollo/client/utilities/graphql/transform.js", "../node_modules/@apollo/client/utilities/common/mergeDeep.js", "../node_modules/@apollo/client/utilities/policies/pagination.js", "../node_modules/@apollo/client/utilities/common/cloneDeep.js", "../node_modules/@apollo/client/utilities/common/maybeDeepFreeze.js", "../node_modules/@apollo/client/utilities/observables/iteration.js", "../node_modules/@apollo/client/utilities/observables/asyncMap.js", "../node_modules/@apollo/client/utilities/common/canUse.js", "../node_modules/@apollo/client/utilities/observables/subclassing.js", "../node_modules/@apollo/client/utilities/observables/Concast.js", "../node_modules/@apollo/client/utilities/common/incrementalResult.js", "../node_modules/@apollo/client/utilities/common/errorHandling.js", "../node_modules/@apollo/client/utilities/common/compact.js", "../node_modules/@apollo/client/utilities/common/makeUniqueId.js", "../node_modules/@apollo/client/utilities/common/stringifyForDisplay.js", "../node_modules/@apollo/client/utilities/common/mergeOptions.js", "../node_modules/@apollo/client/link/utils/fromError.js", "../node_modules/@apollo/client/link/utils/toPromise.js", "../node_modules/@apollo/client/link/utils/fromPromise.js", "../node_modules/@apollo/client/link/utils/throwServerError.js", "../node_modules/@apollo/client/link/utils/validateOperation.js", "../node_modules/@apollo/client/link/utils/createOperation.js", "../node_modules/@apollo/client/link/utils/transformOperation.js", "../node_modules/@apollo/client/link/core/ApolloLink.js", "../node_modules/@apollo/client/link/core/empty.js", "../node_modules/@apollo/client/link/core/from.js", "../node_modules/@apollo/client/link/core/split.js", "../node_modules/@apollo/client/link/core/concat.js", "../node_modules/@apollo/client/link/core/execute.js", "../node_modules/@apollo/client/utilities/common/canUse.js", "../node_modules/@apollo/client/utilities/common/responseIterator.js", "../node_modules/@apollo/client/link/http/iterators/async.js", "../node_modules/@apollo/client/link/http/iterators/nodeStream.js", "../node_modules/@apollo/client/link/http/iterators/promise.js", "../node_modules/@apollo/client/link/http/iterators/reader.js", "../node_modules/@apollo/client/link/http/responseIterator.js", "../node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js", "../node_modules/@apollo/client/link/http/serializeFetchParameter.js", "../node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js", "../node_modules/@apollo/client/link/http/checkFetcher.js", "../node_modules/@apollo/client/link/http/createSignalIfSupported.js", "../node_modules/@apollo/client/link/http/selectURI.js", "../node_modules/@apollo/client/link/http/rewriteURIForGET.js", "../node_modules/@apollo/client/link/http/createHttpLink.js", "../node_modules/@apollo/client/link/http/HttpLink.js", "../node_modules/@apollo/client/cache/core/cache.js", "../node_modules/@apollo/client/cache/core/types/Cache.js", "../node_modules/@apollo/client/cache/core/types/common.js", "../node_modules/@apollo/client/cache/inmemory/helpers.js", "../node_modules/@apollo/client/cache/inmemory/entityStore.js", "../node_modules/@apollo/client/cache/inmemory/object-canon.js", "../node_modules/@apollo/client/cache/inmemory/readFromStore.js", "../node_modules/@apollo/client/cache/inmemory/reactiveVars.js", "../node_modules/@apollo/client/cache/inmemory/key-extractor.js", "../node_modules/@apollo/client/cache/inmemory/policies.js", "../node_modules/@apollo/client/cache/inmemory/writeToStore.js", "../node_modules/@apollo/client/cache/inmemory/inMemoryCache.js", "../node_modules/@apollo/client/cache/inmemory/fragmentRegistry.js", "../node_modules/@apollo/client/errors/index.js", "../node_modules/@apollo/client/version.js", "../node_modules/@apollo/client/utilities/common/arrays.js", "../node_modules/@apollo/client/utilities/common/objects.js", "../node_modules/@apollo/client/utilities/common/mergeDeep.js", "../node_modules/@apollo/client/utilities/common/incrementalResult.js", "../node_modules/@apollo/client/core/networkStatus.js", "../node_modules/@apollo/client/core/ObservableQuery.js", "../node_modules/@apollo/client/core/LocalState.js", "../node_modules/@apollo/client/core/QueryInfo.js", "../node_modules/@apollo/client/core/QueryManager.js", "../node_modules/@apollo/client/core/ApolloClient.js", "../node_modules/@apollo/client/core/index.js", "../node_modules/@apollo/client/react/context/ApolloContext.js", "../node_modules/@apollo/client/react/context/ApolloConsumer.js", "../node_modules/@apollo/client/react/context/ApolloProvider.js", "../node_modules/@apollo/client/react/parser/index.js", "../node_modules/@apollo/client/react/hooks/useApolloClient.js", "../node_modules/@apollo/client/react/hooks/useSyncExternalStore.js", "../node_modules/@apollo/client/react/hooks/useQuery.js", "../node_modules/@apollo/client/react/hooks/useLazyQuery.js", "../node_modules/@apollo/client/react/hooks/useMutation.js", "../node_modules/@apollo/client/react/hooks/useSubscription.js", "../node_modules/@apollo/client/react/hooks/useReactiveVar.js", "../node_modules/@apollo/client/react/hooks/useFragment.js", "../node_modules/@apollo/client/react/react.cjs", "../node_modules/@apollo/client/main.cjs", "../node_modules/@apollo/client/link/error/index.js", "../mocks/index.js", "../server.ts", "server-entry-module:@remix-run/dev/server-build", "../app/entry.server.tsx", "../app/root.tsx", "../app/session.server.ts", "../app/models/user.server.ts", "../app/routes/posts/$slug.jsx", "../app/lib/apollo.js", "../app/routes/logout.tsx", "../app/routes/index.tsx", "../app/routes/login.tsx", "../app/utils.ts", "../app/routes/notes.tsx", "../app/models/note.server.ts", "../app/routes/notes/$noteId.tsx", "../app/routes/notes/index.tsx", "../app/routes/notes/new.tsx", "../app/routes/join.tsx", "../cypress/support/test-routes/create-user.ts", "server-assets-manifest:@remix-run/dev/assets-manifest"],
  "sourcesContent": ["import { __extends } from \"tslib\";\nvar genericMessage = \"Invariant Violation\";\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\n    obj.__proto__ = proto;\n    return obj;\n} : _a;\nvar InvariantError = /** @class */ (function (_super) {\n    __extends(InvariantError, _super);\n    function InvariantError(message) {\n        if (message === void 0) { message = genericMessage; }\n        var _this = _super.call(this, typeof message === \"number\"\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\n            : message) || this;\n        _this.framesToPop = 1;\n        _this.name = genericMessage;\n        setPrototypeOf(_this, InvariantError.prototype);\n        return _this;\n    }\n    return InvariantError;\n}(Error));\nexport { InvariantError };\nexport function invariant(condition, message) {\n    if (!condition) {\n        throw new InvariantError(message);\n    }\n}\nvar verbosityLevels = [\"debug\", \"log\", \"warn\", \"error\", \"silent\"];\nvar verbosityLevel = verbosityLevels.indexOf(\"log\");\nfunction wrapConsoleMethod(name) {\n    return function () {\n        if (verbosityLevels.indexOf(name) >= verbosityLevel) {\n            // Default to console.log if this host environment happens not to provide\n            // all the console.* methods we need.\n            var method = console[name] || console.log;\n            return method.apply(console, arguments);\n        }\n    };\n}\n(function (invariant) {\n    invariant.debug = wrapConsoleMethod(\"debug\");\n    invariant.log = wrapConsoleMethod(\"log\");\n    invariant.warn = wrapConsoleMethod(\"warn\");\n    invariant.error = wrapConsoleMethod(\"error\");\n})(invariant || (invariant = {}));\nexport function setVerbosity(level) {\n    var old = verbosityLevels[verbosityLevel];\n    verbosityLevel = Math.max(0, verbosityLevels.indexOf(level));\n    return old;\n}\nexport default invariant;\n//# sourceMappingURL=invariant.js.map", "function maybe(thunk) {\n  try { return thunk() } catch (_) {}\n}\n\nvar safeGlobal = (\n  maybe(function() { return globalThis }) ||\n  maybe(function() { return window }) ||\n  maybe(function() { return self }) ||\n  maybe(function() { return global }) ||\n  // We don't expect the Function constructor ever to be invoked at runtime, as\n  // long as at least one of globalThis, window, self, or global is defined, so\n  // we are under no obligation to make it easy for static analysis tools to\n  // detect syntactic usage of the Function constructor. If you think you can\n  // improve your static analysis to detect this obfuscation, think again. This\n  // is an arms race you cannot win, at least not in JavaScript.\n  maybe(function() { return maybe.constructor(\"return this\")() })\n);\n\nvar needToRemove = false;\n\nexport function install() {\n  if (safeGlobal &&\n      !maybe(function() { return process.env.NODE_ENV }) &&\n      !maybe(function() { return process })) {\n    Object.defineProperty(safeGlobal, \"process\", {\n      value: {\n        env: {\n          // This default needs to be \"production\" instead of \"development\", to\n          // avoid the problem https://github.com/graphql/graphql-js/pull/2894\n          // will eventually solve, once merged and released.\n          NODE_ENV: \"production\",\n        },\n      },\n      // Let anyone else change global.process as they see fit, but hide it from\n      // Object.keys(global) enumeration.\n      configurable: true,\n      enumerable: false,\n      writable: true,\n    });\n    needToRemove = true;\n  }\n}\n\n// Call install() at least once, when this module is imported.\ninstall();\n\nexport function remove() {\n  if (needToRemove) {\n    delete safeGlobal.process;\n    needToRemove = false;\n  }\n}\n", "export function maybe(thunk) {\n    try {\n        return thunk();\n    }\n    catch (_a) { }\n}\n//# sourceMappingURL=maybe.js.map", "import { maybe } from \"./maybe\";\nexport default (maybe(function () { return globalThis; }) ||\n    maybe(function () { return window; }) ||\n    maybe(function () { return self; }) ||\n    maybe(function () { return global; }) ||\n    maybe(function () { return maybe.constructor(\"return this\")(); }));\n//# sourceMappingURL=global.js.map", "import global from \"./global\";\nimport { maybe } from \"./maybe\";\nvar __ = \"__\";\nvar GLOBAL_KEY = [__, __].join(\"DEV\");\nfunction getDEV() {\n    try {\n        return Boolean(__DEV__);\n    }\n    catch (_a) {\n        Object.defineProperty(global, GLOBAL_KEY, {\n            value: maybe(function () { return process.env.NODE_ENV; }) !== \"production\",\n            enumerable: false,\n            configurable: true,\n            writable: true,\n        });\n        return global[GLOBAL_KEY];\n    }\n}\nexport default getDEV();\n//# sourceMappingURL=DEV.js.map", "import { remove } from 'ts-invariant/process';\nimport { Source } from 'graphql';\nexport function removeTemporaryGlobals() {\n    return typeof Source === \"function\" ? remove() : remove();\n}\n//# sourceMappingURL=fix-graphql.js.map", "import { invariant, InvariantError } from \"ts-invariant\";\nimport DEV from \"./DEV\";\nexport { DEV };\nexport function checkDEV() {\n    __DEV__ ? invariant(\"boolean\" === typeof DEV, DEV) : invariant(\"boolean\" === typeof DEV, 39);\n}\nimport { removeTemporaryGlobals } from \"./fix-graphql\";\nremoveTemporaryGlobals();\nexport { maybe } from \"./maybe\";\nexport { default as global } from \"./global\";\nexport { invariant, InvariantError };\ncheckDEV();\n//# sourceMappingURL=index.js.map", "exports.Observable = require(\"zen-observable/index.js\");\n", "import { invariant } from '../globals';\nimport { visit, BREAK, } from 'graphql';\nexport function shouldInclude(_a, variables) {\n    var directives = _a.directives;\n    if (!directives || !directives.length) {\n        return true;\n    }\n    return getInclusionDirectives(directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables && variables[ifArgument.value.name.value];\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\".concat(directive.name.value, \" directive.\")) : invariant(evaledValue !== void 0, 40);\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nexport function getDirectiveNames(root) {\n    var names = [];\n    visit(root, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nexport var hasAnyDirectives = function (names, root) { return hasDirectives(names, root, false); };\nexport var hasAllDirectives = function (names, root) { return hasDirectives(names, root, true); };\nexport function hasDirectives(names, root, all) {\n    var nameSet = new Set(names);\n    var uniqueCount = nameSet.size;\n    visit(root, {\n        Directive: function (node) {\n            if (nameSet.delete(node.name.value) &&\n                (!all || !nameSet.size)) {\n                return BREAK;\n            }\n        },\n    });\n    return all ? !nameSet.size : nameSet.size < uniqueCount;\n}\nexport function hasClientExports(document) {\n    return document && hasDirectives(['client', 'export'], document, true);\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nexport function getInclusionDirectives(directives) {\n    var result = [];\n    if (directives && directives.length) {\n        directives.forEach(function (directive) {\n            if (!isInclusionDirective(directive))\n                return;\n            var directiveArguments = directive.arguments;\n            var directiveName = directive.name.value;\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\".concat(directiveName, \" directive.\")) : invariant(directiveArguments && directiveArguments.length === 1, 41);\n            var ifArgument = directiveArguments[0];\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\".concat(directiveName, \" directive.\")) : invariant(ifArgument.name && ifArgument.name.value === 'if', 42);\n            var ifValue = ifArgument.value;\n            __DEV__ ? invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\".concat(directiveName, \" directive must be a variable or a boolean value.\")) : invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 43);\n            result.push({ directive: directive, ifArgument: ifArgument });\n        });\n    }\n    return result;\n}\n//# sourceMappingURL=directives.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { invariant, InvariantError } from '../globals';\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Found a \".concat(definition.operation, \" operation\").concat(definition.name ? \" named '\".concat(definition.name.value, \"'\") : '', \". \") +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(44);\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        __DEV__ ? invariant(fragments.length === 1, \"Found \".concat(fragments.length, \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\")) : invariant(fragments.length === 1, 45);\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions, true) });\n    return query;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentFromSelection(selection, fragmentMap) {\n    switch (selection.kind) {\n        case 'InlineFragment':\n            return selection;\n        case 'FragmentSpread': {\n            var fragmentName = selection.name.value;\n            if (typeof fragmentMap === \"function\") {\n                return fragmentMap(fragmentName);\n            }\n            var fragment = fragmentMap && fragmentMap[fragmentName];\n            __DEV__ ? invariant(fragment, \"No fragment named \".concat(fragmentName)) : invariant(fragment, 46);\n            return fragment || null;\n        }\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=fragments.js.map", "export function isNonNullObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n//# sourceMappingURL=objects.js.map", "import { InvariantError } from '../globals';\nimport { isNonNullObject } from '../common/objects';\nimport { getFragmentFromSelection } from './fragments';\nexport function makeReference(id) {\n    return { __ref: String(id) };\n}\nexport function isReference(obj) {\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\n}\nexport function isDocumentNode(value) {\n    return (isNonNullObject(value) &&\n        value.kind === \"Document\" &&\n        Array.isArray(value.definitions));\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\".concat(name.value, \"\\\" of kind \\\"\").concat(value.kind, \"\\\"\") +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.') : new InvariantError(55);\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\n    if (args &&\n        directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = args[key];\n            });\n            return \"\".concat(directives['connection']['key'], \"(\").concat(stringify(filteredArgs_1), \")\");\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\".concat(stringifiedArgs, \")\");\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\".concat(key, \"(\").concat(stringify(directives[key]), \")\");\n            }\n            else {\n                completeFieldName += \"@\".concat(key);\n            }\n        });\n    }\n    return completeFieldName;\n}, {\n    setStringify: function (s) {\n        var previous = stringify;\n        stringify = s;\n        return previous;\n    },\n});\nvar stringify = function defaultStringify(value) {\n    return JSON.stringify(value, stringifyReplacer);\n};\nfunction stringifyReplacer(_key, value) {\n    if (isNonNullObject(value) && !Array.isArray(value)) {\n        value = Object.keys(value).sort().reduce(function (copy, key) {\n            copy[key] = value[key];\n            return copy;\n        }, {});\n    }\n    return value;\n}\nexport function argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\n    if (typeof result.__typename === 'string') {\n        return result.__typename;\n    }\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\n        var selection = _a[_i];\n        if (isField(selection)) {\n            if (selection.name.value === '__typename') {\n                return result[resultKeyNameFromField(selection)];\n            }\n        }\n        else {\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\n            if (typeof typename === 'string') {\n                return typename;\n            }\n        }\n    }\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\n//# sourceMappingURL=storeUtils.js.map", "import { invariant, InvariantError } from '../globals';\nimport { valueToObjectRepresentation } from './storeUtils';\nexport function checkDocument(doc) {\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 47);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(48);\n        }\n        return definition;\n    });\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 49);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 50);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 51);\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 52);\n    var fragmentDef = doc.definitions[0];\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 53);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(54);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map", "export var isArray = Array.isArray;\nexport function isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n//# sourceMappingURL=arrays.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from '../globals';\nimport { visit, Kind, } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from './getFromAST';\nimport { isField } from './storeUtils';\nimport { createFragmentMap, } from './fragments';\nimport { isArray } from '../common/arrays';\nvar TYPENAME_FIELD = {\n    kind: Kind.FIELD,\n    name: {\n        kind: Kind.NAME,\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragmentMap) {\n    return !op || op.selectionSet.selections.every(function (selection) { return selection.kind === Kind.FRAGMENT_SPREAD &&\n        isEmpty(fragmentMap[selection.name.value], fragmentMap); });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    var nameSet = new Set();\n    var tests = [];\n    directives.forEach(function (directive) {\n        if (directive.name) {\n            nameSet.add(directive.name);\n        }\n        else if (directive.test) {\n            tests.push(directive.test);\n        }\n    });\n    return function (directive) { return (nameSet.has(directive.name.value) ||\n        tests.some(function (test) { return test(directive); })); };\n}\nfunction makeInUseGetterFunction(defaultKey) {\n    var map = new Map();\n    return function inUseGetterFunction(key) {\n        if (key === void 0) { key = defaultKey; }\n        var inUse = map.get(key);\n        if (!inUse) {\n            map.set(key, inUse = {\n                variables: new Set,\n                fragmentSpreads: new Set,\n            });\n        }\n        return inUse;\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    var getInUseByOperationName = makeInUseGetterFunction(\"\");\n    var getInUseByFragmentName = makeInUseGetterFunction(\"\");\n    var getInUse = function (ancestors) {\n        for (var p = 0, ancestor = void 0; p < ancestors.length && (ancestor = ancestors[p]); ++p) {\n            if (isArray(ancestor))\n                continue;\n            if (ancestor.kind === Kind.OPERATION_DEFINITION) {\n                return getInUseByOperationName(ancestor.name && ancestor.name.value);\n            }\n            if (ancestor.kind === Kind.FRAGMENT_DEFINITION) {\n                return getInUseByFragmentName(ancestor.name.value);\n            }\n        }\n        __DEV__ && invariant.error(\"Could not find operation or fragment\");\n        return null;\n    };\n    var operationCount = 0;\n    for (var i = doc.definitions.length - 1; i >= 0; --i) {\n        if (doc.definitions[i].kind === Kind.OPERATION_DEFINITION) {\n            ++operationCount;\n        }\n    }\n    var directiveMatcher = getDirectiveMatcher(directives);\n    var hasRemoveDirective = directives.some(function (directive) { return directive.remove; });\n    var shouldRemoveField = function (nodeDirectives) { return (hasRemoveDirective &&\n        nodeDirectives &&\n        nodeDirectives.some(directiveMatcher)); };\n    var originalFragmentDefsByPath = new Map();\n    var firstVisitMadeChanges = false;\n    var fieldOrInlineFragmentVisitor = {\n        enter: function (node) {\n            if (shouldRemoveField(node.directives)) {\n                firstVisitMadeChanges = true;\n                return null;\n            }\n        },\n    };\n    var docWithoutDirectiveSubtrees = visit(doc, {\n        Field: fieldOrInlineFragmentVisitor,\n        InlineFragment: fieldOrInlineFragmentVisitor,\n        VariableDefinition: {\n            enter: function () {\n                return false;\n            },\n        },\n        Variable: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.variables.add(node.name.value);\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                if (shouldRemoveField(node.directives)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.fragmentSpreads.add(node.name.value);\n                }\n            },\n        },\n        FragmentDefinition: {\n            enter: function (node, _key, _parent, path) {\n                originalFragmentDefsByPath.set(JSON.stringify(path), node);\n            },\n            leave: function (node, _key, _parent, path) {\n                var originalNode = originalFragmentDefsByPath.get(JSON.stringify(path));\n                if (node === originalNode) {\n                    return node;\n                }\n                if (operationCount > 0 &&\n                    node.selectionSet.selections.every(function (selection) { return (selection.kind === Kind.FIELD &&\n                        selection.name.value === '__typename'); })) {\n                    getInUseByFragmentName(node.name.value).removed = true;\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n        Directive: {\n            leave: function (node) {\n                if (directiveMatcher(node)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n    });\n    if (!firstVisitMadeChanges) {\n        return doc;\n    }\n    var populateTransitiveVars = function (inUse) {\n        if (!inUse.transitiveVars) {\n            inUse.transitiveVars = new Set(inUse.variables);\n            if (!inUse.removed) {\n                inUse.fragmentSpreads.forEach(function (childFragmentName) {\n                    populateTransitiveVars(getInUseByFragmentName(childFragmentName)).transitiveVars.forEach(function (varName) {\n                        inUse.transitiveVars.add(varName);\n                    });\n                });\n            }\n        }\n        return inUse;\n    };\n    var allFragmentNamesUsed = new Set();\n    docWithoutDirectiveSubtrees.definitions.forEach(function (def) {\n        if (def.kind === Kind.OPERATION_DEFINITION) {\n            populateTransitiveVars(getInUseByOperationName(def.name && def.name.value)).fragmentSpreads.forEach(function (childFragmentName) {\n                allFragmentNamesUsed.add(childFragmentName);\n            });\n        }\n        else if (def.kind === Kind.FRAGMENT_DEFINITION &&\n            operationCount === 0 &&\n            !getInUseByFragmentName(def.name.value).removed) {\n            allFragmentNamesUsed.add(def.name.value);\n        }\n    });\n    allFragmentNamesUsed.forEach(function (fragmentName) {\n        populateTransitiveVars(getInUseByFragmentName(fragmentName)).fragmentSpreads.forEach(function (childFragmentName) {\n            allFragmentNamesUsed.add(childFragmentName);\n        });\n    });\n    var fragmentWillBeRemoved = function (fragmentName) { return !!(!allFragmentNamesUsed.has(fragmentName) ||\n        getInUseByFragmentName(fragmentName).removed); };\n    var enterVisitor = {\n        enter: function (node) {\n            if (fragmentWillBeRemoved(node.name.value)) {\n                return null;\n            }\n        },\n    };\n    return nullIfDocIsEmpty(visit(docWithoutDirectiveSubtrees, {\n        FragmentSpread: enterVisitor,\n        FragmentDefinition: enterVisitor,\n        OperationDefinition: {\n            leave: function (node) {\n                if (node.variableDefinitions) {\n                    var usedVariableNames_1 = populateTransitiveVars(getInUseByOperationName(node.name && node.name.value)).transitiveVars;\n                    if (usedVariableNames_1.size < node.variableDefinitions.length) {\n                        return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions.filter(function (varDef) { return usedVariableNames_1.has(varDef.variable.name.value); }) });\n                    }\n                }\n            },\n        },\n    }));\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === Kind.OPERATION_DEFINITION) {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === Kind.VARIABLE &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    return modifiedDoc;\n}\n//# sourceMappingURL=transform.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map", "import { __assign, __rest as __rest_1, __spreadArray } from \"tslib\";\nimport { __rest } from \"tslib\";\nimport { mergeDeep } from '../common/mergeDeep';\nexport function concatPagination(keyArgs) {\n    if (keyArgs === void 0) { keyArgs = false; }\n    return {\n        keyArgs: keyArgs,\n        merge: function (existing, incoming) {\n            return existing ? __spreadArray(__spreadArray([], existing, true), incoming, true) : incoming;\n        },\n    };\n}\nexport function offsetLimitPagination(keyArgs) {\n    if (keyArgs === void 0) { keyArgs = false; }\n    return {\n        keyArgs: keyArgs,\n        merge: function (existing, incoming, _a) {\n            var args = _a.args;\n            var merged = existing ? existing.slice(0) : [];\n            if (incoming) {\n                if (args) {\n                    var _b = args.offset, offset = _b === void 0 ? 0 : _b;\n                    for (var i = 0; i < incoming.length; ++i) {\n                        merged[offset + i] = incoming[i];\n                    }\n                }\n                else {\n                    merged.push.apply(merged, incoming);\n                }\n            }\n            return merged;\n        },\n    };\n}\nexport function relayStylePagination(keyArgs) {\n    if (keyArgs === void 0) { keyArgs = false; }\n    return {\n        keyArgs: keyArgs,\n        read: function (existing, _a) {\n            var canRead = _a.canRead, readField = _a.readField;\n            if (!existing)\n                return existing;\n            var edges = [];\n            var firstEdgeCursor = \"\";\n            var lastEdgeCursor = \"\";\n            existing.edges.forEach(function (edge) {\n                if (canRead(readField(\"node\", edge))) {\n                    edges.push(edge);\n                    if (edge.cursor) {\n                        firstEdgeCursor = firstEdgeCursor || edge.cursor || \"\";\n                        lastEdgeCursor = edge.cursor || lastEdgeCursor;\n                    }\n                }\n            });\n            var _b = existing.pageInfo || {}, startCursor = _b.startCursor, endCursor = _b.endCursor;\n            return __assign(__assign({}, getExtras(existing)), { edges: edges, pageInfo: __assign(__assign({}, existing.pageInfo), { startCursor: startCursor || firstEdgeCursor, endCursor: endCursor || lastEdgeCursor }) });\n        },\n        merge: function (existing, incoming, _a) {\n            var args = _a.args, isReference = _a.isReference, readField = _a.readField;\n            if (!existing) {\n                existing = makeEmptyData();\n            }\n            if (!incoming) {\n                return existing;\n            }\n            var incomingEdges = incoming.edges ? incoming.edges.map(function (edge) {\n                if (isReference(edge = __assign({}, edge))) {\n                    edge.cursor = readField(\"cursor\", edge);\n                }\n                return edge;\n            }) : [];\n            if (incoming.pageInfo) {\n                var pageInfo_1 = incoming.pageInfo;\n                var startCursor = pageInfo_1.startCursor, endCursor = pageInfo_1.endCursor;\n                var firstEdge = incomingEdges[0];\n                var lastEdge = incomingEdges[incomingEdges.length - 1];\n                if (firstEdge && startCursor) {\n                    firstEdge.cursor = startCursor;\n                }\n                if (lastEdge && endCursor) {\n                    lastEdge.cursor = endCursor;\n                }\n                var firstCursor = firstEdge && firstEdge.cursor;\n                if (firstCursor && !startCursor) {\n                    incoming = mergeDeep(incoming, {\n                        pageInfo: {\n                            startCursor: firstCursor,\n                        },\n                    });\n                }\n                var lastCursor = lastEdge && lastEdge.cursor;\n                if (lastCursor && !endCursor) {\n                    incoming = mergeDeep(incoming, {\n                        pageInfo: {\n                            endCursor: lastCursor,\n                        },\n                    });\n                }\n            }\n            var prefix = existing.edges;\n            var suffix = [];\n            if (args && args.after) {\n                var index = prefix.findIndex(function (edge) { return edge.cursor === args.after; });\n                if (index >= 0) {\n                    prefix = prefix.slice(0, index + 1);\n                }\n            }\n            else if (args && args.before) {\n                var index = prefix.findIndex(function (edge) { return edge.cursor === args.before; });\n                suffix = index < 0 ? prefix : prefix.slice(index);\n                prefix = [];\n            }\n            else if (incoming.edges) {\n                prefix = [];\n            }\n            var edges = __spreadArray(__spreadArray(__spreadArray([], prefix, true), incomingEdges, true), suffix, true);\n            var pageInfo = __assign(__assign({}, incoming.pageInfo), existing.pageInfo);\n            if (incoming.pageInfo) {\n                var _b = incoming.pageInfo, hasPreviousPage = _b.hasPreviousPage, hasNextPage = _b.hasNextPage, startCursor = _b.startCursor, endCursor = _b.endCursor, extras = __rest_1(_b, [\"hasPreviousPage\", \"hasNextPage\", \"startCursor\", \"endCursor\"]);\n                Object.assign(pageInfo, extras);\n                if (!prefix.length) {\n                    if (void 0 !== hasPreviousPage)\n                        pageInfo.hasPreviousPage = hasPreviousPage;\n                    if (void 0 !== startCursor)\n                        pageInfo.startCursor = startCursor;\n                }\n                if (!suffix.length) {\n                    if (void 0 !== hasNextPage)\n                        pageInfo.hasNextPage = hasNextPage;\n                    if (void 0 !== endCursor)\n                        pageInfo.endCursor = endCursor;\n                }\n            }\n            return __assign(__assign(__assign({}, getExtras(existing)), getExtras(incoming)), { edges: edges, pageInfo: pageInfo });\n        },\n    };\n}\nvar getExtras = function (obj) { return __rest(obj, notExtras); };\nvar notExtras = [\"edges\", \"pageInfo\"];\nfunction makeEmptyData() {\n    return {\n        edges: [],\n        pageInfo: {\n            hasPreviousPage: false,\n            hasNextPage: true,\n            startCursor: \"\",\n            endCursor: \"\",\n        },\n    };\n}\n//# sourceMappingURL=pagination.js.map", "var toString = Object.prototype.toString;\nexport function cloneDeep(value) {\n    return cloneDeepHelper(value);\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n//# sourceMappingURL=cloneDeep.js.map", "import '../globals';\nimport { isNonNullObject } from './objects';\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isNonNullObject(obj) && shallowFreeze(obj) === obj) {\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isNonNullObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nfunction shallowFreeze(obj) {\n    if (__DEV__ && !Object.isFrozen(obj)) {\n        try {\n            Object.freeze(obj);\n        }\n        catch (e) {\n            if (e instanceof TypeError)\n                return null;\n            throw e;\n        }\n    }\n    return obj;\n}\nexport function maybeDeepFreeze(obj) {\n    if (__DEV__) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map", "export function iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\n//# sourceMappingURL=iteration.js.map", "import { Observable } from \"./Observable\";\nexport function asyncMap(observable, mapFn, catchFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeCallbackCount = 0;\n        var completed = false;\n        var promiseQueue = {\n            then: function (callback) {\n                return new Promise(function (resolve) { return resolve(callback()); });\n            },\n        };\n        function makeCallback(examiner, delegate) {\n            if (examiner) {\n                return function (arg) {\n                    ++activeCallbackCount;\n                    var both = function () { return examiner(arg); };\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\n                        --activeCallbackCount;\n                        next && next.call(observer, result);\n                        if (completed) {\n                            handler.complete();\n                        }\n                    }, function (error) {\n                        --activeCallbackCount;\n                        throw error;\n                    }).catch(function (caught) {\n                        error && error.call(observer, caught);\n                    });\n                };\n            }\n            else {\n                return function (arg) { return delegate && delegate.call(observer, arg); };\n            }\n        }\n        var handler = {\n            next: makeCallback(mapFn, next),\n            error: makeCallback(catchFn, error),\n            complete: function () {\n                completed = true;\n                if (!activeCallbackCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n//# sourceMappingURL=asyncMap.js.map", "import { maybe } from \"../globals\";\nexport var canUseWeakMap = typeof WeakMap === 'function' &&\n    maybe(function () { return navigator.product; }) !== 'ReactNative';\nexport var canUseWeakSet = typeof WeakSet === 'function';\nexport var canUseSymbol = typeof Symbol === 'function' &&\n    typeof Symbol.for === 'function';\nexport var canUseAsyncIteratorSymbol = canUseSymbol && Symbol.asyncIterator;\nexport var canUseDOM = typeof maybe(function () { return window.document.createElement; }) === \"function\";\nvar usingJSDOM = maybe(function () { return navigator.userAgent.indexOf(\"jsdom\") >= 0; }) || false;\nexport var canUseLayoutEffect = canUseDOM && !usingJSDOM;\n//# sourceMappingURL=canUse.js.map", "import { Observable } from \"./Observable\";\nimport { canUseSymbol } from \"../common/canUse\";\nexport function fixObservableSubclass(subclass) {\n    function set(key) {\n        Object.defineProperty(subclass, key, { value: Observable });\n    }\n    if (canUseSymbol && Symbol.species) {\n        set(Symbol.species);\n    }\n    set(\"@@species\");\n    return subclass;\n}\n//# sourceMappingURL=subclassing.js.map", "import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable\";\nimport { iterateObserversSafely } from \"./iteration\";\nimport { fixObservableSubclass } from \"./subclassing\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    _this.notify(\"next\", result);\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    _this.notify(\"error\", error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var _a = _this, sub = _a.sub, _b = _a.sources, sources = _b === void 0 ? [] : _b;\n                if (sub !== null) {\n                    var value = sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        _this.notify(\"complete\");\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.nextResultListeners = new Set();\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n        }\n    };\n    Concast.prototype.removeObserver = function (observer) {\n        if (this.observers.delete(observer) &&\n            this.observers.size < 1) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.notify = function (method, arg) {\n        var nextResultListeners = this.nextResultListeners;\n        if (nextResultListeners.size) {\n            this.nextResultListeners = new Set;\n            nextResultListeners.forEach(function (listener) { return listener(method, arg); });\n        }\n    };\n    Concast.prototype.beforeNext = function (callback) {\n        var called = false;\n        this.nextResultListeners.add(function (method, arg) {\n            if (!called) {\n                called = true;\n                callback(method, arg);\n            }\n        });\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n//# sourceMappingURL=Concast.js.map", "import { isNonEmptyArray } from \"./arrays\";\nimport { DeepMerger } from \"./mergeDeep\";\nexport function isExecutionPatchIncrementalResult(value) {\n    return \"incremental\" in value;\n}\nexport function isExecutionPatchInitialResult(value) {\n    return \"hasNext\" in value && \"data\" in value;\n}\nexport function isExecutionPatchResult(value) {\n    return (isExecutionPatchIncrementalResult(value) ||\n        isExecutionPatchInitialResult(value));\n}\nexport function mergeIncrementalData(prevResult, result) {\n    var mergedData = prevResult;\n    var merger = new DeepMerger();\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (_a) {\n            var data = _a.data, path = _a.path;\n            for (var i = path.length - 1; i >= 0; --i) {\n                var key = path[i];\n                var isNumericKey = !isNaN(+key);\n                var parent_1 = isNumericKey ? [] : {};\n                parent_1[key] = data;\n                data = parent_1;\n            }\n            mergedData = merger.merge(mergedData, data);\n        });\n    }\n    return mergedData;\n}\n//# sourceMappingURL=incrementalResult.js.map", "import { isNonEmptyArray } from \"../../utilities/common/arrays\";\nimport { isExecutionPatchIncrementalResult } from \"../../utilities/common/incrementalResult\";\nexport function graphQLResultHasError(result) {\n    var errors = getGraphQLErrorsFromResult(result);\n    return isNonEmptyArray(errors);\n}\nexport function getGraphQLErrorsFromResult(result) {\n    var graphQLErrors = isNonEmptyArray(result.errors)\n        ? result.errors.slice(0)\n        : [];\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (incrementalResult) {\n            if (incrementalResult.errors) {\n                graphQLErrors.push.apply(graphQLErrors, incrementalResult.errors);\n            }\n        });\n    }\n    return graphQLErrors;\n}\n//# sourceMappingURL=errorHandling.js.map", "export function compact() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    var result = Object.create(null);\n    objects.forEach(function (obj) {\n        if (!obj)\n            return;\n        Object.keys(obj).forEach(function (key) {\n            var value = obj[key];\n            if (value !== void 0) {\n                result[key] = value;\n            }\n        });\n    });\n    return result;\n}\n//# sourceMappingURL=compact.js.map", "var prefixCounts = new Map();\nexport function makeUniqueId(prefix) {\n    var count = prefixCounts.get(prefix) || 1;\n    prefixCounts.set(prefix, count + 1);\n    return \"\".concat(prefix, \":\").concat(count, \":\").concat(Math.random().toString(36).slice(2));\n}\n//# sourceMappingURL=makeUniqueId.js.map", "import { makeUniqueId } from \"./makeUniqueId\";\nexport function stringifyForDisplay(value) {\n    var undefId = makeUniqueId(\"stringifyForDisplay\");\n    return JSON.stringify(value, function (key, value) {\n        return value === void 0 ? undefId : value;\n    }).split(JSON.stringify(undefId)).join(\"<undefined>\");\n}\n//# sourceMappingURL=stringifyForDisplay.js.map", "import { __assign } from \"tslib\";\nimport { compact } from \"./compact\";\nexport function mergeOptions(defaults, options) {\n    return compact(defaults, options, options.variables && {\n        variables: __assign(__assign({}, (defaults && defaults.variables)), options.variables),\n    });\n}\n//# sourceMappingURL=mergeOptions.js.map", "import { Observable } from '../../utilities';\nexport function fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\n//# sourceMappingURL=fromError.js.map", "import { invariant } from '../../utilities/globals';\nexport function toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    __DEV__ && invariant.warn(\"Promise Wrapper does not support multiple results from Observable\");\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\n//# sourceMappingURL=toPromise.js.map", "import { Observable } from '../../utilities';\nexport function fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\n//# sourceMappingURL=fromPromise.js.map", "export var throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\n//# sourceMappingURL=throwServerError.js.map", "import { InvariantError } from '../../utilities/globals';\nexport function validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw __DEV__ ? new InvariantError(\"illegal argument: \".concat(key)) : new InvariantError(27);\n        }\n    }\n    return operation;\n}\n//# sourceMappingURL=validateOperation.js.map", "import { __assign } from \"tslib\";\nexport function createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign(__assign({}, context), next(context));\n        }\n        else {\n            context = __assign(__assign({}, context), next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    return operation;\n}\n//# sourceMappingURL=createOperation.js.map", "import { getOperationName } from '../../utilities';\nexport function transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query) || undefined\n                : '';\n    }\n    return transformedOperation;\n}\n//# sourceMappingURL=transformOperation.js.map", "import { __extends } from \"tslib\";\nimport { InvariantError, invariant } from '../../utilities/globals';\nimport { Observable } from '../../utilities';\nimport { validateOperation, createOperation, transformOperation, } from '../utils';\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            return new ApolloLink(function (operation) {\n                return test(operation)\n                    ? leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return test(operation)\n                    ? leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        if (isTerminating(nextLink)) {\n            return new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(22);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            return false;\n        }\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map", "import { ApolloLink } from './ApolloLink';\nexport var empty = ApolloLink.empty;\n//# sourceMappingURL=empty.js.map", "import { ApolloLink } from './ApolloLink';\nexport var from = ApolloLink.from;\n//# sourceMappingURL=from.js.map", "import { ApolloLink } from './ApolloLink';\nexport var split = ApolloLink.split;\n//# sourceMappingURL=split.js.map", "import { ApolloLink } from './ApolloLink';\nexport var concat = ApolloLink.concat;\n//# sourceMappingURL=concat.js.map", "import { ApolloLink } from './ApolloLink';\nexport var execute = ApolloLink.execute;\n//# sourceMappingURL=execute.js.map", "import { maybe } from \"../globals\";\nexport var canUseWeakMap = typeof WeakMap === 'function' &&\n    maybe(function () { return navigator.product; }) !== 'ReactNative';\nexport var canUseWeakSet = typeof WeakSet === 'function';\nexport var canUseSymbol = typeof Symbol === 'function' &&\n    typeof Symbol.for === 'function';\nexport var canUseAsyncIteratorSymbol = canUseSymbol && Symbol.asyncIterator;\nexport var canUseDOM = typeof maybe(function () { return window.document.createElement; }) === \"function\";\nvar usingJSDOM = maybe(function () { return navigator.userAgent.indexOf(\"jsdom\") >= 0; }) || false;\nexport var canUseLayoutEffect = canUseDOM && !usingJSDOM;\n//# sourceMappingURL=canUse.js.map", "import { canUseAsyncIteratorSymbol } from \"./canUse\";\nexport function isNodeResponse(value) {\n    return !!value.body;\n}\nexport function isReadableStream(value) {\n    return !!value.getReader;\n}\nexport function isAsyncIterableIterator(value) {\n    return !!(canUseAsyncIteratorSymbol &&\n        value[Symbol.asyncIterator]);\n}\nexport function isStreamableBlob(value) {\n    return !!value.stream;\n}\nexport function isBlob(value) {\n    return !!value.arrayBuffer;\n}\nexport function isNodeReadableStream(value) {\n    return !!value.pipe;\n}\n//# sourceMappingURL=responseIterator.js.map", "export default function asyncIterator(source) {\n    var _a;\n    var iterator = source[Symbol.asyncIterator]();\n    return _a = {\n            next: function () {\n                return iterator.next();\n            }\n        },\n        _a[Symbol.asyncIterator] = function () {\n            return this;\n        },\n        _a;\n}\n//# sourceMappingURL=async.js.map", "import { canUseAsyncIteratorSymbol } from \"../../../utilities\";\nexport default function nodeStreamIterator(stream) {\n    var cleanup = null;\n    var error = null;\n    var done = false;\n    var data = [];\n    var waiting = [];\n    function onData(chunk) {\n        if (error)\n            return;\n        if (waiting.length) {\n            var shiftedArr = waiting.shift();\n            if (Array.isArray(shiftedArr) && shiftedArr[0]) {\n                return shiftedArr[0]({ value: chunk, done: false });\n            }\n        }\n        data.push(chunk);\n    }\n    function onError(err) {\n        error = err;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[1](err);\n        });\n        !cleanup || cleanup();\n    }\n    function onEnd() {\n        done = true;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[0]({ value: undefined, done: true });\n        });\n        !cleanup || cleanup();\n    }\n    cleanup = function () {\n        cleanup = null;\n        stream.removeListener(\"data\", onData);\n        stream.removeListener(\"error\", onError);\n        stream.removeListener(\"end\", onEnd);\n        stream.removeListener(\"finish\", onEnd);\n        stream.removeListener(\"close\", onEnd);\n    };\n    stream.on(\"data\", onData);\n    stream.on(\"error\", onError);\n    stream.on(\"end\", onEnd);\n    stream.on(\"finish\", onEnd);\n    stream.on(\"close\", onEnd);\n    function getNext() {\n        return new Promise(function (resolve, reject) {\n            if (error)\n                return reject(error);\n            if (data.length)\n                return resolve({ value: data.shift(), done: false });\n            if (done)\n                return resolve({ value: undefined, done: true });\n            waiting.push([resolve, reject]);\n        });\n    }\n    var iterator = {\n        next: function () {\n            return getNext();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=nodeStream.js.map", "import { canUseAsyncIteratorSymbol } from \"../../../utilities\";\nexport default function promiseIterator(promise) {\n    var resolved = false;\n    var iterator = {\n        next: function () {\n            if (resolved)\n                return Promise.resolve({\n                    value: undefined,\n                    done: true,\n                });\n            resolved = true;\n            return new Promise(function (resolve, reject) {\n                promise\n                    .then(function (value) {\n                    resolve({ value: value, done: false });\n                })\n                    .catch(reject);\n            });\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=promise.js.map", "import { canUseAsyncIteratorSymbol } from \"../../../utilities\";\nexport default function readerIterator(reader) {\n    var iterator = {\n        next: function () {\n            return reader.read();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=reader.js.map", "import { isAsyncIterableIterator, isBlob, isNodeResponse, isNodeReadableStream, isReadableStream, isStreamableBlob, } from \"../../utilities/common/responseIterator\";\nimport asyncIterator from \"./iterators/async\";\nimport nodeStreamIterator from \"./iterators/nodeStream\";\nimport promiseIterator from \"./iterators/promise\";\nimport readerIterator from \"./iterators/reader\";\nexport function responseIterator(response) {\n    var body = response;\n    if (isNodeResponse(response))\n        body = response.body;\n    if (isAsyncIterableIterator(body))\n        return asyncIterator(body);\n    if (isReadableStream(body))\n        return readerIterator(body.getReader());\n    if (isStreamableBlob(body)) {\n        return readerIterator(body.stream().getReader());\n    }\n    if (isBlob(body))\n        return promiseIterator(body.arrayBuffer());\n    if (isNodeReadableStream(body))\n        return nodeStreamIterator(body);\n    throw new Error(\"Unknown body type for responseIterator. Please pass a streamable response.\");\n}\n//# sourceMappingURL=responseIterator.js.map", "import { __awaiter, __generator } from \"tslib\";\nimport { responseIterator } from \"./responseIterator\";\nimport { throwServerError } from \"../utils\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function readMultipartBody(response, observer) {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function () {\n        var decoder, contentType, delimiter, boundaryVal, boundary, buffer, iterator, running, _d, value, done, chunk, bi, message, i, headers, contentType_1, body, result;\n        var _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    if (TextDecoder === undefined) {\n                        throw new Error(\"TextDecoder must be defined in the environment: please import a polyfill.\");\n                    }\n                    decoder = new TextDecoder(\"utf-8\");\n                    contentType = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get('content-type');\n                    delimiter = \"boundary=\";\n                    boundaryVal = (contentType === null || contentType === void 0 ? void 0 : contentType.includes(delimiter))\n                        ? contentType === null || contentType === void 0 ? void 0 : contentType.substring((contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(delimiter)) + delimiter.length).replace(/['\"]/g, \"\").replace(/\\;(.*)/gm, \"\").trim()\n                        : \"-\";\n                    boundary = \"--\".concat(boundaryVal);\n                    buffer = \"\";\n                    iterator = responseIterator(response);\n                    running = true;\n                    _f.label = 1;\n                case 1:\n                    if (!running) return [3, 3];\n                    return [4, iterator.next()];\n                case 2:\n                    _d = _f.sent(), value = _d.value, done = _d.done;\n                    chunk = typeof value === \"string\" ? value : decoder.decode(value);\n                    running = !done;\n                    buffer += chunk;\n                    bi = buffer.indexOf(boundary);\n                    while (bi > -1) {\n                        message = void 0;\n                        _e = [\n                            buffer.slice(0, bi),\n                            buffer.slice(bi + boundary.length),\n                        ], message = _e[0], buffer = _e[1];\n                        if (message.trim()) {\n                            i = message.indexOf(\"\\r\\n\\r\\n\");\n                            headers = parseHeaders(message.slice(0, i));\n                            contentType_1 = headers[\"content-type\"];\n                            if (contentType_1 &&\n                                contentType_1.toLowerCase().indexOf(\"application/json\") === -1) {\n                                throw new Error(\"Unsupported patch content type: application/json is required.\");\n                            }\n                            body = message.slice(i);\n                            try {\n                                result = parseJsonBody(response, body.replace(\"\\r\\n\", \"\"));\n                                if (Object.keys(result).length > 1 ||\n                                    \"data\" in result ||\n                                    \"incremental\" in result ||\n                                    \"errors\" in result) {\n                                    (_b = observer.next) === null || _b === void 0 ? void 0 : _b.call(observer, result);\n                                }\n                            }\n                            catch (err) {\n                                handleError(err, observer);\n                            }\n                        }\n                        bi = buffer.indexOf(boundary);\n                    }\n                    return [3, 1];\n                case 3:\n                    (_c = observer.complete) === null || _c === void 0 ? void 0 : _c.call(observer);\n                    return [2];\n            }\n        });\n    });\n}\nexport function parseHeaders(headerText) {\n    var headersInit = {};\n    headerText.split(\"\\n\").forEach(function (line) {\n        var i = line.indexOf(\":\");\n        if (i > -1) {\n            var name_1 = line.slice(0, i).trim().toLowerCase();\n            var value = line.slice(i + 1).trim();\n            headersInit[name_1] = value;\n        }\n    });\n    return headersInit;\n}\nexport function parseJsonBody(response, bodyText) {\n    if (response.status >= 300) {\n        var getResult = function () {\n            try {\n                return JSON.parse(bodyText);\n            }\n            catch (err) {\n                return bodyText;\n            }\n        };\n        throwServerError(response, getResult(), \"Response not successful: Received status code \".concat(response.status));\n    }\n    try {\n        return JSON.parse(bodyText);\n    }\n    catch (err) {\n        var parseError = err;\n        parseError.name = \"ServerParseError\";\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n    }\n}\nexport function handleError(err, observer) {\n    var _a, _b;\n    if (err.name === \"AbortError\")\n        return;\n    if (err.result && err.result.errors && err.result.data) {\n        (_a = observer.next) === null || _a === void 0 ? void 0 : _a.call(observer, err.result);\n    }\n    (_b = observer.error) === null || _b === void 0 ? void 0 : _b.call(observer, err);\n}\nexport function readJsonBody(response, operation, observer) {\n    parseAndCheckHttpResponse(operation)(response)\n        .then(function (result) {\n        var _a, _b;\n        (_a = observer.next) === null || _a === void 0 ? void 0 : _a.call(observer, result);\n        (_b = observer.complete) === null || _b === void 0 ? void 0 : _b.call(observer);\n    })\n        .catch(function (err) { return handleError(err, observer); });\n}\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) {\n        return response\n            .text()\n            .then(function (bodyText) { return parseJsonBody(response, bodyText); })\n            .then(function (result) {\n            if (response.status >= 300) {\n                throwServerError(response, result, \"Response not successful: Received status code \".concat(response.status));\n            }\n            if (!Array.isArray(result) &&\n                !hasOwnProperty.call(result, \"data\") &&\n                !hasOwnProperty.call(result, \"errors\")) {\n                throwServerError(response, result, \"Server response was missing for query '\".concat(Array.isArray(operations)\n                    ? operations.map(function (op) { return op.operationName; })\n                    : operations.operationName, \"'.\"));\n            }\n            return result;\n        });\n    };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map", "import { InvariantError } from '../../utilities/globals';\nexport var serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \".concat(label, \" is not serializable: \").concat(e.message)) : new InvariantError(24);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\n//# sourceMappingURL=serializeFetchParameter.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { print } from 'graphql';\n;\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n    preserveHeaderCase: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nexport var fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nexport var defaultPrinter = function (ast, printer) { return printer(ast); };\nexport function selectHttpOptionsAndBody(operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    configs.unshift(fallbackConfig);\n    return selectHttpOptionsAndBodyInternal.apply(void 0, __spreadArray([operation,\n        defaultPrinter], configs, false));\n}\nexport function selectHttpOptionsAndBodyInternal(operation, printer) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = {};\n    var http = {};\n    configs.forEach(function (config) {\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), config.headers) });\n        if (config.credentials) {\n            options.credentials = config.credentials;\n        }\n        http = __assign(__assign({}, http), config.http);\n    });\n    if (options.headers) {\n        options.headers = removeDuplicateHeaders(options.headers, http.preserveHeaderCase);\n    }\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = printer(query, print);\n    return {\n        options: options,\n        body: body,\n    };\n}\n;\nfunction removeDuplicateHeaders(headers, preserveHeaderCase) {\n    if (!preserveHeaderCase) {\n        var normalizedHeaders_1 = Object.create(null);\n        Object.keys(Object(headers)).forEach(function (name) {\n            normalizedHeaders_1[name.toLowerCase()] = headers[name];\n        });\n        return normalizedHeaders_1;\n    }\n    var headerData = Object.create(null);\n    Object.keys(Object(headers)).forEach(function (name) {\n        headerData[name.toLowerCase()] = { originalName: name, value: headers[name] };\n    });\n    var normalizedHeaders = Object.create(null);\n    Object.keys(headerData).forEach(function (name) {\n        normalizedHeaders[headerData[name].originalName] = headerData[name].value;\n    });\n    return normalizedHeaders;\n}\n//# sourceMappingURL=selectHttpOptionsAndBody.js.map", "import { InvariantError } from '../../utilities/globals';\nexport var checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(23);\n    }\n};\n//# sourceMappingURL=checkFetcher.js.map", "export var createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\n//# sourceMappingURL=createSignalIfSupported.js.map", "export var selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n//# sourceMappingURL=selectURI.js.map", "import { serializeFetchParameter } from './serializeFetchParameter';\nexport function rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(\"\".concat(key, \"=\").concat(encodeURIComponent(value)));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\n//# sourceMappingURL=rewriteURIForGET.js.map", "import { __assign, __rest } from \"tslib\";\nimport '../../utilities/globals';\nimport { visit } from 'graphql';\nimport { ApolloLink } from '../core';\nimport { Observable, hasDirectives } from '../../utilities';\nimport { serializeFetchParameter } from './serializeFetchParameter';\nimport { selectURI } from './selectURI';\nimport { handleError, readMultipartBody, readJsonBody } from './parseAndCheckHttpResponse';\nimport { checkFetcher } from './checkFetcher';\nimport { selectHttpOptionsAndBodyInternal, defaultPrinter, fallbackHttpConfig } from './selectHttpOptionsAndBody';\nimport { createSignalIfSupported } from './createSignalIfSupported';\nimport { rewriteURIForGET } from './rewriteURIForGET';\nimport { fromError } from '../utils';\nimport { maybe } from '../../utilities';\nvar backupFetch = maybe(function () { return fetch; });\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, _b = linkOptions.print, print = _b === void 0 ? defaultPrinter : _b, includeExtensions = linkOptions.includeExtensions, preserveHeaderCase = linkOptions.preserveHeaderCase, useGETForQueries = linkOptions.useGETForQueries, _c = linkOptions.includeUnusedVariables, includeUnusedVariables = _c === void 0 ? false : _c, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"print\", \"includeExtensions\", \"preserveHeaderCase\", \"useGETForQueries\", \"includeUnusedVariables\"]);\n    if (__DEV__) {\n        checkFetcher(preferredFetch || backupFetch);\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions, preserveHeaderCase: preserveHeaderCase },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBodyInternal(operation, print, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        if (body.variables && !includeUnusedVariables) {\n            var unusedNames_1 = new Set(Object.keys(body.variables));\n            visit(operation.query, {\n                Variable: function (node, _key, parent) {\n                    if (parent && parent.kind !== 'VariableDefinition') {\n                        unusedNames_1.delete(node.name.value);\n                    }\n                },\n            });\n            if (unusedNames_1.size) {\n                body.variables = __assign({}, body.variables);\n                unusedNames_1.forEach(function (name) {\n                    delete body.variables[name];\n                });\n            }\n        }\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (hasDirectives(['defer'], operation.query)) {\n            options.headers = options.headers || {};\n            options.headers.accept = \"multipart/mixed; deferSpec=20220824, application/json\";\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\n            currentFetch(chosenURI, options)\n                .then(function (response) {\n                var _a;\n                operation.setContext({ response: response });\n                var ctype = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get('content-type');\n                if (ctype !== null && /^multipart\\/mixed/i.test(ctype)) {\n                    return readMultipartBody(response, observer);\n                }\n                else {\n                    return readJsonBody(response, operation, observer);\n                }\n            })\n                .catch(function (err) { return handleError(err, observer); });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\n//# sourceMappingURL=createHttpLink.js.map", "import { __extends } from \"tslib\";\nimport { ApolloLink } from '../core';\nimport { createHttpLink } from './createHttpLink';\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, createHttpLink(options).request) || this;\n        _this.options = options;\n        return _this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=HttpLink.js.map", "import { __assign, __rest } from \"tslib\";\nimport { wrap } from 'optimism';\nimport { getFragmentQueryDocument, } from '../../utilities';\nvar ApolloCache = (function () {\n    function ApolloCache() {\n        this.getFragmentDoc = wrap(getFragmentQueryDocument);\n    }\n    ApolloCache.prototype.batch = function (options) {\n        var _this = this;\n        var optimisticId = typeof options.optimistic === \"string\" ? options.optimistic :\n            options.optimistic === false ? null : void 0;\n        var updateResult;\n        this.performTransaction(function () { return updateResult = options.update(_this); }, optimisticId);\n        return updateResult;\n    };\n    ApolloCache.prototype.recordOptimisticTransaction = function (transaction, optimisticId) {\n        this.performTransaction(transaction, optimisticId);\n    };\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.identify = function (object) {\n        return;\n    };\n    ApolloCache.prototype.gc = function () {\n        return [];\n    };\n    ApolloCache.prototype.modify = function (options) {\n        return false;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { rootId: options.id || 'ROOT_QUERY', optimistic: optimistic }));\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { query: this.getFragmentDoc(options.fragment, options.fragmentName), rootId: options.id, optimistic: optimistic }));\n    };\n    ApolloCache.prototype.writeQuery = function (_a) {\n        var id = _a.id, data = _a.data, options = __rest(_a, [\"id\", \"data\"]);\n        return this.write(Object.assign(options, {\n            dataId: id || 'ROOT_QUERY',\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.writeFragment = function (_a) {\n        var id = _a.id, data = _a.data, fragment = _a.fragment, fragmentName = _a.fragmentName, options = __rest(_a, [\"id\", \"data\", \"fragment\", \"fragmentName\"]);\n        return this.write(Object.assign(options, {\n            query: this.getFragmentDoc(fragment, fragmentName),\n            dataId: id,\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.updateQuery = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readQuery(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeQuery(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    ApolloCache.prototype.updateFragment = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readFragment(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeFragment(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    return ApolloCache;\n}());\nexport { ApolloCache };\n//# sourceMappingURL=cache.js.map", "export var Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n//# sourceMappingURL=Cache.js.map", "import { __extends } from \"tslib\";\nvar MissingFieldError = (function (_super) {\n    __extends(MissingFieldError, _super);\n    function MissingFieldError(message, path, query, variables) {\n        var _a;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.path = path;\n        _this.query = query;\n        _this.variables = variables;\n        if (Array.isArray(_this.path)) {\n            _this.missing = _this.message;\n            for (var i = _this.path.length - 1; i >= 0; --i) {\n                _this.missing = (_a = {}, _a[_this.path[i]] = _this.missing, _a);\n            }\n        }\n        else {\n            _this.missing = _this.path;\n        }\n        _this.__proto__ = MissingFieldError.prototype;\n        return _this;\n    }\n    return MissingFieldError;\n}(Error));\nexport { MissingFieldError };\n//# sourceMappingURL=common.js.map", "import { isReference, isField, DeepMerger, resultKeyNameFromField, shouldInclude, isNonNullObject, compact, createFragmentMap, getFragmentDefinitions, isArray, } from '../../utilities';\nexport var hasOwn = Object.prototype.hasOwnProperty;\nexport function isNullish(value) {\n    return value === null || value === void 0;\n}\nexport { isArray };\nexport function defaultDataIdFromObject(_a, context) {\n    var __typename = _a.__typename, id = _a.id, _id = _a._id;\n    if (typeof __typename === \"string\") {\n        if (context) {\n            context.keyObject =\n                !isNullish(id) ? { id: id } :\n                    !isNullish(_id) ? { _id: _id } :\n                        void 0;\n        }\n        if (isNullish(id) && !isNullish(_id)) {\n            id = _id;\n        }\n        if (!isNullish(id)) {\n            return \"\".concat(__typename, \":\").concat((typeof id === \"number\" ||\n                typeof id === \"string\") ? id : JSON.stringify(id));\n        }\n    }\n}\nvar defaultConfig = {\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    canonizeResults: false,\n};\nexport function normalizeConfig(config) {\n    return compact(defaultConfig, config);\n}\nexport function shouldCanonizeResults(config) {\n    var value = config.canonizeResults;\n    return value === void 0 ? defaultConfig.canonizeResults : value;\n}\nexport function getTypenameFromStoreObject(store, objectOrReference) {\n    return isReference(objectOrReference)\n        ? store.get(objectOrReference.__ref, \"__typename\")\n        : objectOrReference && objectOrReference.__typename;\n}\nexport var TypeOrFieldNameRegExp = /^[_a-z][_0-9a-z]*/i;\nexport function fieldNameFromStoreName(storeFieldName) {\n    var match = storeFieldName.match(TypeOrFieldNameRegExp);\n    return match ? match[0] : storeFieldName;\n}\nexport function selectionSetMatchesResult(selectionSet, result, variables) {\n    if (isNonNullObject(result)) {\n        return isArray(result)\n            ? result.every(function (item) { return selectionSetMatchesResult(selectionSet, item, variables); })\n            : selectionSet.selections.every(function (field) {\n                if (isField(field) && shouldInclude(field, variables)) {\n                    var key = resultKeyNameFromField(field);\n                    return hasOwn.call(result, key) &&\n                        (!field.selectionSet ||\n                            selectionSetMatchesResult(field.selectionSet, result[key], variables));\n                }\n                return true;\n            });\n    }\n    return false;\n}\nexport function storeValueIsStoreObject(value) {\n    return isNonNullObject(value) &&\n        !isReference(value) &&\n        !isArray(value);\n}\nexport function makeProcessedFieldsMerger() {\n    return new DeepMerger;\n}\nexport function extractFragmentContext(document, fragments) {\n    var fragmentMap = createFragmentMap(getFragmentDefinitions(document));\n    return {\n        fragmentMap: fragmentMap,\n        lookupFragment: function (name) {\n            var def = fragmentMap[name];\n            if (!def && fragments) {\n                def = fragments.lookup(name);\n            }\n            return def || null;\n        },\n    };\n}\n//# sourceMappingURL=helpers.js.map", "import { __assign, __extends, __rest } from \"tslib\";\nimport { invariant } from '../../utilities/globals';\nimport { dep } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { isReference, makeReference, DeepMerger, maybeDeepFreeze, canUseWeakMap, isNonNullObject, } from '../../utilities';\nimport { hasOwn, fieldNameFromStoreName } from './helpers';\nvar DELETE = Object.create(null);\nvar delModifier = function () { return DELETE; };\nvar INVALIDATE = Object.create(null);\nvar EntityStore = (function () {\n    function EntityStore(policies, group) {\n        var _this = this;\n        this.policies = policies;\n        this.group = group;\n        this.data = Object.create(null);\n        this.rootIds = Object.create(null);\n        this.refs = Object.create(null);\n        this.getFieldValue = function (objectOrReference, storeFieldName) { return maybeDeepFreeze(isReference(objectOrReference)\n            ? _this.get(objectOrReference.__ref, storeFieldName)\n            : objectOrReference && objectOrReference[storeFieldName]); };\n        this.canRead = function (objOrRef) {\n            return isReference(objOrRef)\n                ? _this.has(objOrRef.__ref)\n                : typeof objOrRef === \"object\";\n        };\n        this.toReference = function (objOrIdOrRef, mergeIntoStore) {\n            if (typeof objOrIdOrRef === \"string\") {\n                return makeReference(objOrIdOrRef);\n            }\n            if (isReference(objOrIdOrRef)) {\n                return objOrIdOrRef;\n            }\n            var id = _this.policies.identify(objOrIdOrRef)[0];\n            if (id) {\n                var ref = makeReference(id);\n                if (mergeIntoStore) {\n                    _this.merge(id, objOrIdOrRef);\n                }\n                return ref;\n            }\n        };\n    }\n    EntityStore.prototype.toObject = function () {\n        return __assign({}, this.data);\n    };\n    EntityStore.prototype.has = function (dataId) {\n        return this.lookup(dataId, true) !== void 0;\n    };\n    EntityStore.prototype.get = function (dataId, fieldName) {\n        this.group.depend(dataId, fieldName);\n        if (hasOwn.call(this.data, dataId)) {\n            var storeObject = this.data[dataId];\n            if (storeObject && hasOwn.call(storeObject, fieldName)) {\n                return storeObject[fieldName];\n            }\n        }\n        if (fieldName === \"__typename\" &&\n            hasOwn.call(this.policies.rootTypenamesById, dataId)) {\n            return this.policies.rootTypenamesById[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.get(dataId, fieldName);\n        }\n    };\n    EntityStore.prototype.lookup = function (dataId, dependOnExistence) {\n        if (dependOnExistence)\n            this.group.depend(dataId, \"__exists\");\n        if (hasOwn.call(this.data, dataId)) {\n            return this.data[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.lookup(dataId, dependOnExistence);\n        }\n        if (this.policies.rootTypenamesById[dataId]) {\n            return Object.create(null);\n        }\n    };\n    EntityStore.prototype.merge = function (older, newer) {\n        var _this = this;\n        var dataId;\n        if (isReference(older))\n            older = older.__ref;\n        if (isReference(newer))\n            newer = newer.__ref;\n        var existing = typeof older === \"string\"\n            ? this.lookup(dataId = older)\n            : older;\n        var incoming = typeof newer === \"string\"\n            ? this.lookup(dataId = newer)\n            : newer;\n        if (!incoming)\n            return;\n        __DEV__ ? invariant(typeof dataId === \"string\", \"store.merge expects a string ID\") : invariant(typeof dataId === \"string\", 1);\n        var merged = new DeepMerger(storeObjectReconciler).merge(existing, incoming);\n        this.data[dataId] = merged;\n        if (merged !== existing) {\n            delete this.refs[dataId];\n            if (this.group.caching) {\n                var fieldsToDirty_1 = Object.create(null);\n                if (!existing)\n                    fieldsToDirty_1.__exists = 1;\n                Object.keys(incoming).forEach(function (storeFieldName) {\n                    if (!existing || existing[storeFieldName] !== merged[storeFieldName]) {\n                        fieldsToDirty_1[storeFieldName] = 1;\n                        var fieldName = fieldNameFromStoreName(storeFieldName);\n                        if (fieldName !== storeFieldName &&\n                            !_this.policies.hasKeyArgs(merged.__typename, fieldName)) {\n                            fieldsToDirty_1[fieldName] = 1;\n                        }\n                        if (merged[storeFieldName] === void 0 && !(_this instanceof Layer)) {\n                            delete merged[storeFieldName];\n                        }\n                    }\n                });\n                if (fieldsToDirty_1.__typename &&\n                    !(existing && existing.__typename) &&\n                    this.policies.rootTypenamesById[dataId] === merged.__typename) {\n                    delete fieldsToDirty_1.__typename;\n                }\n                Object.keys(fieldsToDirty_1).forEach(function (fieldName) { return _this.group.dirty(dataId, fieldName); });\n            }\n        }\n    };\n    EntityStore.prototype.modify = function (dataId, fields) {\n        var _this = this;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var changedFields_1 = Object.create(null);\n            var needToMerge_1 = false;\n            var allDeleted_1 = true;\n            var sharedDetails_1 = {\n                DELETE: DELETE,\n                INVALIDATE: INVALIDATE,\n                isReference: isReference,\n                toReference: this.toReference,\n                canRead: this.canRead,\n                readField: function (fieldNameOrOptions, from) { return _this.policies.readField(typeof fieldNameOrOptions === \"string\" ? {\n                    fieldName: fieldNameOrOptions,\n                    from: from || makeReference(dataId),\n                } : fieldNameOrOptions, { store: _this }); },\n            };\n            Object.keys(storeObject).forEach(function (storeFieldName) {\n                var fieldName = fieldNameFromStoreName(storeFieldName);\n                var fieldValue = storeObject[storeFieldName];\n                if (fieldValue === void 0)\n                    return;\n                var modify = typeof fields === \"function\"\n                    ? fields\n                    : fields[storeFieldName] || fields[fieldName];\n                if (modify) {\n                    var newValue = modify === delModifier ? DELETE :\n                        modify(maybeDeepFreeze(fieldValue), __assign(__assign({}, sharedDetails_1), { fieldName: fieldName, storeFieldName: storeFieldName, storage: _this.getStorage(dataId, storeFieldName) }));\n                    if (newValue === INVALIDATE) {\n                        _this.group.dirty(dataId, storeFieldName);\n                    }\n                    else {\n                        if (newValue === DELETE)\n                            newValue = void 0;\n                        if (newValue !== fieldValue) {\n                            changedFields_1[storeFieldName] = newValue;\n                            needToMerge_1 = true;\n                            fieldValue = newValue;\n                        }\n                    }\n                }\n                if (fieldValue !== void 0) {\n                    allDeleted_1 = false;\n                }\n            });\n            if (needToMerge_1) {\n                this.merge(dataId, changedFields_1);\n                if (allDeleted_1) {\n                    if (this instanceof Layer) {\n                        this.data[dataId] = void 0;\n                    }\n                    else {\n                        delete this.data[dataId];\n                    }\n                    this.group.dirty(dataId, \"__exists\");\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    EntityStore.prototype.delete = function (dataId, fieldName, args) {\n        var _a;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var typename = this.getFieldValue(storeObject, \"__typename\");\n            var storeFieldName = fieldName && args\n                ? this.policies.getStoreFieldName({ typename: typename, fieldName: fieldName, args: args })\n                : fieldName;\n            return this.modify(dataId, storeFieldName ? (_a = {},\n                _a[storeFieldName] = delModifier,\n                _a) : delModifier);\n        }\n        return false;\n    };\n    EntityStore.prototype.evict = function (options, limit) {\n        var evicted = false;\n        if (options.id) {\n            if (hasOwn.call(this.data, options.id)) {\n                evicted = this.delete(options.id, options.fieldName, options.args);\n            }\n            if (this instanceof Layer && this !== limit) {\n                evicted = this.parent.evict(options, limit) || evicted;\n            }\n            if (options.fieldName || evicted) {\n                this.group.dirty(options.id, options.fieldName || \"__exists\");\n            }\n        }\n        return evicted;\n    };\n    EntityStore.prototype.clear = function () {\n        this.replace(null);\n    };\n    EntityStore.prototype.extract = function () {\n        var _this = this;\n        var obj = this.toObject();\n        var extraRootIds = [];\n        this.getRootIdSet().forEach(function (id) {\n            if (!hasOwn.call(_this.policies.rootTypenamesById, id)) {\n                extraRootIds.push(id);\n            }\n        });\n        if (extraRootIds.length) {\n            obj.__META = { extraRootIds: extraRootIds.sort() };\n        }\n        return obj;\n    };\n    EntityStore.prototype.replace = function (newData) {\n        var _this = this;\n        Object.keys(this.data).forEach(function (dataId) {\n            if (!(newData && hasOwn.call(newData, dataId))) {\n                _this.delete(dataId);\n            }\n        });\n        if (newData) {\n            var __META = newData.__META, rest_1 = __rest(newData, [\"__META\"]);\n            Object.keys(rest_1).forEach(function (dataId) {\n                _this.merge(dataId, rest_1[dataId]);\n            });\n            if (__META) {\n                __META.extraRootIds.forEach(this.retain, this);\n            }\n        }\n    };\n    EntityStore.prototype.retain = function (rootId) {\n        return this.rootIds[rootId] = (this.rootIds[rootId] || 0) + 1;\n    };\n    EntityStore.prototype.release = function (rootId) {\n        if (this.rootIds[rootId] > 0) {\n            var count = --this.rootIds[rootId];\n            if (!count)\n                delete this.rootIds[rootId];\n            return count;\n        }\n        return 0;\n    };\n    EntityStore.prototype.getRootIdSet = function (ids) {\n        if (ids === void 0) { ids = new Set(); }\n        Object.keys(this.rootIds).forEach(ids.add, ids);\n        if (this instanceof Layer) {\n            this.parent.getRootIdSet(ids);\n        }\n        else {\n            Object.keys(this.policies.rootTypenamesById).forEach(ids.add, ids);\n        }\n        return ids;\n    };\n    EntityStore.prototype.gc = function () {\n        var _this = this;\n        var ids = this.getRootIdSet();\n        var snapshot = this.toObject();\n        ids.forEach(function (id) {\n            if (hasOwn.call(snapshot, id)) {\n                Object.keys(_this.findChildRefIds(id)).forEach(ids.add, ids);\n                delete snapshot[id];\n            }\n        });\n        var idsToRemove = Object.keys(snapshot);\n        if (idsToRemove.length) {\n            var root_1 = this;\n            while (root_1 instanceof Layer)\n                root_1 = root_1.parent;\n            idsToRemove.forEach(function (id) { return root_1.delete(id); });\n        }\n        return idsToRemove;\n    };\n    EntityStore.prototype.findChildRefIds = function (dataId) {\n        if (!hasOwn.call(this.refs, dataId)) {\n            var found_1 = this.refs[dataId] = Object.create(null);\n            var root = this.data[dataId];\n            if (!root)\n                return found_1;\n            var workSet_1 = new Set([root]);\n            workSet_1.forEach(function (obj) {\n                if (isReference(obj)) {\n                    found_1[obj.__ref] = true;\n                }\n                if (isNonNullObject(obj)) {\n                    Object.keys(obj).forEach(function (key) {\n                        var child = obj[key];\n                        if (isNonNullObject(child)) {\n                            workSet_1.add(child);\n                        }\n                    });\n                }\n            });\n        }\n        return this.refs[dataId];\n    };\n    EntityStore.prototype.makeCacheKey = function () {\n        return this.group.keyMaker.lookupArray(arguments);\n    };\n    return EntityStore;\n}());\nexport { EntityStore };\nvar CacheGroup = (function () {\n    function CacheGroup(caching, parent) {\n        if (parent === void 0) { parent = null; }\n        this.caching = caching;\n        this.parent = parent;\n        this.d = null;\n        this.resetCaching();\n    }\n    CacheGroup.prototype.resetCaching = function () {\n        this.d = this.caching ? dep() : null;\n        this.keyMaker = new Trie(canUseWeakMap);\n    };\n    CacheGroup.prototype.depend = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d(makeDepKey(dataId, storeFieldName));\n            var fieldName = fieldNameFromStoreName(storeFieldName);\n            if (fieldName !== storeFieldName) {\n                this.d(makeDepKey(dataId, fieldName));\n            }\n            if (this.parent) {\n                this.parent.depend(dataId, storeFieldName);\n            }\n        }\n    };\n    CacheGroup.prototype.dirty = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d.dirty(makeDepKey(dataId, storeFieldName), storeFieldName === \"__exists\" ? \"forget\" : \"setDirty\");\n        }\n    };\n    return CacheGroup;\n}());\nfunction makeDepKey(dataId, storeFieldName) {\n    return storeFieldName + '#' + dataId;\n}\nexport function maybeDependOnExistenceOfEntity(store, entityId) {\n    if (supportsResultCaching(store)) {\n        store.group.depend(entityId, \"__exists\");\n    }\n}\n(function (EntityStore) {\n    var Root = (function (_super) {\n        __extends(Root, _super);\n        function Root(_a) {\n            var policies = _a.policies, _b = _a.resultCaching, resultCaching = _b === void 0 ? true : _b, seed = _a.seed;\n            var _this = _super.call(this, policies, new CacheGroup(resultCaching)) || this;\n            _this.stump = new Stump(_this);\n            _this.storageTrie = new Trie(canUseWeakMap);\n            if (seed)\n                _this.replace(seed);\n            return _this;\n        }\n        Root.prototype.addLayer = function (layerId, replay) {\n            return this.stump.addLayer(layerId, replay);\n        };\n        Root.prototype.removeLayer = function () {\n            return this;\n        };\n        Root.prototype.getStorage = function () {\n            return this.storageTrie.lookupArray(arguments);\n        };\n        return Root;\n    }(EntityStore));\n    EntityStore.Root = Root;\n})(EntityStore || (EntityStore = {}));\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, parent, replay, group) {\n        var _this = _super.call(this, parent.policies, group) || this;\n        _this.id = id;\n        _this.parent = parent;\n        _this.replay = replay;\n        _this.group = group;\n        replay(_this);\n        return _this;\n    }\n    Layer.prototype.addLayer = function (layerId, replay) {\n        return new Layer(layerId, this, replay, this.group);\n    };\n    Layer.prototype.removeLayer = function (layerId) {\n        var _this = this;\n        var parent = this.parent.removeLayer(layerId);\n        if (layerId === this.id) {\n            if (this.group.caching) {\n                Object.keys(this.data).forEach(function (dataId) {\n                    var ownStoreObject = _this.data[dataId];\n                    var parentStoreObject = parent[\"lookup\"](dataId);\n                    if (!parentStoreObject) {\n                        _this.delete(dataId);\n                    }\n                    else if (!ownStoreObject) {\n                        _this.group.dirty(dataId, \"__exists\");\n                        Object.keys(parentStoreObject).forEach(function (storeFieldName) {\n                            _this.group.dirty(dataId, storeFieldName);\n                        });\n                    }\n                    else if (ownStoreObject !== parentStoreObject) {\n                        Object.keys(ownStoreObject).forEach(function (storeFieldName) {\n                            if (!equal(ownStoreObject[storeFieldName], parentStoreObject[storeFieldName])) {\n                                _this.group.dirty(dataId, storeFieldName);\n                            }\n                        });\n                    }\n                });\n            }\n            return parent;\n        }\n        if (parent === this.parent)\n            return this;\n        return parent.addLayer(this.id, this.replay);\n    };\n    Layer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    Layer.prototype.findChildRefIds = function (dataId) {\n        var fromParent = this.parent.findChildRefIds(dataId);\n        return hasOwn.call(this.data, dataId) ? __assign(__assign({}, fromParent), _super.prototype.findChildRefIds.call(this, dataId)) : fromParent;\n    };\n    Layer.prototype.getStorage = function () {\n        var p = this.parent;\n        while (p.parent)\n            p = p.parent;\n        return p.getStorage.apply(p, arguments);\n    };\n    return Layer;\n}(EntityStore));\nvar Stump = (function (_super) {\n    __extends(Stump, _super);\n    function Stump(root) {\n        return _super.call(this, \"EntityStore.Stump\", root, function () { }, new CacheGroup(root.group.caching, root.group)) || this;\n    }\n    Stump.prototype.removeLayer = function () {\n        return this;\n    };\n    Stump.prototype.merge = function () {\n        return this.parent.merge.apply(this.parent, arguments);\n    };\n    return Stump;\n}(Layer));\nfunction storeObjectReconciler(existingObject, incomingObject, property) {\n    var existingValue = existingObject[property];\n    var incomingValue = incomingObject[property];\n    return equal(existingValue, incomingValue) ? existingValue : incomingValue;\n}\nexport function supportsResultCaching(store) {\n    return !!(store instanceof EntityStore && store.group.caching);\n}\n//# sourceMappingURL=entityStore.js.map", "import { __assign } from \"tslib\";\nimport \"../../utilities/globals\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities\";\nimport { isArray } from \"./helpers\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (__DEV__) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (__DEV__) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n//# sourceMappingURL=object-canon.js.map", "import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from '../../utilities/globals';\nimport { Kind, } from 'graphql';\nimport { wrap } from 'optimism';\nimport { isField, resultKeyNameFromField, isReference, makeReference, shouldInclude, addTypenameToDocument, getDefaultValues, getMainDefinition, getQueryDefinition, getFragmentFromSelection, maybeDeepFreeze, mergeDeepArray, DeepMerger, isNonNullObject, canUseWeakMap, compact, } from '../../utilities';\nimport { maybeDependOnExistenceOfEntity, supportsResultCaching } from './entityStore';\nimport { isArray, extractFragmentContext, getTypenameFromStoreObject, shouldCanonizeResults } from './helpers';\nimport { MissingFieldError } from '../core/types/common';\nimport { canonicalStringify, ObjectCanon } from './object-canon';\n;\nfunction execSelectionSetKeyArgs(options) {\n    return [\n        options.selectionSet,\n        options.objectOrReference,\n        options.context,\n        options.context.canonizeResults,\n    ];\n}\nvar StoreReader = (function () {\n    function StoreReader(config) {\n        var _this = this;\n        this.knownResults = new (canUseWeakMap ? WeakMap : Map)();\n        this.config = compact(config, {\n            addTypename: config.addTypename !== false,\n            canonizeResults: shouldCanonizeResults(config),\n        });\n        this.canon = config.canon || new ObjectCanon;\n        this.executeSelectionSet = wrap(function (options) {\n            var _a;\n            var canonizeResults = options.context.canonizeResults;\n            var peekArgs = execSelectionSetKeyArgs(options);\n            peekArgs[3] = !canonizeResults;\n            var other = (_a = _this.executeSelectionSet).peek.apply(_a, peekArgs);\n            if (other) {\n                if (canonizeResults) {\n                    return __assign(__assign({}, other), { result: _this.canon.admit(other.result) });\n                }\n                return other;\n            }\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSelectionSetImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            keyArgs: execSelectionSetKeyArgs,\n            makeCacheKey: function (selectionSet, parent, context, canonizeResults) {\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(selectionSet, isReference(parent) ? parent.__ref : parent, context.varString, canonizeResults);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSubSelectedArrayImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, context = _a.context;\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(field, array, context.varString);\n                }\n            }\n        });\n    }\n    StoreReader.prototype.resetCanon = function () {\n        this.canon = new ObjectCanon;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, _b = _a.rootId, rootId = _b === void 0 ? 'ROOT_QUERY' : _b, variables = _a.variables, _c = _a.returnPartialData, returnPartialData = _c === void 0 ? true : _c, _d = _a.canonizeResults, canonizeResults = _d === void 0 ? this.config.canonizeResults : _d;\n        var policies = this.config.cache.policies;\n        variables = __assign(__assign({}, getDefaultValues(getQueryDefinition(query))), variables);\n        var rootRef = makeReference(rootId);\n        var execResult = this.executeSelectionSet({\n            selectionSet: getMainDefinition(query).selectionSet,\n            objectOrReference: rootRef,\n            enclosingRef: rootRef,\n            context: __assign({ store: store, query: query, policies: policies, variables: variables, varString: canonicalStringify(variables), canonizeResults: canonizeResults }, extractFragmentContext(query, this.config.fragments)),\n        });\n        var missing;\n        if (execResult.missing) {\n            missing = [new MissingFieldError(firstMissing(execResult.missing), execResult.missing, query, variables)];\n            if (!returnPartialData) {\n                throw missing[0];\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !missing,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.isFresh = function (result, parent, selectionSet, context) {\n        if (supportsResultCaching(context.store) &&\n            this.knownResults.get(result) === selectionSet) {\n            var latest = this.executeSelectionSet.peek(selectionSet, parent, context, this.canon.isKnown(result));\n            if (latest && result === latest.result) {\n                return true;\n            }\n        }\n        return false;\n    };\n    StoreReader.prototype.execSelectionSetImpl = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, objectOrReference = _a.objectOrReference, enclosingRef = _a.enclosingRef, context = _a.context;\n        if (isReference(objectOrReference) &&\n            !context.policies.rootTypenamesById[objectOrReference.__ref] &&\n            !context.store.has(objectOrReference.__ref)) {\n            return {\n                result: this.canon.empty,\n                missing: \"Dangling reference to missing \".concat(objectOrReference.__ref, \" object\"),\n            };\n        }\n        var variables = context.variables, policies = context.policies, store = context.store;\n        var typename = store.getFieldValue(objectOrReference, \"__typename\");\n        var objectsToMerge = [];\n        var missing;\n        var missingMerger = new DeepMerger();\n        if (this.config.addTypename &&\n            typeof typename === \"string\" &&\n            !policies.rootIdsByTypename[typename]) {\n            objectsToMerge.push({ __typename: typename });\n        }\n        function handleMissing(result, resultName) {\n            var _a;\n            if (result.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[resultName] = result.missing, _a));\n            }\n            return result.result;\n        }\n        var workSet = new Set(selectionSet.selections);\n        workSet.forEach(function (selection) {\n            var _a, _b;\n            if (!shouldInclude(selection, variables))\n                return;\n            if (isField(selection)) {\n                var fieldValue = policies.readField({\n                    fieldName: selection.name.value,\n                    field: selection,\n                    variables: context.variables,\n                    from: objectOrReference,\n                }, context);\n                var resultName = resultKeyNameFromField(selection);\n                if (fieldValue === void 0) {\n                    if (!addTypenameToDocument.added(selection)) {\n                        missing = missingMerger.merge(missing, (_a = {},\n                            _a[resultName] = \"Can't find field '\".concat(selection.name.value, \"' on \").concat(isReference(objectOrReference)\n                                ? objectOrReference.__ref + \" object\"\n                                : \"object \" + JSON.stringify(objectOrReference, null, 2)),\n                            _a));\n                    }\n                }\n                else if (isArray(fieldValue)) {\n                    fieldValue = handleMissing(_this.executeSubSelectedArray({\n                        field: selection,\n                        array: fieldValue,\n                        enclosingRef: enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                else if (!selection.selectionSet) {\n                    if (context.canonizeResults) {\n                        fieldValue = _this.canon.pass(fieldValue);\n                    }\n                }\n                else if (fieldValue != null) {\n                    fieldValue = handleMissing(_this.executeSelectionSet({\n                        selectionSet: selection.selectionSet,\n                        objectOrReference: fieldValue,\n                        enclosingRef: isReference(fieldValue) ? fieldValue : enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                if (fieldValue !== void 0) {\n                    objectsToMerge.push((_b = {}, _b[resultName] = fieldValue, _b));\n                }\n            }\n            else {\n                var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                    throw __DEV__ ? new InvariantError(\"No fragment named \".concat(selection.name.value)) : new InvariantError(5);\n                }\n                if (fragment && policies.fragmentMatches(fragment, typename)) {\n                    fragment.selectionSet.selections.forEach(workSet.add, workSet);\n                }\n            }\n        });\n        var result = mergeDeepArray(objectsToMerge);\n        var finalResult = { result: result, missing: missing };\n        var frozen = context.canonizeResults\n            ? this.canon.admit(finalResult)\n            : maybeDeepFreeze(finalResult);\n        if (frozen.result) {\n            this.knownResults.set(frozen.result, selectionSet);\n        }\n        return frozen;\n    };\n    StoreReader.prototype.execSubSelectedArrayImpl = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, enclosingRef = _a.enclosingRef, context = _a.context;\n        var missing;\n        var missingMerger = new DeepMerger();\n        function handleMissing(childResult, i) {\n            var _a;\n            if (childResult.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[i] = childResult.missing, _a));\n            }\n            return childResult.result;\n        }\n        if (field.selectionSet) {\n            array = array.filter(context.store.canRead);\n        }\n        array = array.map(function (item, i) {\n            if (item === null) {\n                return null;\n            }\n            if (isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    enclosingRef: enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    objectOrReference: item,\n                    enclosingRef: isReference(item) ? item : enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (__DEV__) {\n                assertSelectionSetForIdValue(context.store, field, item);\n            }\n            return item;\n        });\n        return {\n            result: context.canonizeResults ? this.canon.admit(array) : array,\n            missing: missing,\n        };\n    };\n    return StoreReader;\n}());\nexport { StoreReader };\nfunction firstMissing(tree) {\n    try {\n        JSON.stringify(tree, function (_, value) {\n            if (typeof value === \"string\")\n                throw value;\n            return value;\n        });\n    }\n    catch (result) {\n        return result;\n    }\n}\nfunction assertSelectionSetForIdValue(store, field, fieldValue) {\n    if (!field.selectionSet) {\n        var workSet_1 = new Set([fieldValue]);\n        workSet_1.forEach(function (value) {\n            if (isNonNullObject(value)) {\n                __DEV__ ? invariant(!isReference(value), \"Missing selection set for object of type \".concat(getTypenameFromStoreObject(store, value), \" returned for query field \").concat(field.name.value)) : invariant(!isReference(value), 6);\n                Object.values(value).forEach(workSet_1.add, workSet_1);\n            }\n        });\n    }\n}\n//# sourceMappingURL=readFromStore.js.map", "import { dep } from \"optimism\";\nimport { Slot } from \"@wry/context\";\nexport var cacheSlot = new Slot();\nvar cacheInfoMap = new WeakMap();\nfunction getCacheInfo(cache) {\n    var info = cacheInfoMap.get(cache);\n    if (!info) {\n        cacheInfoMap.set(cache, info = {\n            vars: new Set,\n            dep: dep(),\n        });\n    }\n    return info;\n}\nexport function forgetCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\n}\nexport function recallCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\n}\nexport function makeVar(value) {\n    var caches = new Set();\n    var listeners = new Set();\n    var rv = function (newValue) {\n        if (arguments.length > 0) {\n            if (value !== newValue) {\n                value = newValue;\n                caches.forEach(function (cache) {\n                    getCacheInfo(cache).dep.dirty(rv);\n                    broadcast(cache);\n                });\n                var oldListeners = Array.from(listeners);\n                listeners.clear();\n                oldListeners.forEach(function (listener) { return listener(value); });\n            }\n        }\n        else {\n            var cache = cacheSlot.getValue();\n            if (cache) {\n                attach(cache);\n                getCacheInfo(cache).dep(rv);\n            }\n        }\n        return value;\n    };\n    rv.onNextChange = function (listener) {\n        listeners.add(listener);\n        return function () {\n            listeners.delete(listener);\n        };\n    };\n    var attach = rv.attachCache = function (cache) {\n        caches.add(cache);\n        getCacheInfo(cache).vars.add(rv);\n        return rv;\n    };\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\n    return rv;\n}\nfunction broadcast(cache) {\n    if (cache.broadcastWatches) {\n        cache.broadcastWatches();\n    }\n}\n//# sourceMappingURL=reactiveVars.js.map", "import { invariant } from \"../../utilities/globals\";\nimport { argumentsObjectFromField, DeepMerger, isNonEmptyArray, isNonNullObject, } from \"../../utilities\";\nimport { hasOwn, isArray } from \"./helpers\";\nvar specifierInfoCache = Object.create(null);\nfunction lookupSpecifierInfo(spec) {\n    var cacheKey = JSON.stringify(spec);\n    return specifierInfoCache[cacheKey] ||\n        (specifierInfoCache[cacheKey] = Object.create(null));\n}\nexport function keyFieldsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyFieldsFn || (info.keyFieldsFn = function (object, context) {\n        var extract = function (from, key) { return context.readField(key, from); };\n        var keyObject = context.keyObject = collectSpecifierPaths(specifier, function (schemaKeyPath) {\n            var extracted = extractKeyPath(context.storeObject, schemaKeyPath, extract);\n            if (extracted === void 0 &&\n                object !== context.storeObject &&\n                hasOwn.call(object, schemaKeyPath[0])) {\n                extracted = extractKeyPath(object, schemaKeyPath, extractKey);\n            }\n            __DEV__ ? invariant(extracted !== void 0, \"Missing field '\".concat(schemaKeyPath.join('.'), \"' while extracting keyFields from \").concat(JSON.stringify(object))) : invariant(extracted !== void 0, 2);\n            return extracted;\n        });\n        return \"\".concat(context.typename, \":\").concat(JSON.stringify(keyObject));\n    });\n}\nexport function keyArgsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyArgsFn || (info.keyArgsFn = function (args, _a) {\n        var field = _a.field, variables = _a.variables, fieldName = _a.fieldName;\n        var collected = collectSpecifierPaths(specifier, function (keyPath) {\n            var firstKey = keyPath[0];\n            var firstChar = firstKey.charAt(0);\n            if (firstChar === \"@\") {\n                if (field && isNonEmptyArray(field.directives)) {\n                    var directiveName_1 = firstKey.slice(1);\n                    var d = field.directives.find(function (d) { return d.name.value === directiveName_1; });\n                    var directiveArgs = d && argumentsObjectFromField(d, variables);\n                    return directiveArgs && extractKeyPath(directiveArgs, keyPath.slice(1));\n                }\n                return;\n            }\n            if (firstChar === \"$\") {\n                var variableName = firstKey.slice(1);\n                if (variables && hasOwn.call(variables, variableName)) {\n                    var varKeyPath = keyPath.slice(0);\n                    varKeyPath[0] = variableName;\n                    return extractKeyPath(variables, varKeyPath);\n                }\n                return;\n            }\n            if (args) {\n                return extractKeyPath(args, keyPath);\n            }\n        });\n        var suffix = JSON.stringify(collected);\n        if (args || suffix !== \"{}\") {\n            fieldName += \":\" + suffix;\n        }\n        return fieldName;\n    });\n}\nexport function collectSpecifierPaths(specifier, extractor) {\n    var merger = new DeepMerger;\n    return getSpecifierPaths(specifier).reduce(function (collected, path) {\n        var _a;\n        var toMerge = extractor(path);\n        if (toMerge !== void 0) {\n            for (var i = path.length - 1; i >= 0; --i) {\n                toMerge = (_a = {}, _a[path[i]] = toMerge, _a);\n            }\n            collected = merger.merge(collected, toMerge);\n        }\n        return collected;\n    }, Object.create(null));\n}\nexport function getSpecifierPaths(spec) {\n    var info = lookupSpecifierInfo(spec);\n    if (!info.paths) {\n        var paths_1 = info.paths = [];\n        var currentPath_1 = [];\n        spec.forEach(function (s, i) {\n            if (isArray(s)) {\n                getSpecifierPaths(s).forEach(function (p) { return paths_1.push(currentPath_1.concat(p)); });\n                currentPath_1.length = 0;\n            }\n            else {\n                currentPath_1.push(s);\n                if (!isArray(spec[i + 1])) {\n                    paths_1.push(currentPath_1.slice(0));\n                    currentPath_1.length = 0;\n                }\n            }\n        });\n    }\n    return info.paths;\n}\nfunction extractKey(object, key) {\n    return object[key];\n}\nexport function extractKeyPath(object, path, extract) {\n    extract = extract || extractKey;\n    return normalize(path.reduce(function reducer(obj, key) {\n        return isArray(obj)\n            ? obj.map(function (child) { return reducer(child, key); })\n            : obj && extract(obj, key);\n    }, object));\n}\nfunction normalize(value) {\n    if (isNonNullObject(value)) {\n        if (isArray(value)) {\n            return value.map(normalize);\n        }\n        return collectSpecifierPaths(Object.keys(value).sort(), function (path) { return extractKeyPath(value, path); });\n    }\n    return value;\n}\n//# sourceMappingURL=key-extractor.js.map", "import { __assign, __rest } from \"tslib\";\nimport { invariant, InvariantError } from '../../utilities/globals';\nimport { storeKeyNameFromField, argumentsObjectFromField, isReference, getStoreKeyName, isNonNullObject, stringifyForDisplay, } from '../../utilities';\nimport { hasOwn, fieldNameFromStoreName, storeValueIsStoreObject, selectionSetMatchesResult, TypeOrFieldNameRegExp, defaultDataIdFromObject, isArray, } from './helpers';\nimport { cacheSlot } from './reactiveVars';\nimport { canonicalStringify } from './object-canon';\nimport { keyArgsFnFromSpecifier, keyFieldsFnFromSpecifier } from './key-extractor';\ngetStoreKeyName.setStringify(canonicalStringify);\nfunction argsFromFieldSpecifier(spec) {\n    return spec.args !== void 0 ? spec.args :\n        spec.field ? argumentsObjectFromField(spec.field, spec.variables) : null;\n}\nvar nullKeyFieldsFn = function () { return void 0; };\nvar simpleKeyArgsFn = function (_args, context) { return context.fieldName; };\nvar mergeTrueFn = function (existing, incoming, _a) {\n    var mergeObjects = _a.mergeObjects;\n    return mergeObjects(existing, incoming);\n};\nvar mergeFalseFn = function (_, incoming) { return incoming; };\nvar Policies = (function () {\n    function Policies(config) {\n        this.config = config;\n        this.typePolicies = Object.create(null);\n        this.toBeAdded = Object.create(null);\n        this.supertypeMap = new Map();\n        this.fuzzySubtypes = new Map();\n        this.rootIdsByTypename = Object.create(null);\n        this.rootTypenamesById = Object.create(null);\n        this.usingPossibleTypes = false;\n        this.config = __assign({ dataIdFromObject: defaultDataIdFromObject }, config);\n        this.cache = this.config.cache;\n        this.setRootTypename(\"Query\");\n        this.setRootTypename(\"Mutation\");\n        this.setRootTypename(\"Subscription\");\n        if (config.possibleTypes) {\n            this.addPossibleTypes(config.possibleTypes);\n        }\n        if (config.typePolicies) {\n            this.addTypePolicies(config.typePolicies);\n        }\n    }\n    Policies.prototype.identify = function (object, partialContext) {\n        var _a;\n        var policies = this;\n        var typename = partialContext && (partialContext.typename ||\n            ((_a = partialContext.storeObject) === null || _a === void 0 ? void 0 : _a.__typename)) || object.__typename;\n        if (typename === this.rootTypenamesById.ROOT_QUERY) {\n            return [\"ROOT_QUERY\"];\n        }\n        var storeObject = partialContext && partialContext.storeObject || object;\n        var context = __assign(__assign({}, partialContext), { typename: typename, storeObject: storeObject, readField: partialContext && partialContext.readField || function () {\n                var options = normalizeReadFieldOptions(arguments, storeObject);\n                return policies.readField(options, {\n                    store: policies.cache[\"data\"],\n                    variables: options.variables,\n                });\n            } });\n        var id;\n        var policy = typename && this.getTypePolicy(typename);\n        var keyFn = policy && policy.keyFn || this.config.dataIdFromObject;\n        while (keyFn) {\n            var specifierOrId = keyFn(object, context);\n            if (isArray(specifierOrId)) {\n                keyFn = keyFieldsFnFromSpecifier(specifierOrId);\n            }\n            else {\n                id = specifierOrId;\n                break;\n            }\n        }\n        id = id ? String(id) : void 0;\n        return context.keyObject ? [id, context.keyObject] : [id];\n    };\n    Policies.prototype.addTypePolicies = function (typePolicies) {\n        var _this = this;\n        Object.keys(typePolicies).forEach(function (typename) {\n            var _a = typePolicies[typename], queryType = _a.queryType, mutationType = _a.mutationType, subscriptionType = _a.subscriptionType, incoming = __rest(_a, [\"queryType\", \"mutationType\", \"subscriptionType\"]);\n            if (queryType)\n                _this.setRootTypename(\"Query\", typename);\n            if (mutationType)\n                _this.setRootTypename(\"Mutation\", typename);\n            if (subscriptionType)\n                _this.setRootTypename(\"Subscription\", typename);\n            if (hasOwn.call(_this.toBeAdded, typename)) {\n                _this.toBeAdded[typename].push(incoming);\n            }\n            else {\n                _this.toBeAdded[typename] = [incoming];\n            }\n        });\n    };\n    Policies.prototype.updateTypePolicy = function (typename, incoming) {\n        var _this = this;\n        var existing = this.getTypePolicy(typename);\n        var keyFields = incoming.keyFields, fields = incoming.fields;\n        function setMerge(existing, merge) {\n            existing.merge =\n                typeof merge === \"function\" ? merge :\n                    merge === true ? mergeTrueFn :\n                        merge === false ? mergeFalseFn :\n                            existing.merge;\n        }\n        setMerge(existing, incoming.merge);\n        existing.keyFn =\n            keyFields === false ? nullKeyFieldsFn :\n                isArray(keyFields) ? keyFieldsFnFromSpecifier(keyFields) :\n                    typeof keyFields === \"function\" ? keyFields :\n                        existing.keyFn;\n        if (fields) {\n            Object.keys(fields).forEach(function (fieldName) {\n                var existing = _this.getFieldPolicy(typename, fieldName, true);\n                var incoming = fields[fieldName];\n                if (typeof incoming === \"function\") {\n                    existing.read = incoming;\n                }\n                else {\n                    var keyArgs = incoming.keyArgs, read = incoming.read, merge = incoming.merge;\n                    existing.keyFn =\n                        keyArgs === false ? simpleKeyArgsFn :\n                            isArray(keyArgs) ? keyArgsFnFromSpecifier(keyArgs) :\n                                typeof keyArgs === \"function\" ? keyArgs :\n                                    existing.keyFn;\n                    if (typeof read === \"function\") {\n                        existing.read = read;\n                    }\n                    setMerge(existing, merge);\n                }\n                if (existing.read && existing.merge) {\n                    existing.keyFn = existing.keyFn || simpleKeyArgsFn;\n                }\n            });\n        }\n    };\n    Policies.prototype.setRootTypename = function (which, typename) {\n        if (typename === void 0) { typename = which; }\n        var rootId = \"ROOT_\" + which.toUpperCase();\n        var old = this.rootTypenamesById[rootId];\n        if (typename !== old) {\n            __DEV__ ? invariant(!old || old === which, \"Cannot change root \".concat(which, \" __typename more than once\")) : invariant(!old || old === which, 3);\n            if (old)\n                delete this.rootIdsByTypename[old];\n            this.rootIdsByTypename[typename] = rootId;\n            this.rootTypenamesById[rootId] = typename;\n        }\n    };\n    Policies.prototype.addPossibleTypes = function (possibleTypes) {\n        var _this = this;\n        this.usingPossibleTypes = true;\n        Object.keys(possibleTypes).forEach(function (supertype) {\n            _this.getSupertypeSet(supertype, true);\n            possibleTypes[supertype].forEach(function (subtype) {\n                _this.getSupertypeSet(subtype, true).add(supertype);\n                var match = subtype.match(TypeOrFieldNameRegExp);\n                if (!match || match[0] !== subtype) {\n                    _this.fuzzySubtypes.set(subtype, new RegExp(subtype));\n                }\n            });\n        });\n    };\n    Policies.prototype.getTypePolicy = function (typename) {\n        var _this = this;\n        if (!hasOwn.call(this.typePolicies, typename)) {\n            var policy_1 = this.typePolicies[typename] = Object.create(null);\n            policy_1.fields = Object.create(null);\n            var supertypes = this.supertypeMap.get(typename);\n            if (supertypes && supertypes.size) {\n                supertypes.forEach(function (supertype) {\n                    var _a = _this.getTypePolicy(supertype), fields = _a.fields, rest = __rest(_a, [\"fields\"]);\n                    Object.assign(policy_1, rest);\n                    Object.assign(policy_1.fields, fields);\n                });\n            }\n        }\n        var inbox = this.toBeAdded[typename];\n        if (inbox && inbox.length) {\n            inbox.splice(0).forEach(function (policy) {\n                _this.updateTypePolicy(typename, policy);\n            });\n        }\n        return this.typePolicies[typename];\n    };\n    Policies.prototype.getFieldPolicy = function (typename, fieldName, createIfMissing) {\n        if (typename) {\n            var fieldPolicies = this.getTypePolicy(typename).fields;\n            return fieldPolicies[fieldName] || (createIfMissing && (fieldPolicies[fieldName] = Object.create(null)));\n        }\n    };\n    Policies.prototype.getSupertypeSet = function (subtype, createIfMissing) {\n        var supertypeSet = this.supertypeMap.get(subtype);\n        if (!supertypeSet && createIfMissing) {\n            this.supertypeMap.set(subtype, supertypeSet = new Set());\n        }\n        return supertypeSet;\n    };\n    Policies.prototype.fragmentMatches = function (fragment, typename, result, variables) {\n        var _this = this;\n        if (!fragment.typeCondition)\n            return true;\n        if (!typename)\n            return false;\n        var supertype = fragment.typeCondition.name.value;\n        if (typename === supertype)\n            return true;\n        if (this.usingPossibleTypes &&\n            this.supertypeMap.has(supertype)) {\n            var typenameSupertypeSet = this.getSupertypeSet(typename, true);\n            var workQueue_1 = [typenameSupertypeSet];\n            var maybeEnqueue_1 = function (subtype) {\n                var supertypeSet = _this.getSupertypeSet(subtype, false);\n                if (supertypeSet &&\n                    supertypeSet.size &&\n                    workQueue_1.indexOf(supertypeSet) < 0) {\n                    workQueue_1.push(supertypeSet);\n                }\n            };\n            var needToCheckFuzzySubtypes = !!(result && this.fuzzySubtypes.size);\n            var checkingFuzzySubtypes = false;\n            for (var i = 0; i < workQueue_1.length; ++i) {\n                var supertypeSet = workQueue_1[i];\n                if (supertypeSet.has(supertype)) {\n                    if (!typenameSupertypeSet.has(supertype)) {\n                        if (checkingFuzzySubtypes) {\n                            __DEV__ && invariant.warn(\"Inferring subtype \".concat(typename, \" of supertype \").concat(supertype));\n                        }\n                        typenameSupertypeSet.add(supertype);\n                    }\n                    return true;\n                }\n                supertypeSet.forEach(maybeEnqueue_1);\n                if (needToCheckFuzzySubtypes &&\n                    i === workQueue_1.length - 1 &&\n                    selectionSetMatchesResult(fragment.selectionSet, result, variables)) {\n                    needToCheckFuzzySubtypes = false;\n                    checkingFuzzySubtypes = true;\n                    this.fuzzySubtypes.forEach(function (regExp, fuzzyString) {\n                        var match = typename.match(regExp);\n                        if (match && match[0] === typename) {\n                            maybeEnqueue_1(fuzzyString);\n                        }\n                    });\n                }\n            }\n        }\n        return false;\n    };\n    Policies.prototype.hasKeyArgs = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return !!(policy && policy.keyFn);\n    };\n    Policies.prototype.getStoreFieldName = function (fieldSpec) {\n        var typename = fieldSpec.typename, fieldName = fieldSpec.fieldName;\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        var storeFieldName;\n        var keyFn = policy && policy.keyFn;\n        if (keyFn && typename) {\n            var context = {\n                typename: typename,\n                fieldName: fieldName,\n                field: fieldSpec.field || null,\n                variables: fieldSpec.variables,\n            };\n            var args = argsFromFieldSpecifier(fieldSpec);\n            while (keyFn) {\n                var specifierOrString = keyFn(args, context);\n                if (isArray(specifierOrString)) {\n                    keyFn = keyArgsFnFromSpecifier(specifierOrString);\n                }\n                else {\n                    storeFieldName = specifierOrString || fieldName;\n                    break;\n                }\n            }\n        }\n        if (storeFieldName === void 0) {\n            storeFieldName = fieldSpec.field\n                ? storeKeyNameFromField(fieldSpec.field, fieldSpec.variables)\n                : getStoreKeyName(fieldName, argsFromFieldSpecifier(fieldSpec));\n        }\n        if (storeFieldName === false) {\n            return fieldName;\n        }\n        return fieldName === fieldNameFromStoreName(storeFieldName)\n            ? storeFieldName\n            : fieldName + \":\" + storeFieldName;\n    };\n    Policies.prototype.readField = function (options, context) {\n        var objectOrReference = options.from;\n        if (!objectOrReference)\n            return;\n        var nameOrField = options.field || options.fieldName;\n        if (!nameOrField)\n            return;\n        if (options.typename === void 0) {\n            var typename = context.store.getFieldValue(objectOrReference, \"__typename\");\n            if (typename)\n                options.typename = typename;\n        }\n        var storeFieldName = this.getStoreFieldName(options);\n        var fieldName = fieldNameFromStoreName(storeFieldName);\n        var existing = context.store.getFieldValue(objectOrReference, storeFieldName);\n        var policy = this.getFieldPolicy(options.typename, fieldName, false);\n        var read = policy && policy.read;\n        if (read) {\n            var readOptions = makeFieldFunctionOptions(this, objectOrReference, options, context, context.store.getStorage(isReference(objectOrReference)\n                ? objectOrReference.__ref\n                : objectOrReference, storeFieldName));\n            return cacheSlot.withValue(this.cache, read, [existing, readOptions]);\n        }\n        return existing;\n    };\n    Policies.prototype.getReadFunction = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return policy && policy.read;\n    };\n    Policies.prototype.getMergeFunction = function (parentTypename, fieldName, childTypename) {\n        var policy = this.getFieldPolicy(parentTypename, fieldName, false);\n        var merge = policy && policy.merge;\n        if (!merge && childTypename) {\n            policy = this.getTypePolicy(childTypename);\n            merge = policy && policy.merge;\n        }\n        return merge;\n    };\n    Policies.prototype.runMergeFunction = function (existing, incoming, _a, context, storage) {\n        var field = _a.field, typename = _a.typename, merge = _a.merge;\n        if (merge === mergeTrueFn) {\n            return makeMergeObjectsFunction(context.store)(existing, incoming);\n        }\n        if (merge === mergeFalseFn) {\n            return incoming;\n        }\n        if (context.overwrite) {\n            existing = void 0;\n        }\n        return merge(existing, incoming, makeFieldFunctionOptions(this, void 0, { typename: typename, fieldName: field.name.value, field: field, variables: context.variables }, context, storage || Object.create(null)));\n    };\n    return Policies;\n}());\nexport { Policies };\nfunction makeFieldFunctionOptions(policies, objectOrReference, fieldSpec, context, storage) {\n    var storeFieldName = policies.getStoreFieldName(fieldSpec);\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var variables = fieldSpec.variables || context.variables;\n    var _a = context.store, toReference = _a.toReference, canRead = _a.canRead;\n    return {\n        args: argsFromFieldSpecifier(fieldSpec),\n        field: fieldSpec.field || null,\n        fieldName: fieldName,\n        storeFieldName: storeFieldName,\n        variables: variables,\n        isReference: isReference,\n        toReference: toReference,\n        storage: storage,\n        cache: policies.cache,\n        canRead: canRead,\n        readField: function () {\n            return policies.readField(normalizeReadFieldOptions(arguments, objectOrReference, variables), context);\n        },\n        mergeObjects: makeMergeObjectsFunction(context.store),\n    };\n}\nexport function normalizeReadFieldOptions(readFieldArgs, objectOrReference, variables) {\n    var fieldNameOrOptions = readFieldArgs[0], from = readFieldArgs[1], argc = readFieldArgs.length;\n    var options;\n    if (typeof fieldNameOrOptions === \"string\") {\n        options = {\n            fieldName: fieldNameOrOptions,\n            from: argc > 1 ? from : objectOrReference,\n        };\n    }\n    else {\n        options = __assign({}, fieldNameOrOptions);\n        if (!hasOwn.call(options, \"from\")) {\n            options.from = objectOrReference;\n        }\n    }\n    if (__DEV__ && options.from === void 0) {\n        __DEV__ && invariant.warn(\"Undefined 'from' passed to readField with arguments \".concat(stringifyForDisplay(Array.from(readFieldArgs))));\n    }\n    if (void 0 === options.variables) {\n        options.variables = variables;\n    }\n    return options;\n}\nfunction makeMergeObjectsFunction(store) {\n    return function mergeObjects(existing, incoming) {\n        if (isArray(existing) || isArray(incoming)) {\n            throw __DEV__ ? new InvariantError(\"Cannot automatically merge arrays\") : new InvariantError(4);\n        }\n        if (isNonNullObject(existing) &&\n            isNonNullObject(incoming)) {\n            var eType = store.getFieldValue(existing, \"__typename\");\n            var iType = store.getFieldValue(incoming, \"__typename\");\n            var typesDiffer = eType && iType && eType !== iType;\n            if (typesDiffer) {\n                return incoming;\n            }\n            if (isReference(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                store.merge(existing.__ref, incoming);\n                return existing;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                isReference(incoming)) {\n                store.merge(existing, incoming.__ref);\n                return incoming;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                return __assign(__assign({}, existing), incoming);\n            }\n        }\n        return incoming;\n    };\n}\n//# sourceMappingURL=policies.js.map", "import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from '../../utilities/globals';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { Kind, } from 'graphql';\nimport { getFragmentFromSelection, getDefaultValues, getOperationDefinition, getTypenameFromResult, makeReference, isField, resultKeyNameFromField, isReference, shouldInclude, cloneDeep, addTypenameToDocument, isNonEmptyArray, argumentsObjectFromField, } from '../../utilities';\nimport { isArray, makeProcessedFieldsMerger, fieldNameFromStoreName, storeValueIsStoreObject, extractFragmentContext } from './helpers';\nimport { canonicalStringify } from './object-canon';\nimport { normalizeReadFieldOptions } from './policies';\n;\nfunction getContextFlavor(context, clientOnly, deferred) {\n    var key = \"\".concat(clientOnly).concat(deferred);\n    var flavored = context.flavors.get(key);\n    if (!flavored) {\n        context.flavors.set(key, flavored = (context.clientOnly === clientOnly &&\n            context.deferred === deferred) ? context : __assign(__assign({}, context), { clientOnly: clientOnly, deferred: deferred }));\n    }\n    return flavored;\n}\nvar StoreWriter = (function () {\n    function StoreWriter(cache, reader, fragments) {\n        this.cache = cache;\n        this.reader = reader;\n        this.fragments = fragments;\n    }\n    StoreWriter.prototype.writeToStore = function (store, _a) {\n        var _this = this;\n        var query = _a.query, result = _a.result, dataId = _a.dataId, variables = _a.variables, overwrite = _a.overwrite;\n        var operationDefinition = getOperationDefinition(query);\n        var merger = makeProcessedFieldsMerger();\n        variables = __assign(__assign({}, getDefaultValues(operationDefinition)), variables);\n        var context = __assign(__assign({ store: store, written: Object.create(null), merge: function (existing, incoming) {\n                return merger.merge(existing, incoming);\n            }, variables: variables, varString: canonicalStringify(variables) }, extractFragmentContext(query, this.fragments)), { overwrite: !!overwrite, incomingById: new Map, clientOnly: false, deferred: false, flavors: new Map });\n        var ref = this.processSelectionSet({\n            result: result || Object.create(null),\n            dataId: dataId,\n            selectionSet: operationDefinition.selectionSet,\n            mergeTree: { map: new Map },\n            context: context,\n        });\n        if (!isReference(ref)) {\n            throw __DEV__ ? new InvariantError(\"Could not identify object \".concat(JSON.stringify(result))) : new InvariantError(7);\n        }\n        context.incomingById.forEach(function (_a, dataId) {\n            var storeObject = _a.storeObject, mergeTree = _a.mergeTree, fieldNodeSet = _a.fieldNodeSet;\n            var entityRef = makeReference(dataId);\n            if (mergeTree && mergeTree.map.size) {\n                var applied = _this.applyMerges(mergeTree, entityRef, storeObject, context);\n                if (isReference(applied)) {\n                    return;\n                }\n                storeObject = applied;\n            }\n            if (__DEV__ && !context.overwrite) {\n                var fieldsWithSelectionSets_1 = Object.create(null);\n                fieldNodeSet.forEach(function (field) {\n                    if (field.selectionSet) {\n                        fieldsWithSelectionSets_1[field.name.value] = true;\n                    }\n                });\n                var hasSelectionSet_1 = function (storeFieldName) {\n                    return fieldsWithSelectionSets_1[fieldNameFromStoreName(storeFieldName)] === true;\n                };\n                var hasMergeFunction_1 = function (storeFieldName) {\n                    var childTree = mergeTree && mergeTree.map.get(storeFieldName);\n                    return Boolean(childTree && childTree.info && childTree.info.merge);\n                };\n                Object.keys(storeObject).forEach(function (storeFieldName) {\n                    if (hasSelectionSet_1(storeFieldName) &&\n                        !hasMergeFunction_1(storeFieldName)) {\n                        warnAboutDataLoss(entityRef, storeObject, storeFieldName, context.store);\n                    }\n                });\n            }\n            store.merge(dataId, storeObject);\n        });\n        store.retain(ref.__ref);\n        return ref;\n    };\n    StoreWriter.prototype.processSelectionSet = function (_a) {\n        var _this = this;\n        var dataId = _a.dataId, result = _a.result, selectionSet = _a.selectionSet, context = _a.context, mergeTree = _a.mergeTree;\n        var policies = this.cache.policies;\n        var incoming = Object.create(null);\n        var typename = (dataId && policies.rootTypenamesById[dataId]) ||\n            getTypenameFromResult(result, selectionSet, context.fragmentMap) ||\n            (dataId && context.store.get(dataId, \"__typename\"));\n        if (\"string\" === typeof typename) {\n            incoming.__typename = typename;\n        }\n        var readField = function () {\n            var options = normalizeReadFieldOptions(arguments, incoming, context.variables);\n            if (isReference(options.from)) {\n                var info = context.incomingById.get(options.from.__ref);\n                if (info) {\n                    var result_1 = policies.readField(__assign(__assign({}, options), { from: info.storeObject }), context);\n                    if (result_1 !== void 0) {\n                        return result_1;\n                    }\n                }\n            }\n            return policies.readField(options, context);\n        };\n        var fieldNodeSet = new Set();\n        this.flattenFields(selectionSet, result, context, typename).forEach(function (context, field) {\n            var _a;\n            var resultFieldKey = resultKeyNameFromField(field);\n            var value = result[resultFieldKey];\n            fieldNodeSet.add(field);\n            if (value !== void 0) {\n                var storeFieldName = policies.getStoreFieldName({\n                    typename: typename,\n                    fieldName: field.name.value,\n                    field: field,\n                    variables: context.variables,\n                });\n                var childTree = getChildMergeTree(mergeTree, storeFieldName);\n                var incomingValue = _this.processFieldValue(value, field, field.selectionSet\n                    ? getContextFlavor(context, false, false)\n                    : context, childTree);\n                var childTypename = void 0;\n                if (field.selectionSet &&\n                    (isReference(incomingValue) ||\n                        storeValueIsStoreObject(incomingValue))) {\n                    childTypename = readField(\"__typename\", incomingValue);\n                }\n                var merge = policies.getMergeFunction(typename, field.name.value, childTypename);\n                if (merge) {\n                    childTree.info = {\n                        field: field,\n                        typename: typename,\n                        merge: merge,\n                    };\n                }\n                else {\n                    maybeRecycleChildMergeTree(mergeTree, storeFieldName);\n                }\n                incoming = context.merge(incoming, (_a = {},\n                    _a[storeFieldName] = incomingValue,\n                    _a));\n            }\n            else if (__DEV__ &&\n                !context.clientOnly &&\n                !context.deferred &&\n                !addTypenameToDocument.added(field) &&\n                !policies.getReadFunction(typename, field.name.value)) {\n                __DEV__ && invariant.error(\"Missing field '\".concat(resultKeyNameFromField(field), \"' while writing result \").concat(JSON.stringify(result, null, 2)).substring(0, 1000));\n            }\n        });\n        try {\n            var _b = policies.identify(result, {\n                typename: typename,\n                selectionSet: selectionSet,\n                fragmentMap: context.fragmentMap,\n                storeObject: incoming,\n                readField: readField,\n            }), id = _b[0], keyObject = _b[1];\n            dataId = dataId || id;\n            if (keyObject) {\n                incoming = context.merge(incoming, keyObject);\n            }\n        }\n        catch (e) {\n            if (!dataId)\n                throw e;\n        }\n        if (\"string\" === typeof dataId) {\n            var dataRef = makeReference(dataId);\n            var sets = context.written[dataId] || (context.written[dataId] = []);\n            if (sets.indexOf(selectionSet) >= 0)\n                return dataRef;\n            sets.push(selectionSet);\n            if (this.reader && this.reader.isFresh(result, dataRef, selectionSet, context)) {\n                return dataRef;\n            }\n            var previous_1 = context.incomingById.get(dataId);\n            if (previous_1) {\n                previous_1.storeObject = context.merge(previous_1.storeObject, incoming);\n                previous_1.mergeTree = mergeMergeTrees(previous_1.mergeTree, mergeTree);\n                fieldNodeSet.forEach(function (field) { return previous_1.fieldNodeSet.add(field); });\n            }\n            else {\n                context.incomingById.set(dataId, {\n                    storeObject: incoming,\n                    mergeTree: mergeTreeIsEmpty(mergeTree) ? void 0 : mergeTree,\n                    fieldNodeSet: fieldNodeSet,\n                });\n            }\n            return dataRef;\n        }\n        return incoming;\n    };\n    StoreWriter.prototype.processFieldValue = function (value, field, context, mergeTree) {\n        var _this = this;\n        if (!field.selectionSet || value === null) {\n            return __DEV__ ? cloneDeep(value) : value;\n        }\n        if (isArray(value)) {\n            return value.map(function (item, i) {\n                var value = _this.processFieldValue(item, field, context, getChildMergeTree(mergeTree, i));\n                maybeRecycleChildMergeTree(mergeTree, i);\n                return value;\n            });\n        }\n        return this.processSelectionSet({\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n            mergeTree: mergeTree,\n        });\n    };\n    StoreWriter.prototype.flattenFields = function (selectionSet, result, context, typename) {\n        if (typename === void 0) { typename = getTypenameFromResult(result, selectionSet, context.fragmentMap); }\n        var fieldMap = new Map();\n        var policies = this.cache.policies;\n        var limitingTrie = new Trie(false);\n        (function flatten(selectionSet, inheritedContext) {\n            var visitedNode = limitingTrie.lookup(selectionSet, inheritedContext.clientOnly, inheritedContext.deferred);\n            if (visitedNode.visited)\n                return;\n            visitedNode.visited = true;\n            selectionSet.selections.forEach(function (selection) {\n                if (!shouldInclude(selection, context.variables))\n                    return;\n                var clientOnly = inheritedContext.clientOnly, deferred = inheritedContext.deferred;\n                if (!(clientOnly && deferred) &&\n                    isNonEmptyArray(selection.directives)) {\n                    selection.directives.forEach(function (dir) {\n                        var name = dir.name.value;\n                        if (name === \"client\")\n                            clientOnly = true;\n                        if (name === \"defer\") {\n                            var args = argumentsObjectFromField(dir, context.variables);\n                            if (!args || args.if !== false) {\n                                deferred = true;\n                            }\n                        }\n                    });\n                }\n                if (isField(selection)) {\n                    var existing = fieldMap.get(selection);\n                    if (existing) {\n                        clientOnly = clientOnly && existing.clientOnly;\n                        deferred = deferred && existing.deferred;\n                    }\n                    fieldMap.set(selection, getContextFlavor(context, clientOnly, deferred));\n                }\n                else {\n                    var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                    if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                        throw __DEV__ ? new InvariantError(\"No fragment named \".concat(selection.name.value)) : new InvariantError(8);\n                    }\n                    if (fragment &&\n                        policies.fragmentMatches(fragment, typename, result, context.variables)) {\n                        flatten(fragment.selectionSet, getContextFlavor(context, clientOnly, deferred));\n                    }\n                }\n            });\n        })(selectionSet, context);\n        return fieldMap;\n    };\n    StoreWriter.prototype.applyMerges = function (mergeTree, existing, incoming, context, getStorageArgs) {\n        var _a;\n        var _this = this;\n        if (mergeTree.map.size && !isReference(incoming)) {\n            var e_1 = (!isArray(incoming) &&\n                (isReference(existing) || storeValueIsStoreObject(existing))) ? existing : void 0;\n            var i_1 = incoming;\n            if (e_1 && !getStorageArgs) {\n                getStorageArgs = [isReference(e_1) ? e_1.__ref : e_1];\n            }\n            var changedFields_1;\n            var getValue_1 = function (from, name) {\n                return isArray(from)\n                    ? (typeof name === \"number\" ? from[name] : void 0)\n                    : context.store.getFieldValue(from, String(name));\n            };\n            mergeTree.map.forEach(function (childTree, storeFieldName) {\n                var eVal = getValue_1(e_1, storeFieldName);\n                var iVal = getValue_1(i_1, storeFieldName);\n                if (void 0 === iVal)\n                    return;\n                if (getStorageArgs) {\n                    getStorageArgs.push(storeFieldName);\n                }\n                var aVal = _this.applyMerges(childTree, eVal, iVal, context, getStorageArgs);\n                if (aVal !== iVal) {\n                    changedFields_1 = changedFields_1 || new Map;\n                    changedFields_1.set(storeFieldName, aVal);\n                }\n                if (getStorageArgs) {\n                    invariant(getStorageArgs.pop() === storeFieldName);\n                }\n            });\n            if (changedFields_1) {\n                incoming = (isArray(i_1) ? i_1.slice(0) : __assign({}, i_1));\n                changedFields_1.forEach(function (value, name) {\n                    incoming[name] = value;\n                });\n            }\n        }\n        if (mergeTree.info) {\n            return this.cache.policies.runMergeFunction(existing, incoming, mergeTree.info, context, getStorageArgs && (_a = context.store).getStorage.apply(_a, getStorageArgs));\n        }\n        return incoming;\n    };\n    return StoreWriter;\n}());\nexport { StoreWriter };\nvar emptyMergeTreePool = [];\nfunction getChildMergeTree(_a, name) {\n    var map = _a.map;\n    if (!map.has(name)) {\n        map.set(name, emptyMergeTreePool.pop() || { map: new Map });\n    }\n    return map.get(name);\n}\nfunction mergeMergeTrees(left, right) {\n    if (left === right || !right || mergeTreeIsEmpty(right))\n        return left;\n    if (!left || mergeTreeIsEmpty(left))\n        return right;\n    var info = left.info && right.info ? __assign(__assign({}, left.info), right.info) : left.info || right.info;\n    var needToMergeMaps = left.map.size && right.map.size;\n    var map = needToMergeMaps ? new Map :\n        left.map.size ? left.map : right.map;\n    var merged = { info: info, map: map };\n    if (needToMergeMaps) {\n        var remainingRightKeys_1 = new Set(right.map.keys());\n        left.map.forEach(function (leftTree, key) {\n            merged.map.set(key, mergeMergeTrees(leftTree, right.map.get(key)));\n            remainingRightKeys_1.delete(key);\n        });\n        remainingRightKeys_1.forEach(function (key) {\n            merged.map.set(key, mergeMergeTrees(right.map.get(key), left.map.get(key)));\n        });\n    }\n    return merged;\n}\nfunction mergeTreeIsEmpty(tree) {\n    return !tree || !(tree.info || tree.map.size);\n}\nfunction maybeRecycleChildMergeTree(_a, name) {\n    var map = _a.map;\n    var childTree = map.get(name);\n    if (childTree && mergeTreeIsEmpty(childTree)) {\n        emptyMergeTreePool.push(childTree);\n        map.delete(name);\n    }\n}\nvar warnings = new Set();\nfunction warnAboutDataLoss(existingRef, incomingObj, storeFieldName, store) {\n    var getChild = function (objOrRef) {\n        var child = store.getFieldValue(objOrRef, storeFieldName);\n        return typeof child === \"object\" && child;\n    };\n    var existing = getChild(existingRef);\n    if (!existing)\n        return;\n    var incoming = getChild(incomingObj);\n    if (!incoming)\n        return;\n    if (isReference(existing))\n        return;\n    if (equal(existing, incoming))\n        return;\n    if (Object.keys(existing).every(function (key) { return store.getFieldValue(incoming, key) !== void 0; })) {\n        return;\n    }\n    var parentType = store.getFieldValue(existingRef, \"__typename\") ||\n        store.getFieldValue(incomingObj, \"__typename\");\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var typeDotName = \"\".concat(parentType, \".\").concat(fieldName);\n    if (warnings.has(typeDotName))\n        return;\n    warnings.add(typeDotName);\n    var childTypenames = [];\n    if (!isArray(existing) &&\n        !isArray(incoming)) {\n        [existing, incoming].forEach(function (child) {\n            var typename = store.getFieldValue(child, \"__typename\");\n            if (typeof typename === \"string\" &&\n                !childTypenames.includes(typename)) {\n                childTypenames.push(typename);\n            }\n        });\n    }\n    __DEV__ && invariant.warn(\"Cache data may be lost when replacing the \".concat(fieldName, \" field of a \").concat(parentType, \" object.\\n\\nTo address this problem (which is not a bug in Apollo Client), \").concat(childTypenames.length\n        ? \"either ensure all objects of type \" +\n            childTypenames.join(\" and \") + \" have an ID or a custom merge function, or \"\n        : \"\", \"define a custom merge function for the \").concat(typeDotName, \" field, so InMemoryCache can safely merge these objects:\\n\\n  existing: \").concat(JSON.stringify(existing).slice(0, 1000), \"\\n  incoming: \").concat(JSON.stringify(incoming).slice(0, 1000), \"\\n\\nFor more information about these options, please refer to the documentation:\\n\\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\\n\"));\n}\n//# sourceMappingURL=writeToStore.js.map", "import { __assign, __extends } from \"tslib\";\nimport { invariant } from '../../utilities/globals';\nimport './fixPolyfills';\nimport { wrap } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { ApolloCache } from '../core/cache';\nimport { MissingFieldError } from '../core/types/common';\nimport { addTypenameToDocument, isReference, } from '../../utilities';\nimport { StoreReader } from './readFromStore';\nimport { StoreWriter } from './writeToStore';\nimport { EntityStore, supportsResultCaching } from './entityStore';\nimport { makeVar, forgetCache, recallCache } from './reactiveVars';\nimport { Policies } from './policies';\nimport { hasOwn, normalizeConfig, shouldCanonizeResults } from './helpers';\nimport { canonicalStringify } from './object-canon';\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.makeVar = makeVar;\n        _this.txCount = 0;\n        _this.config = normalizeConfig(config);\n        _this.addTypename = !!_this.config.addTypename;\n        _this.policies = new Policies({\n            cache: _this,\n            dataIdFromObject: _this.config.dataIdFromObject,\n            possibleTypes: _this.config.possibleTypes,\n            typePolicies: _this.config.typePolicies,\n        });\n        _this.init();\n        return _this;\n    }\n    InMemoryCache.prototype.init = function () {\n        var rootStore = this.data = new EntityStore.Root({\n            policies: this.policies,\n            resultCaching: this.config.resultCaching,\n        });\n        this.optimisticData = rootStore.stump;\n        this.resetResultCache();\n    };\n    InMemoryCache.prototype.resetResultCache = function (resetResultIdentities) {\n        var _this = this;\n        var previousReader = this.storeReader;\n        var fragments = this.config.fragments;\n        this.storeWriter = new StoreWriter(this, this.storeReader = new StoreReader({\n            cache: this,\n            addTypename: this.addTypename,\n            resultCacheMaxSize: this.config.resultCacheMaxSize,\n            canonizeResults: shouldCanonizeResults(this.config),\n            canon: resetResultIdentities\n                ? void 0\n                : previousReader && previousReader.canon,\n            fragments: fragments,\n        }), fragments);\n        this.maybeBroadcastWatch = wrap(function (c, options) {\n            return _this.broadcastWatch(c, options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (c) {\n                var store = c.optimistic ? _this.optimisticData : _this.data;\n                if (supportsResultCaching(store)) {\n                    var optimistic = c.optimistic, id = c.id, variables = c.variables;\n                    return store.makeCacheKey(c.query, c.callback, canonicalStringify({ optimistic: optimistic, id: id, variables: variables }));\n                }\n            }\n        });\n        new Set([\n            this.data.group,\n            this.optimisticData.group,\n        ]).forEach(function (group) { return group.resetCaching(); });\n    };\n    InMemoryCache.prototype.restore = function (data) {\n        this.init();\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).extract();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        var _a = options.returnPartialData, returnPartialData = _a === void 0 ? false : _a;\n        try {\n            return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: returnPartialData })).result || null;\n        }\n        catch (e) {\n            if (e instanceof MissingFieldError) {\n                return null;\n            }\n            throw e;\n        }\n    };\n    InMemoryCache.prototype.write = function (options) {\n        try {\n            ++this.txCount;\n            return this.storeWriter.writeToStore(this.data, options);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.modify = function (options) {\n        if (hasOwn.call(options, \"id\") && !options.id) {\n            return false;\n        }\n        var store = options.optimistic\n            ? this.optimisticData\n            : this.data;\n        try {\n            ++this.txCount;\n            return store.modify(options.id || \"ROOT_QUERY\", options.fields);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.diff = function (options) {\n        return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, rootId: options.id || \"ROOT_QUERY\", config: this.config }));\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        if (!this.watches.size) {\n            recallCache(this);\n        }\n        this.watches.add(watch);\n        if (watch.immediate) {\n            this.maybeBroadcastWatch(watch);\n        }\n        return function () {\n            if (_this.watches.delete(watch) && !_this.watches.size) {\n                forgetCache(_this);\n            }\n            _this.maybeBroadcastWatch.forget(watch);\n        };\n    };\n    InMemoryCache.prototype.gc = function (options) {\n        canonicalStringify.reset();\n        var ids = this.optimisticData.gc();\n        if (options && !this.txCount) {\n            if (options.resetResultCache) {\n                this.resetResultCache(options.resetResultIdentities);\n            }\n            else if (options.resetResultIdentities) {\n                this.storeReader.resetCanon();\n            }\n        }\n        return ids;\n    };\n    InMemoryCache.prototype.retain = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).retain(rootId);\n    };\n    InMemoryCache.prototype.release = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).release(rootId);\n    };\n    InMemoryCache.prototype.identify = function (object) {\n        if (isReference(object))\n            return object.__ref;\n        try {\n            return this.policies.identify(object)[0];\n        }\n        catch (e) {\n            __DEV__ && invariant.warn(e);\n        }\n    };\n    InMemoryCache.prototype.evict = function (options) {\n        if (!options.id) {\n            if (hasOwn.call(options, \"id\")) {\n                return false;\n            }\n            options = __assign(__assign({}, options), { id: \"ROOT_QUERY\" });\n        }\n        try {\n            ++this.txCount;\n            return this.optimisticData.evict(options, this.data);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.reset = function (options) {\n        var _this = this;\n        this.init();\n        canonicalStringify.reset();\n        if (options && options.discardWatches) {\n            this.watches.forEach(function (watch) { return _this.maybeBroadcastWatch.forget(watch); });\n            this.watches.clear();\n            forgetCache(this);\n        }\n        else {\n            this.broadcastWatches();\n        }\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var newOptimisticData = this.optimisticData.removeLayer(idToRemove);\n        if (newOptimisticData !== this.optimisticData) {\n            this.optimisticData = newOptimisticData;\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.batch = function (options) {\n        var _this = this;\n        var update = options.update, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, removeOptimistic = options.removeOptimistic, onWatchUpdated = options.onWatchUpdated;\n        var updateResult;\n        var perform = function (layer) {\n            var _a = _this, data = _a.data, optimisticData = _a.optimisticData;\n            ++_this.txCount;\n            if (layer) {\n                _this.data = _this.optimisticData = layer;\n            }\n            try {\n                return updateResult = update(_this);\n            }\n            finally {\n                --_this.txCount;\n                _this.data = data;\n                _this.optimisticData = optimisticData;\n            }\n        };\n        var alreadyDirty = new Set();\n        if (onWatchUpdated && !this.txCount) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch) {\n                    alreadyDirty.add(watch);\n                    return false;\n                } }));\n        }\n        if (typeof optimistic === 'string') {\n            this.optimisticData = this.optimisticData.addLayer(optimistic, perform);\n        }\n        else if (optimistic === false) {\n            perform(this.data);\n        }\n        else {\n            perform();\n        }\n        if (typeof removeOptimistic === \"string\") {\n            this.optimisticData = this.optimisticData.removeLayer(removeOptimistic);\n        }\n        if (onWatchUpdated && alreadyDirty.size) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch, diff) {\n                    var result = onWatchUpdated.call(this, watch, diff);\n                    if (result !== false) {\n                        alreadyDirty.delete(watch);\n                    }\n                    return result;\n                } }));\n            if (alreadyDirty.size) {\n                alreadyDirty.forEach(function (watch) { return _this.maybeBroadcastWatch.dirty(watch); });\n            }\n        }\n        else {\n            this.broadcastWatches(options);\n        }\n        return updateResult;\n    };\n    InMemoryCache.prototype.performTransaction = function (update, optimisticId) {\n        return this.batch({\n            update: update,\n            optimistic: optimisticId || (optimisticId !== null),\n        });\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.transformForLink = function (document) {\n        var fragments = this.config.fragments;\n        return fragments\n            ? fragments.transform(document)\n            : document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function (options) {\n        var _this = this;\n        if (!this.txCount) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c, options); });\n        }\n    };\n    InMemoryCache.prototype.broadcastWatch = function (c, options) {\n        var lastDiff = c.lastDiff;\n        var diff = this.diff(c);\n        if (options) {\n            if (c.optimistic &&\n                typeof options.optimistic === \"string\") {\n                diff.fromOptimisticTransaction = true;\n            }\n            if (options.onWatchUpdated &&\n                options.onWatchUpdated.call(this, c, diff, lastDiff) === false) {\n                return;\n            }\n        }\n        if (!lastDiff || !equal(lastDiff.result, diff.result)) {\n            c.callback(c.lastDiff = diff, lastDiff);\n        }\n    };\n    return InMemoryCache;\n}(ApolloCache));\nexport { InMemoryCache };\n//# sourceMappingURL=inMemoryCache.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { visit, } from \"graphql\";\nimport { wrap } from \"optimism\";\nimport { getFragmentDefinitions } from \"../../utilities\";\nexport function createFragmentRegistry() {\n    var fragments = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fragments[_i] = arguments[_i];\n    }\n    return new (FragmentRegistry.bind.apply(FragmentRegistry, __spreadArray([void 0], fragments, false)))();\n}\nvar arrayLikeForEach = Array.prototype.forEach;\nvar FragmentRegistry = (function () {\n    function FragmentRegistry() {\n        var fragments = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            fragments[_i] = arguments[_i];\n        }\n        this.registry = Object.create(null);\n        this.resetCaches();\n        if (fragments.length) {\n            this.register.apply(this, fragments);\n        }\n    }\n    FragmentRegistry.prototype.register = function () {\n        var _this = this;\n        var definitions = new Map();\n        arrayLikeForEach.call(arguments, function (doc) {\n            getFragmentDefinitions(doc).forEach(function (node) {\n                definitions.set(node.name.value, node);\n            });\n        });\n        definitions.forEach(function (node, name) {\n            if (node !== _this.registry[name]) {\n                _this.registry[name] = node;\n                _this.invalidate(name);\n            }\n        });\n        return this;\n    };\n    FragmentRegistry.prototype.invalidate = function (name) { };\n    FragmentRegistry.prototype.resetCaches = function () {\n        this.invalidate = (this.lookup = this.cacheUnaryMethod(\"lookup\")).dirty;\n        this.transform = this.cacheUnaryMethod(\"transform\");\n        this.findFragmentSpreads = this.cacheUnaryMethod(\"findFragmentSpreads\");\n    };\n    FragmentRegistry.prototype.cacheUnaryMethod = function (name) {\n        var registry = this;\n        var originalMethod = FragmentRegistry.prototype[name];\n        return wrap(function () {\n            return originalMethod.apply(registry, arguments);\n        }, {\n            makeCacheKey: function (arg) { return arg; },\n        });\n    };\n    FragmentRegistry.prototype.lookup = function (fragmentName) {\n        return this.registry[fragmentName] || null;\n    };\n    FragmentRegistry.prototype.transform = function (document) {\n        var _this = this;\n        var defined = new Map();\n        getFragmentDefinitions(document).forEach(function (def) {\n            defined.set(def.name.value, def);\n        });\n        var unbound = new Set();\n        var enqueue = function (spreadName) {\n            if (!defined.has(spreadName)) {\n                unbound.add(spreadName);\n            }\n        };\n        var enqueueChildSpreads = function (node) { return Object.keys(_this.findFragmentSpreads(node)).forEach(enqueue); };\n        enqueueChildSpreads(document);\n        var missing = [];\n        var map = Object.create(null);\n        unbound.forEach(function (fragmentName) {\n            var knownFragmentDef = defined.get(fragmentName);\n            if (knownFragmentDef) {\n                enqueueChildSpreads(map[fragmentName] = knownFragmentDef);\n            }\n            else {\n                missing.push(fragmentName);\n                var def = _this.lookup(fragmentName);\n                if (def) {\n                    enqueueChildSpreads(map[fragmentName] = def);\n                }\n            }\n        });\n        if (missing.length) {\n            var defsToAppend_1 = [];\n            missing.forEach(function (name) {\n                var def = map[name];\n                if (def) {\n                    defsToAppend_1.push(def);\n                }\n            });\n            if (defsToAppend_1.length) {\n                document = __assign(__assign({}, document), { definitions: document.definitions.concat(defsToAppend_1) });\n            }\n        }\n        return document;\n    };\n    FragmentRegistry.prototype.findFragmentSpreads = function (root) {\n        var spreads = Object.create(null);\n        visit(root, {\n            FragmentSpread: function (node) {\n                spreads[node.name.value] = node;\n            },\n        });\n        return spreads;\n    };\n    return FragmentRegistry;\n}());\n//# sourceMappingURL=fragmentRegistry.js.map", "import { __extends } from \"tslib\";\nimport '../utilities/globals';\nimport { isNonEmptyArray } from '../utilities';\nexport function isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (isNonEmptyArray(err.graphQLErrors) || isNonEmptyArray(err.clientErrors)) {\n        var errors = (err.graphQLErrors || [])\n            .concat(err.clientErrors || []);\n        errors.forEach(function (error) {\n            var errorMessage = error\n                ? error.message\n                : 'Error message not found.';\n            message += \"\".concat(errorMessage, \"\\n\");\n        });\n    }\n    if (err.networkError) {\n        message += \"\".concat(err.networkError.message, \"\\n\");\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, clientErrors = _a.clientErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.name = 'ApolloError';\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.clientErrors = clientErrors || [];\n        _this.networkError = networkError || null;\n        _this.message = errorMessage || generateErrorMessage(_this);\n        _this.extraInfo = extraInfo;\n        _this.__proto__ = ApolloError.prototype;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\nexport { ApolloError };\n//# sourceMappingURL=index.js.map", "export var version = '3.7.9';\n//# sourceMappingURL=version.js.map", "export var isArray = Array.isArray;\nexport function isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n//# sourceMappingURL=arrays.js.map", "export function isNonNullObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n//# sourceMappingURL=objects.js.map", "import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map", "import { isNonEmptyArray } from \"./arrays\";\nimport { DeepMerger } from \"./mergeDeep\";\nexport function isExecutionPatchIncrementalResult(value) {\n    return \"incremental\" in value;\n}\nexport function isExecutionPatchInitialResult(value) {\n    return \"hasNext\" in value && \"data\" in value;\n}\nexport function isExecutionPatchResult(value) {\n    return (isExecutionPatchIncrementalResult(value) ||\n        isExecutionPatchInitialResult(value));\n}\nexport function mergeIncrementalData(prevResult, result) {\n    var mergedData = prevResult;\n    var merger = new DeepMerger();\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (_a) {\n            var data = _a.data, path = _a.path;\n            for (var i = path.length - 1; i >= 0; --i) {\n                var key = path[i];\n                var isNumericKey = !isNaN(+key);\n                var parent_1 = isNumericKey ? [] : {};\n                parent_1[key] = data;\n                data = parent_1;\n            }\n            mergedData = merger.merge(mergedData, data);\n        });\n    }\n    return mergedData;\n}\n//# sourceMappingURL=incrementalResult.js.map", "export var NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nexport function isNetworkRequestInFlight(networkStatus) {\n    return networkStatus ? networkStatus < 7 : false;\n}\n//# sourceMappingURL=networkStatus.js.map", "import { __assign, __extends } from \"tslib\";\nimport { invariant } from '../utilities/globals';\nimport { equal } from '@wry/equality';\nimport { NetworkStatus, isNetworkRequestInFlight } from './networkStatus';\nimport { cloneDeep, compact, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from '../utilities';\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\n        var _this = _super.call(this, function (observer) {\n            try {\n                var subObserver = observer._subscription._observer;\n                if (subObserver && !subObserver.error) {\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\n                }\n            }\n            catch (_a) { }\n            var first = !_this.observers.size;\n            _this.observers.add(observer);\n            var last = _this.last;\n            if (last && last.error) {\n                observer.error && observer.error(last.error);\n            }\n            else if (last && last.result) {\n                observer.next && observer.next(last.result);\n            }\n            if (first) {\n                _this.reobserve().catch(function () { });\n            }\n            return function () {\n                if (_this.observers.delete(observer) && !_this.observers.size) {\n                    _this.tearDownQuery();\n                }\n            };\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.queryInfo = queryInfo;\n        _this.queryManager = queryManager;\n        _this.isTornDown = false;\n        var _b = queryManager.defaultOptions.watchQuery, _c = _b === void 0 ? {} : _b, _d = _c.fetchPolicy, defaultFetchPolicy = _d === void 0 ? \"cache-first\" : _d;\n        var _e = options.fetchPolicy, fetchPolicy = _e === void 0 ? defaultFetchPolicy : _e, _f = options.initialFetchPolicy, initialFetchPolicy = _f === void 0 ? (fetchPolicy === \"standby\" ? defaultFetchPolicy : fetchPolicy) : _f;\n        _this.options = __assign(__assign({}, options), { initialFetchPolicy: initialFetchPolicy, fetchPolicy: fetchPolicy });\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\n        var opDef = getOperationDefinition(_this.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        return _this;\n    }\n    Object.defineProperty(ObservableQuery.prototype, \"query\", {\n        get: function () {\n            return this.queryManager.transform(this.options.query).document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\n        get: function () {\n            return this.options.variables;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\n        var lastResult = this.getLastResult(true);\n        var networkStatus = this.queryInfo.networkStatus ||\n            (lastResult && lastResult.networkStatus) ||\n            NetworkStatus.ready;\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\n        if (fetchPolicy === 'network-only' ||\n            fetchPolicy === 'no-cache' ||\n            fetchPolicy === 'standby' ||\n            this.queryManager.transform(this.options.query).hasForcedResolvers) {\n        }\n        else {\n            var diff = this.queryInfo.getDiff();\n            if (diff.complete || this.options.returnPartialData) {\n                result.data = diff.result;\n            }\n            if (equal(result.data, {})) {\n                result.data = void 0;\n            }\n            if (diff.complete) {\n                delete result.partial;\n                if (diff.complete &&\n                    result.networkStatus === NetworkStatus.loading &&\n                    (fetchPolicy === 'cache-first' ||\n                        fetchPolicy === 'cache-only')) {\n                    result.networkStatus = NetworkStatus.ready;\n                    result.loading = false;\n                }\n            }\n            else {\n                result.partial = true;\n            }\n            if (__DEV__ &&\n                !diff.complete &&\n                !this.options.partialRefetch &&\n                !result.loading &&\n                !result.data &&\n                !result.error) {\n                logMissingFieldErrors(diff.missing);\n            }\n        }\n        if (saveAsLastResult) {\n            this.updateLastResult(result);\n        }\n        return result;\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult, variables) {\n        return (!this.last ||\n            !equal(this.last.result, newResult) ||\n            (variables && !equal(this.last.variables, variables)));\n    };\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\n        var last = this.last;\n        if (last &&\n            last[key] &&\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\n            return last[key];\n        }\n    };\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\n        return this.getLast(\"result\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\n        return this.getLast(\"error\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.last;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        this.queryManager.resetErrors(this.queryId);\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var _a;\n        var reobserveOptions = {\n            pollInterval: 0,\n        };\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-and-network') {\n            reobserveOptions.fetchPolicy = fetchPolicy;\n        }\n        else if (fetchPolicy === 'no-cache') {\n            reobserveOptions.fetchPolicy = 'no-cache';\n        }\n        else {\n            reobserveOptions.fetchPolicy = 'network-only';\n        }\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\n            var queryDef = getQueryDefinition(this.query);\n            var vars = queryDef.variableDefinitions;\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\n                __DEV__ && invariant.warn(\"Called refetch(\".concat(JSON.stringify(variables), \") for query \").concat(((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef), \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\"));\n            }\n        }\n        if (variables && !equal(this.options.variables, variables)) {\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\n        }\n        this.queryInfo.resetLastWrite();\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign(__assign({}, this.options), { query: this.query }), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\n        var qid = this.queryManager.generateQueryId();\n        var queryInfo = this.queryInfo;\n        var originalNetworkStatus = queryInfo.networkStatus;\n        queryInfo.networkStatus = NetworkStatus.fetchMore;\n        if (combinedOptions.notifyOnNetworkStatusChange) {\n            this.observe();\n        }\n        var updatedQuerySet = new Set();\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\n            _this.queryManager.removeQuery(qid);\n            if (queryInfo.networkStatus === NetworkStatus.fetchMore) {\n                queryInfo.networkStatus = originalNetworkStatus;\n            }\n            _this.queryManager.cache.batch({\n                update: function (cache) {\n                    var updateQuery = fetchMoreOptions.updateQuery;\n                    if (updateQuery) {\n                        cache.updateQuery({\n                            query: _this.query,\n                            variables: _this.variables,\n                            returnPartialData: true,\n                            optimistic: false,\n                        }, function (previous) { return updateQuery(previous, {\n                            fetchMoreResult: fetchMoreResult.data,\n                            variables: combinedOptions.variables,\n                        }); });\n                    }\n                    else {\n                        cache.writeQuery({\n                            query: combinedOptions.query,\n                            variables: combinedOptions.variables,\n                            data: fetchMoreResult.data,\n                        });\n                    }\n                },\n                onWatchUpdated: function (watch) {\n                    updatedQuerySet.add(watch.query);\n                },\n            });\n            return fetchMoreResult;\n        }).finally(function () {\n            if (!updatedQuerySet.has(_this.query)) {\n                reobserveCacheFirst(_this);\n            }\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n            context: options.context,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (newOptions) {\n        return this.reobserve(newOptions);\n    };\n    ObservableQuery.prototype.setVariables = function (variables) {\n        if (equal(this.variables, variables)) {\n            return this.observers.size\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.reobserve({\n            fetchPolicy: this.options.initialFetchPolicy,\n            variables: variables,\n        }, NetworkStatus.setVariables);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var result = queryManager.cache.diff({\n            query: this.options.query,\n            variables: this.variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n        var newResult = mapFn(result, {\n            variables: this.variables,\n        });\n        if (newResult) {\n            queryManager.cache.writeQuery({\n                query: this.options.query,\n                data: newResult,\n                variables: this.variables,\n            });\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        this.options.pollInterval = pollInterval;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.options.pollInterval = 0;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.applyNextFetchPolicy = function (reason, options) {\n        if (options.nextFetchPolicy) {\n            var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.initialFetchPolicy, initialFetchPolicy = _b === void 0 ? fetchPolicy : _b;\n            if (fetchPolicy === \"standby\") {\n            }\n            else if (typeof options.nextFetchPolicy === \"function\") {\n                options.fetchPolicy = options.nextFetchPolicy(fetchPolicy, {\n                    reason: reason,\n                    options: options,\n                    observable: this,\n                    initialFetchPolicy: initialFetchPolicy,\n                });\n            }\n            else if (reason === \"variables-changed\") {\n                options.fetchPolicy = initialFetchPolicy;\n            }\n            else {\n                options.fetchPolicy = options.nextFetchPolicy;\n            }\n        }\n        return options.fetchPolicy;\n    };\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\n        this.queryManager.setObservableQuery(this);\n        return this.queryManager.fetchQueryObservable(this.queryId, options, newNetworkStatus);\n    };\n    ObservableQuery.prototype.updatePolling = function () {\n        var _this = this;\n        if (this.queryManager.ssrMode) {\n            return;\n        }\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\n        if (!pollInterval) {\n            if (pollingInfo) {\n                clearTimeout(pollingInfo.timeout);\n                delete this.pollingInfo;\n            }\n            return;\n        }\n        if (pollingInfo &&\n            pollingInfo.interval === pollInterval) {\n            return;\n        }\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 13);\n        var info = pollingInfo || (this.pollingInfo = {});\n        info.interval = pollInterval;\n        var maybeFetch = function () {\n            if (_this.pollingInfo) {\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\n                    _this.reobserve({\n                        fetchPolicy: _this.options.initialFetchPolicy === 'no-cache' ? 'no-cache' : 'network-only',\n                    }, NetworkStatus.poll).then(poll, poll);\n                }\n                else {\n                    poll();\n                }\n            }\n            ;\n        };\n        var poll = function () {\n            var info = _this.pollingInfo;\n            if (info) {\n                clearTimeout(info.timeout);\n                info.timeout = setTimeout(maybeFetch, info.interval);\n            }\n        };\n        poll();\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\n        if (variables === void 0) { variables = this.variables; }\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\n                ? newResult\n                : cloneDeep(newResult), variables: variables });\n        if (!isNonEmptyArray(newResult.errors)) {\n            delete this.last.error;\n        }\n        return this.last;\n    };\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\n        var _this = this;\n        this.isTornDown = false;\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\n            newNetworkStatus === NetworkStatus.fetchMore ||\n            newNetworkStatus === NetworkStatus.poll;\n        var oldVariables = this.options.variables;\n        var oldFetchPolicy = this.options.fetchPolicy;\n        var mergedOptions = compact(this.options, newOptions || {});\n        var options = useDisposableConcast\n            ? mergedOptions\n            : assign(this.options, mergedOptions);\n        if (!useDisposableConcast) {\n            this.updatePolling();\n            if (newOptions &&\n                newOptions.variables &&\n                !equal(newOptions.variables, oldVariables) &&\n                options.fetchPolicy !== \"standby\" &&\n                options.fetchPolicy === oldFetchPolicy) {\n                this.applyNextFetchPolicy(\"variables-changed\", options);\n                if (newNetworkStatus === void 0) {\n                    newNetworkStatus = NetworkStatus.setVariables;\n                }\n            }\n        }\n        var variables = options.variables && __assign({}, options.variables);\n        var concast = this.fetch(options, newNetworkStatus);\n        var observer = {\n            next: function (result) {\n                _this.reportResult(result, variables);\n            },\n            error: function (error) {\n                _this.reportError(error, variables);\n            },\n        };\n        if (!useDisposableConcast) {\n            if (this.concast && this.observer) {\n                this.concast.removeObserver(this.observer);\n            }\n            this.concast = concast;\n            this.observer = observer;\n        }\n        concast.addObserver(observer);\n        return concast.promise;\n    };\n    ObservableQuery.prototype.observe = function () {\n        this.reportResult(this.getCurrentResult(false), this.variables);\n    };\n    ObservableQuery.prototype.reportResult = function (result, variables) {\n        var lastError = this.getLastError();\n        if (lastError || this.isDifferentFromLastResult(result, variables)) {\n            if (lastError || !result.partial || this.options.returnPartialData) {\n                this.updateLastResult(result, variables);\n            }\n            iterateObserversSafely(this.observers, 'next', result);\n        }\n    };\n    ObservableQuery.prototype.reportError = function (error, variables) {\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\n        this.updateLastResult(errorResult, variables);\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\n    };\n    ObservableQuery.prototype.hasObservers = function () {\n        return this.observers.size > 0;\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isTornDown)\n            return;\n        if (this.concast && this.observer) {\n            this.concast.removeObserver(this.observer);\n            delete this.concast;\n            delete this.observer;\n        }\n        this.stopPolling();\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        this.queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n        this.isTornDown = true;\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\nfixObservableSubclass(ObservableQuery);\nexport function reobserveCacheFirst(obsQuery) {\n    var _a = obsQuery.options, fetchPolicy = _a.fetchPolicy, nextFetchPolicy = _a.nextFetchPolicy;\n    if (fetchPolicy === \"cache-and-network\" ||\n        fetchPolicy === \"network-only\") {\n        return obsQuery.reobserve({\n            fetchPolicy: \"cache-first\",\n            nextFetchPolicy: function () {\n                this.nextFetchPolicy = nextFetchPolicy;\n                if (typeof nextFetchPolicy === \"function\") {\n                    return nextFetchPolicy.apply(this, arguments);\n                }\n                return fetchPolicy;\n            },\n        });\n    }\n    return obsQuery.reobserve();\n}\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\n}\nexport function logMissingFieldErrors(missing) {\n    if (__DEV__ && missing) {\n        __DEV__ && invariant.debug(\"Missing cache result fields: \".concat(JSON.stringify(missing)), missing);\n    }\n}\n//# sourceMappingURL=ObservableQuery.js.map", "import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant } from '../utilities/globals';\nimport { visit, BREAK, isSelectionNode, } from 'graphql';\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from '../utilities';\nimport { cacheSlot } from '../cache';\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.selectionsToResolveCache = new WeakMap();\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return removeClientSetsFromDocument(document);\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        var cache = this.cache;\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                return cache.identify(obj);\n            } });\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, selectionsToResolve, definitionOperation, defaultOperationType, _a, cache, client, execContext, isClientFieldDescendant;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                selectionsToResolve = this.collectSelectionsToResolve(mainDefinition, fragmentMap);\n                definitionOperation = mainDefinition.operation;\n                defaultOperationType = definitionOperation\n                    ? definitionOperation.charAt(0).toUpperCase() +\n                        definitionOperation.slice(1)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    selectionsToResolve: selectionsToResolve,\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                isClientFieldDescendant = false;\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!isClientFieldDescendant && !execContext.selectionsToResolve.has(selection)) {\n                            return [2];\n                        }\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, isClientFieldDescendant, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value)) : invariant(fragment, 11);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!rootValue) {\n                    return [2, null];\n                }\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\n                                rootValue,\n                                argumentsObjectFromField(field, variables),\n                                execContext.context,\n                                { field: field, fragmentMap: execContext.fragmentMap },\n                            ]));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        var _a, _b;\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        var isClientField = (_b = (_a = field.directives) === null || _a === void 0 ? void 0 : _a.some(function (d) { return d.name.value === 'client'; })) !== null && _b !== void 0 ? _b : false;\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, isClientFieldDescendant, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, isClientFieldDescendant, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant, item, execContext);\n            }\n        }));\n    };\n    LocalState.prototype.collectSelectionsToResolve = function (mainDefinition, fragmentMap) {\n        var isSingleASTNode = function (node) { return !Array.isArray(node); };\n        var selectionsToResolveCache = this.selectionsToResolveCache;\n        function collectByDefinition(definitionNode) {\n            if (!selectionsToResolveCache.has(definitionNode)) {\n                var matches_1 = new Set();\n                selectionsToResolveCache.set(definitionNode, matches_1);\n                visit(definitionNode, {\n                    Directive: function (node, _, __, ___, ancestors) {\n                        if (node.name.value === 'client') {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                        }\n                    },\n                    FragmentSpread: function (spread, _, __, ___, ancestors) {\n                        var fragment = fragmentMap[spread.name.value];\n                        __DEV__ ? invariant(fragment, \"No fragment named \".concat(spread.name.value)) : invariant(fragment, 12);\n                        var fragmentSelections = collectByDefinition(fragment);\n                        if (fragmentSelections.size > 0) {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                            matches_1.add(spread);\n                            fragmentSelections.forEach(function (selection) {\n                                matches_1.add(selection);\n                            });\n                        }\n                    }\n                });\n            }\n            return selectionsToResolveCache.get(definitionNode);\n        }\n        return collectByDefinition(mainDefinition);\n    };\n    return LocalState;\n}());\nexport { LocalState };\n//# sourceMappingURL=LocalState.js.map", "import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { DeepMerger } from \"../utilities\";\nimport { mergeIncrementalData } from '../utilities/common/incrementalResult';\nimport { reobserveCacheFirst } from './ObservableQuery';\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from '../utilities';\nimport { NetworkStatus, isNetworkRequestInFlight, } from './networkStatus';\n;\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\nfunction wrapDestructiveCacheMethod(cache, methodName) {\n    var original = cache[methodName];\n    if (typeof original === \"function\") {\n        cache[methodName] = function () {\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\n            return original.apply(this, arguments);\n        };\n    }\n}\nfunction cancelNotifyTimeout(info) {\n    if (info[\"notifyTimeout\"]) {\n        clearTimeout(info[\"notifyTimeout\"]);\n        info[\"notifyTimeout\"] = void 0;\n    }\n}\nvar QueryInfo = (function () {\n    function QueryInfo(queryManager, queryId) {\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\n        this.queryId = queryId;\n        this.listeners = new Set();\n        this.document = null;\n        this.lastRequestId = 1;\n        this.subscriptions = new Set();\n        this.stopped = false;\n        this.dirty = false;\n        this.observableQuery = null;\n        var cache = this.cache = queryManager.cache;\n        if (!destructiveMethodCounts.has(cache)) {\n            destructiveMethodCounts.set(cache, 0);\n            wrapDestructiveCacheMethod(cache, \"evict\");\n            wrapDestructiveCacheMethod(cache, \"modify\");\n            wrapDestructiveCacheMethod(cache, \"reset\");\n        }\n    }\n    QueryInfo.prototype.init = function (query) {\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\n        if (this.variables &&\n            this.networkStatus !== NetworkStatus.loading &&\n            !equal(this.variables, query.variables)) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        if (!equal(query.variables, this.variables)) {\n            this.lastDiff = void 0;\n        }\n        Object.assign(this, {\n            document: query.document,\n            variables: query.variables,\n            networkError: null,\n            graphQLErrors: this.graphQLErrors || [],\n            networkStatus: networkStatus,\n        });\n        if (query.observableQuery) {\n            this.setObservableQuery(query.observableQuery);\n        }\n        if (query.lastRequestId) {\n            this.lastRequestId = query.lastRequestId;\n        }\n        return this;\n    };\n    QueryInfo.prototype.reset = function () {\n        cancelNotifyTimeout(this);\n        this.dirty = false;\n    };\n    QueryInfo.prototype.getDiff = function (variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var options = this.getDiffOptions(variables);\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\n            return this.lastDiff.diff;\n        }\n        this.updateWatch(this.variables = variables);\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return { complete: false };\n        }\n        var diff = this.cache.diff(options);\n        this.updateLastDiff(diff, options);\n        return diff;\n    };\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\n        this.lastDiff = diff ? {\n            diff: diff,\n            options: options || this.getDiffOptions(),\n        } : void 0;\n    };\n    QueryInfo.prototype.getDiffOptions = function (variables) {\n        var _a;\n        if (variables === void 0) { variables = this.variables; }\n        return {\n            query: this.document,\n            variables: variables,\n            returnPartialData: true,\n            optimistic: true,\n            canonizeResults: (_a = this.observableQuery) === null || _a === void 0 ? void 0 : _a.options.canonizeResults,\n        };\n    };\n    QueryInfo.prototype.setDiff = function (diff) {\n        var _this = this;\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\n        this.updateLastDiff(diff);\n        if (!this.dirty &&\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\n            this.dirty = true;\n            if (!this.notifyTimeout) {\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\n            }\n        }\n    };\n    QueryInfo.prototype.setObservableQuery = function (oq) {\n        var _this = this;\n        if (oq === this.observableQuery)\n            return;\n        if (this.oqListener) {\n            this.listeners.delete(this.oqListener);\n        }\n        this.observableQuery = oq;\n        if (oq) {\n            oq[\"queryInfo\"] = this;\n            this.listeners.add(this.oqListener = function () {\n                var diff = _this.getDiff();\n                if (diff.fromOptimisticTransaction) {\n                    oq[\"observe\"]();\n                }\n                else {\n                    reobserveCacheFirst(oq);\n                }\n            });\n        }\n        else {\n            delete this.oqListener;\n        }\n    };\n    QueryInfo.prototype.notify = function () {\n        var _this = this;\n        cancelNotifyTimeout(this);\n        if (this.shouldNotify()) {\n            this.listeners.forEach(function (listener) { return listener(_this); });\n        }\n        this.dirty = false;\n    };\n    QueryInfo.prototype.shouldNotify = function () {\n        if (!this.dirty || !this.listeners.size) {\n            return false;\n        }\n        if (isNetworkRequestInFlight(this.networkStatus) &&\n            this.observableQuery) {\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== \"cache-only\" &&\n                fetchPolicy !== \"cache-and-network\") {\n                return false;\n            }\n        }\n        return true;\n    };\n    QueryInfo.prototype.stop = function () {\n        if (!this.stopped) {\n            this.stopped = true;\n            this.reset();\n            this.cancel();\n            this.cancel = QueryInfo.prototype.cancel;\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            var oq = this.observableQuery;\n            if (oq)\n                oq.stopPolling();\n        }\n    };\n    QueryInfo.prototype.cancel = function () { };\n    QueryInfo.prototype.updateWatch = function (variables) {\n        var _this = this;\n        if (variables === void 0) { variables = this.variables; }\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return;\n        }\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\n        if (!this.lastWatch ||\n            !equal(watchOptions, this.lastWatch)) {\n            this.cancel();\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\n        }\n    };\n    QueryInfo.prototype.resetLastWrite = function () {\n        this.lastWrite = void 0;\n    };\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\n        var lastWrite = this.lastWrite;\n        return !(lastWrite &&\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\n            equal(variables, lastWrite.variables) &&\n            equal(result.data, lastWrite.result.data));\n    };\n    QueryInfo.prototype.markResult = function (result, document, options, cacheWriteBehavior) {\n        var _this = this;\n        var merger = new DeepMerger();\n        var graphQLErrors = isNonEmptyArray(result.errors)\n            ? result.errors.slice(0)\n            : [];\n        this.reset();\n        if ('incremental' in result && isNonEmptyArray(result.incremental)) {\n            var mergedData = mergeIncrementalData(this.getDiff().result, result);\n            result.data = mergedData;\n        }\n        else if ('hasNext' in result && result.hasNext) {\n            var diff = this.getDiff();\n            result.data = merger.merge(diff.result, result.data);\n        }\n        this.graphQLErrors = graphQLErrors;\n        if (options.fetchPolicy === 'no-cache') {\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\n        }\n        else if (cacheWriteBehavior !== 0) {\n            if (shouldWriteResult(result, options.errorPolicy)) {\n                this.cache.performTransaction(function (cache) {\n                    if (_this.shouldWrite(result, options.variables)) {\n                        cache.writeQuery({\n                            query: document,\n                            data: result.data,\n                            variables: options.variables,\n                            overwrite: cacheWriteBehavior === 1,\n                        });\n                        _this.lastWrite = {\n                            result: result,\n                            variables: options.variables,\n                            dmCount: destructiveMethodCounts.get(_this.cache),\n                        };\n                    }\n                    else {\n                        if (_this.lastDiff &&\n                            _this.lastDiff.diff.complete) {\n                            result.data = _this.lastDiff.diff.result;\n                            return;\n                        }\n                    }\n                    var diffOptions = _this.getDiffOptions(options.variables);\n                    var diff = cache.diff(diffOptions);\n                    if (!_this.stopped) {\n                        _this.updateWatch(options.variables);\n                    }\n                    _this.updateLastDiff(diff, diffOptions);\n                    if (diff.complete) {\n                        result.data = diff.result;\n                    }\n                });\n            }\n            else {\n                this.lastWrite = void 0;\n            }\n        }\n    };\n    QueryInfo.prototype.markReady = function () {\n        this.networkError = null;\n        return this.networkStatus = NetworkStatus.ready;\n    };\n    QueryInfo.prototype.markError = function (error) {\n        this.networkStatus = NetworkStatus.error;\n        this.lastWrite = void 0;\n        this.reset();\n        if (error.graphQLErrors) {\n            this.graphQLErrors = error.graphQLErrors;\n        }\n        if (error.networkError) {\n            this.networkError = error.networkError;\n        }\n        return error;\n    };\n    return QueryInfo;\n}());\nexport { QueryInfo };\nexport function shouldWriteResult(result, errorPolicy) {\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\n    var ignoreErrors = errorPolicy === \"ignore\" ||\n        errorPolicy === \"all\";\n    var writeWithErrors = !graphQLResultHasError(result);\n    if (!writeWithErrors && ignoreErrors && result.data) {\n        writeWithErrors = true;\n    }\n    return writeWithErrors;\n}\n//# sourceMappingURL=QueryInfo.js.map", "import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant, InvariantError } from '../utilities/globals';\nimport { equal } from '@wry/equality';\nimport { execute } from '../link/core';\nimport { isExecutionPatchIncrementalResult, isExecutionPatchResult, } from '../utilities/common/incrementalResult';\nimport { canonicalStringify } from '../cache';\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, getGraphQLErrorsFromResult, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from '../utilities';\nimport { mergeIncrementalData } from '../utilities/common/incrementalResult';\nimport { ApolloError, isApolloError } from '../errors';\nimport { ObservableQuery, logMissingFieldErrors } from './ObservableQuery';\nimport { NetworkStatus, isNetworkRequestInFlight } from './networkStatus';\nimport { LocalState } from './LocalState';\nimport { QueryInfo, shouldWriteResult, } from './QueryInfo';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var cache = _a.cache, link = _a.link, defaultOptions = _a.defaultOptions, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.clientAwareness = {};\n        this.queries = new Map();\n        this.fetchCancelFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.queryIdCounter = 1;\n        this.requestIdCounter = 1;\n        this.mutationIdCounter = 1;\n        this.inFlightLinkObservables = new Map();\n        this.cache = cache;\n        this.link = link;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.queryDeduplication = queryDeduplication;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: cache });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n        if ((this.onBroadcast = onBroadcast)) {\n            this.mutationStore = Object.create(null);\n        }\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(14));\n    };\n    QueryManager.prototype.cancelPendingFetches = function (error) {\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\n        this.fetchCancelFns.clear();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _b, _c;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _d = _a.refetchQueries, refetchQueries = _d === void 0 ? [] : _d, _e = _a.awaitRefetchQueries, awaitRefetchQueries = _e === void 0 ? false : _e, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _f = _a.fetchPolicy, fetchPolicy = _f === void 0 ? ((_b = this.defaultOptions.mutate) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"network-only\" : _f, _g = _a.errorPolicy, errorPolicy = _g === void 0 ? ((_c = this.defaultOptions.mutate) === null || _c === void 0 ? void 0 : _c.errorPolicy) || \"none\" : _g, keepRootFields = _a.keepRootFields, context = _a.context;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, _h, document, hasClientExports, mutationStoreValue, self;\n            return __generator(this, function (_j) {\n                switch (_j.label) {\n                    case 0:\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 15);\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', 16);\n                        mutationId = this.generateMutationId();\n                        _h = this.transform(mutation), document = _h.document, hasClientExports = _h.hasClientExports;\n                        mutation = this.cache.transformForLink(document);\n                        variables = this.getVariables(mutation, variables);\n                        if (!hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = (_j.sent());\n                        _j.label = 2;\n                    case 2:\n                        mutationStoreValue = this.mutationStore &&\n                            (this.mutationStore[mutationId] = {\n                                mutation: mutation,\n                                variables: variables,\n                                loading: true,\n                                error: null,\n                            });\n                        if (optimisticResponse) {\n                            this.markMutationOptimistic(optimisticResponse, {\n                                mutationId: mutationId,\n                                document: mutation,\n                                variables: variables,\n                                fetchPolicy: fetchPolicy,\n                                errorPolicy: errorPolicy,\n                                context: context,\n                                updateQueries: updateQueries,\n                                update: updateWithProxyFn,\n                                keepRootFields: keepRootFields,\n                            });\n                        }\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                        throw new ApolloError({\n                                            graphQLErrors: getGraphQLErrorsFromResult(result),\n                                        });\n                                    }\n                                    if (mutationStoreValue) {\n                                        mutationStoreValue.loading = false;\n                                        mutationStoreValue.error = null;\n                                    }\n                                    var storeResult = __assign({}, result);\n                                    if (typeof refetchQueries === \"function\") {\n                                        refetchQueries = refetchQueries(storeResult);\n                                    }\n                                    if (errorPolicy === 'ignore' &&\n                                        graphQLResultHasError(storeResult)) {\n                                        delete storeResult.errors;\n                                    }\n                                    return self.markMutationResult({\n                                        mutationId: mutationId,\n                                        result: storeResult,\n                                        document: mutation,\n                                        variables: variables,\n                                        fetchPolicy: fetchPolicy,\n                                        errorPolicy: errorPolicy,\n                                        context: context,\n                                        update: updateWithProxyFn,\n                                        updateQueries: updateQueries,\n                                        awaitRefetchQueries: awaitRefetchQueries,\n                                        refetchQueries: refetchQueries,\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\n                                        onQueryUpdated: onQueryUpdated,\n                                        keepRootFields: keepRootFields,\n                                    });\n                                }).subscribe({\n                                    next: function (storeResult) {\n                                        self.broadcastQueries();\n                                        if (!('hasNext' in storeResult) || storeResult.hasNext === false) {\n                                            resolve(storeResult);\n                                        }\n                                    },\n                                    error: function (err) {\n                                        if (mutationStoreValue) {\n                                            mutationStoreValue.loading = false;\n                                            mutationStoreValue.error = err;\n                                        }\n                                        if (optimisticResponse) {\n                                            self.cache.removeOptimistic(mutationId);\n                                        }\n                                        self.broadcastQueries();\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\n        var _this = this;\n        if (cache === void 0) { cache = this.cache; }\n        var result = mutation.result;\n        var cacheWrites = [];\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\n            if (!isExecutionPatchIncrementalResult(result)) {\n                cacheWrites.push({\n                    result: result.data,\n                    dataId: 'ROOT_MUTATION',\n                    query: mutation.document,\n                    variables: mutation.variables,\n                });\n            }\n            if (isExecutionPatchIncrementalResult(result) && isNonEmptyArray(result.incremental)) {\n                var diff = cache.diff({\n                    id: \"ROOT_MUTATION\",\n                    query: this.transform(mutation.document).asQuery,\n                    variables: mutation.variables,\n                    optimistic: false,\n                    returnPartialData: true,\n                });\n                var mergedData = void 0;\n                if (diff.result) {\n                    mergedData = mergeIncrementalData(diff.result, result);\n                }\n                if (typeof mergedData !== 'undefined') {\n                    result.data = mergedData;\n                    cacheWrites.push({\n                        result: mergedData,\n                        dataId: 'ROOT_MUTATION',\n                        query: mutation.document,\n                        variables: mutation.variables,\n                    });\n                }\n            }\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                this.queries.forEach(function (_a, queryId) {\n                    var observableQuery = _a.observableQuery;\n                    var queryName = observableQuery && observableQuery.queryName;\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\n                        return;\n                    }\n                    var updater = updateQueries_1[queryName];\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\n                    var _c = cache.diff({\n                        query: document,\n                        variables: variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _c.result, complete = _c.complete;\n                    if (complete && currentQueryResult) {\n                        var nextQueryResult = updater(currentQueryResult, {\n                            mutationResult: result,\n                            queryName: document && getOperationName(document) || void 0,\n                            queryVariables: variables,\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: document,\n                                variables: variables,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n        if (cacheWrites.length > 0 ||\n            mutation.refetchQueries ||\n            mutation.update ||\n            mutation.onQueryUpdated ||\n            mutation.removeOptimistic) {\n            var results_1 = [];\n            this.refetchQueries({\n                updateCache: function (cache) {\n                    if (!skipCache) {\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\n                    }\n                    var update = mutation.update;\n                    var isFinalResult = !isExecutionPatchResult(result) ||\n                        (isExecutionPatchIncrementalResult(result) && !result.hasNext);\n                    if (update) {\n                        if (!skipCache) {\n                            var diff = cache.diff({\n                                id: \"ROOT_MUTATION\",\n                                query: _this.transform(mutation.document).asQuery,\n                                variables: mutation.variables,\n                                optimistic: false,\n                                returnPartialData: true,\n                            });\n                            if (diff.complete) {\n                                result = __assign(__assign({}, result), { data: diff.result });\n                                if ('incremental' in result) {\n                                    delete result.incremental;\n                                }\n                                if ('hasNext' in result) {\n                                    delete result.hasNext;\n                                }\n                            }\n                        }\n                        if (isFinalResult) {\n                            update(cache, result, {\n                                context: mutation.context,\n                                variables: mutation.variables,\n                            });\n                        }\n                    }\n                    if (!skipCache && !mutation.keepRootFields && isFinalResult) {\n                        cache.modify({\n                            id: 'ROOT_MUTATION',\n                            fields: function (value, _a) {\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\n                                return fieldName === \"__typename\" ? value : DELETE;\n                            },\n                        });\n                    }\n                },\n                include: mutation.refetchQueries,\n                optimistic: false,\n                removeOptimistic: mutation.removeOptimistic,\n                onQueryUpdated: mutation.onQueryUpdated || null,\n            }).forEach(function (result) { return results_1.push(result); });\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\n                return Promise.all(results_1).then(function () { return result; });\n            }\n        }\n        return Promise.resolve(result);\n    };\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\n        var _this = this;\n        var data = typeof optimisticResponse === \"function\"\n            ? optimisticResponse(mutation.variables)\n            : optimisticResponse;\n        return this.cache.recordOptimisticTransaction(function (cache) {\n            try {\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\n            }\n            catch (error) {\n                __DEV__ && invariant.error(error);\n            }\n        }, mutation.mutationId);\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\n    };\n    QueryManager.prototype.getQueryStore = function () {\n        var store = Object.create(null);\n        this.queries.forEach(function (info, queryId) {\n            store[queryId] = {\n                variables: info.variables,\n                networkStatus: info.networkStatus,\n                networkError: info.networkError,\n                graphQLErrors: info.graphQLErrors,\n            };\n        });\n        return store;\n    };\n    QueryManager.prototype.resetErrors = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo) {\n            queryInfo.networkError = undefined;\n            queryInfo.graphQLErrors = [];\n        }\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var transformed = this.cache.transformDocument(document);\n            var noConnection = removeConnectionDirectiveFromDocument(transformed);\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = noConnection && this.localState.serverQuery(noConnection);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\n                        if (def.kind === \"OperationDefinition\" &&\n                            def.operation !== \"query\") {\n                            return __assign(__assign({}, def), { operation: \"query\" });\n                        }\n                        return def;\n                    }) })\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options) {\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var queryInfo = new QueryInfo(this);\n        var observable = new ObservableQuery({\n            queryManager: this,\n            queryInfo: queryInfo,\n            options: options,\n        });\n        this.queries.set(observable.queryId, queryInfo);\n        queryInfo.init({\n            document: observable.query,\n            observableQuery: observable,\n            variables: observable.variables,\n        });\n        return observable;\n    };\n    QueryManager.prototype.query = function (options, queryId) {\n        var _this = this;\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.') : invariant(options.query, 17);\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 18);\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 19);\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 20);\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.queryIdCounter++);\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        return this.requestIdCounter++;\n    };\n    QueryManager.prototype.generateMutationId = function () {\n        return String(this.mutationIdCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo)\n            queryInfo.stop();\n    };\n    QueryManager.prototype.clearStore = function (options) {\n        if (options === void 0) { options = {\n            discardWatches: true,\n        }; }\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(21));\n        this.queries.forEach(function (queryInfo) {\n            if (queryInfo.observableQuery) {\n                queryInfo.networkStatus = NetworkStatus.loading;\n            }\n            else {\n                queryInfo.stop();\n            }\n        });\n        if (this.mutationStore) {\n            this.mutationStore = Object.create(null);\n        }\n        return this.cache.reset(options);\n    };\n    QueryManager.prototype.getObservableQueries = function (include) {\n        var _this = this;\n        if (include === void 0) { include = \"active\"; }\n        var queries = new Map();\n        var queryNamesAndDocs = new Map();\n        var legacyQueryOptions = new Set();\n        if (Array.isArray(include)) {\n            include.forEach(function (desc) {\n                if (typeof desc === \"string\") {\n                    queryNamesAndDocs.set(desc, false);\n                }\n                else if (isDocumentNode(desc)) {\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\n                }\n                else if (isNonNullObject(desc) && desc.query) {\n                    legacyQueryOptions.add(desc);\n                }\n            });\n        }\n        this.queries.forEach(function (_a, queryId) {\n            var oq = _a.observableQuery, document = _a.document;\n            if (oq) {\n                if (include === \"all\") {\n                    queries.set(queryId, oq);\n                    return;\n                }\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\n                if (fetchPolicy === \"standby\" ||\n                    (include === \"active\" && !oq.hasObservers())) {\n                    return;\n                }\n                if (include === \"active\" ||\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\n                    (document && queryNamesAndDocs.has(document))) {\n                    queries.set(queryId, oq);\n                    if (queryName)\n                        queryNamesAndDocs.set(queryName, true);\n                    if (document)\n                        queryNamesAndDocs.set(document, true);\n                }\n            }\n        });\n        if (legacyQueryOptions.size) {\n            legacyQueryOptions.forEach(function (options) {\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\n                var queryInfo = _this.getQuery(queryId).init({\n                    document: options.query,\n                    variables: options.variables,\n                });\n                var oq = new ObservableQuery({\n                    queryManager: _this,\n                    queryInfo: queryInfo,\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\n                });\n                invariant(oq.queryId === queryId);\n                queryInfo.setObservableQuery(oq);\n                queries.set(queryId, oq);\n            });\n        }\n        if (__DEV__ && queryNamesAndDocs.size) {\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\n                if (!included) {\n                    __DEV__ && invariant.warn(\"Unknown query \".concat(typeof nameOrDoc === \"string\" ? \"named \" : \"\").concat(JSON.stringify(nameOrDoc, null, 2), \" requested in refetchQueries options.include array\"));\n                }\n            });\n        }\n        return queries;\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\n            var fetchPolicy = observableQuery.options.fetchPolicy;\n            observableQuery.resetLastResults();\n            if (includeStandby ||\n                (fetchPolicy !== \"standby\" &&\n                    fetchPolicy !== \"cache-only\")) {\n                observableQueryPromises.push(observableQuery.refetch());\n            }\n            _this.getQuery(queryId).setDiff(null);\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\n                if (fetchPolicy !== 'no-cache') {\n                    if (shouldWriteResult(result, errorPolicy)) {\n                        _this.cache.write({\n                            query: query,\n                            result: result.data,\n                            dataId: 'ROOT_SUBSCRIPTION',\n                            variables: variables,\n                        });\n                    }\n                    _this.broadcastQueries();\n                }\n                if (graphQLResultHasError(result)) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchCancelFns.delete(queryId);\n        if (this.queries.has(queryId)) {\n            this.getQuery(queryId).stop();\n            this.queries.delete(queryId);\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        if (this.onBroadcast)\n            this.onBroadcast();\n        this.queries.forEach(function (info) { return info.notify(); });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        var _a;\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = canonicalStringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    var concast = new Concast([\n                        execute(link, operation)\n                    ]);\n                    byVariables_1.set(varJson_1, observable = concast);\n                    concast.beforeNext(function () {\n                        if (byVariables_1.delete(varJson_1) &&\n                            byVariables_1.size < 1) {\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        }\n                    });\n                }\n            }\n            else {\n                observable = new Concast([\n                    execute(link, operation)\n                ]);\n            }\n        }\n        else {\n            observable = new Concast([\n                Observable.of({ data: {} })\n            ]);\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\n        var linkDocument = this.cache.transformForLink(this.transform(queryInfo.document).document);\n        return asyncMap(this.getObservableFromLink(linkDocument, options.context, options.variables), function (result) {\n            var graphQLErrors = getGraphQLErrorsFromResult(result);\n            var hasErrors = graphQLErrors.length > 0;\n            if (requestId >= queryInfo.lastRequestId) {\n                if (hasErrors && options.errorPolicy === \"none\") {\n                    throw queryInfo.markError(new ApolloError({\n                        graphQLErrors: graphQLErrors,\n                    }));\n                }\n                queryInfo.markResult(result, linkDocument, options, cacheWriteBehavior);\n                queryInfo.markReady();\n            }\n            var aqr = {\n                data: result.data,\n                loading: false,\n                networkStatus: NetworkStatus.ready,\n            };\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\n                aqr.errors = graphQLErrors;\n                aqr.networkStatus = NetworkStatus.error;\n            }\n            return aqr;\n        }, function (networkError) {\n            var error = isApolloError(networkError)\n                ? networkError\n                : new ApolloError({ networkError: networkError });\n            if (requestId >= queryInfo.lastRequestId) {\n                queryInfo.markError(error);\n            }\n            throw error;\n        });\n    };\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\n        var _this = this;\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\n        var query = this.transform(options.query).document;\n        var variables = this.getVariables(query, options.variables);\n        var queryInfo = this.getQuery(queryId);\n        var defaults = this.defaultOptions.watchQuery;\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? defaults && defaults.fetchPolicy || \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? defaults && defaults.errorPolicy || \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\n        var normalized = Object.assign({}, options, {\n            query: query,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            returnPartialData: returnPartialData,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            context: context,\n        });\n        var fromVariables = function (variables) {\n            normalized.variables = variables;\n            var concastSources = _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\n            if (normalized.fetchPolicy !== \"standby\" &&\n                concastSources.length > 0 &&\n                queryInfo.observableQuery) {\n                queryInfo.observableQuery[\"applyNextFetchPolicy\"](\"after-fetch\", options);\n            }\n            return concastSources;\n        };\n        var cleanupCancelFn = function () { return _this.fetchCancelFns.delete(queryId); };\n        this.fetchCancelFns.set(queryId, function (reason) {\n            cleanupCancelFn();\n            setTimeout(function () { return concast.cancel(reason); });\n        });\n        var concast = new Concast(this.transform(normalized.query).hasClientExports\n            ? this.localState.addExportedVariables(normalized.query, normalized.variables, normalized.context).then(fromVariables)\n            : fromVariables(normalized.variables));\n        concast.promise.then(cleanupCancelFn, cleanupCancelFn);\n        return concast;\n    };\n    QueryManager.prototype.refetchQueries = function (_a) {\n        var _this = this;\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\n        var includedQueriesById = new Map();\n        if (include) {\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\n                includedQueriesById.set(queryId, {\n                    oq: oq,\n                    lastDiff: _this.getQuery(queryId).getDiff(),\n                });\n            });\n        }\n        var results = new Map;\n        if (updateCache) {\n            this.cache.batch({\n                update: updateCache,\n                optimistic: optimistic && removeOptimistic || false,\n                removeOptimistic: removeOptimistic,\n                onWatchUpdated: function (watch, diff, lastDiff) {\n                    var oq = watch.watcher instanceof QueryInfo &&\n                        watch.watcher.observableQuery;\n                    if (oq) {\n                        if (onQueryUpdated) {\n                            includedQueriesById.delete(oq.queryId);\n                            var result = onQueryUpdated(oq, diff, lastDiff);\n                            if (result === true) {\n                                result = oq.refetch();\n                            }\n                            if (result !== false) {\n                                results.set(oq, result);\n                            }\n                            return result;\n                        }\n                        if (onQueryUpdated !== null) {\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\n                        }\n                    }\n                },\n            });\n        }\n        if (includedQueriesById.size) {\n            includedQueriesById.forEach(function (_a, queryId) {\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\n                var result;\n                if (onQueryUpdated) {\n                    if (!diff) {\n                        var info = oq[\"queryInfo\"];\n                        info.reset();\n                        diff = info.getDiff();\n                    }\n                    result = onQueryUpdated(oq, diff, lastDiff);\n                }\n                if (!onQueryUpdated || result === true) {\n                    result = oq.refetch();\n                }\n                if (result !== false) {\n                    results.set(oq, result);\n                }\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\n                    _this.stopQueryNoBroadcast(queryId);\n                }\n            });\n        }\n        if (removeOptimistic) {\n            this.cache.removeOptimistic(removeOptimistic);\n        }\n        return results;\n    };\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\n        var _this = this;\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\n        var oldNetworkStatus = queryInfo.networkStatus;\n        queryInfo.init({\n            document: this.transform(query).document,\n            variables: variables,\n            networkStatus: networkStatus,\n        });\n        var readCache = function () { return queryInfo.getDiff(variables); };\n        var resultsFromCache = function (diff, networkStatus) {\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\n            var data = diff.result;\n            if (__DEV__ &&\n                !returnPartialData &&\n                !equal(data, {})) {\n                logMissingFieldErrors(diff.missing);\n            }\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\n            if (data && _this.transform(query).hasForcedResolvers) {\n                return _this.localState.runResolvers({\n                    document: query,\n                    remoteResult: { data: data },\n                    context: context,\n                    variables: variables,\n                    onlyRunForcedResolvers: true,\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\n            }\n            if (errorPolicy === 'none' &&\n                networkStatus === NetworkStatus.refetch &&\n                Array.isArray(diff.missing)) {\n                return fromData(void 0);\n            }\n            return fromData(data);\n        };\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\n            (networkStatus === NetworkStatus.refetch &&\n                refetchWritePolicy !== \"merge\") ? 1\n                : 2;\n        var resultsFromLink = function () { return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\n            variables: variables,\n            context: context,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n        }); };\n        var shouldNotify = notifyOnNetworkStatusChange &&\n            typeof oldNetworkStatus === \"number\" &&\n            oldNetworkStatus !== networkStatus &&\n            isNetworkRequestInFlight(networkStatus);\n        switch (fetchPolicy) {\n            default:\n            case \"cache-first\": {\n                var diff = readCache();\n                if (diff.complete) {\n                    return [\n                        resultsFromCache(diff, queryInfo.markReady()),\n                    ];\n                }\n                if (returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-and-network\": {\n                var diff = readCache();\n                if (diff.complete || returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-only\":\n                return [\n                    resultsFromCache(readCache(), queryInfo.markReady()),\n                ];\n            case \"network-only\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(readCache()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"no-cache\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(queryInfo.getDiff()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"standby\":\n                return [];\n        }\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        if (queryId && !this.queries.has(queryId)) {\n            this.queries.set(queryId, new QueryInfo(this, queryId));\n        }\n        return this.queries.get(queryId);\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map", "import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from '../utilities/globals';\nimport { ApolloLink, execute } from '../link/core';\nimport { version } from '../version';\nimport { HttpLink } from '../link/http';\nimport { QueryManager } from './QueryManager';\nimport { LocalState, } from './LocalState';\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        if (!cache) {\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\n                \"in the options object. \\n\" +\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(9);\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && connectToDevTools && __DEV__) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: \" + url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 10);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n//# sourceMappingURL=ApolloClient.js.map", "import { DEV } from '../utilities/globals';\nexport { ApolloClient, mergeOptions, } from './ApolloClient';\nexport { ObservableQuery, } from './ObservableQuery';\nexport { NetworkStatus } from './networkStatus';\nexport * from './types';\nexport { isApolloError, ApolloError } from '../errors';\nexport { Cache, ApolloCache, InMemoryCache, MissingFieldError, defaultDataIdFromObject, makeVar, } from '../cache';\nexport * from '../cache/inmemory/types';\nexport * from '../link/core';\nexport * from '../link/http';\nexport { fromError, toPromise, fromPromise, throwServerError, } from '../link/utils';\nexport { Observable, isReference, makeReference, } from '../utilities';\nimport { setVerbosity } from \"ts-invariant\";\nexport { setVerbosity as setLogVerbosity };\nsetVerbosity(DEV ? \"log\" : \"silent\");\nexport { gql, resetCaches, disableFragmentWarnings, enableExperimentalFragmentVariables, disableExperimentalFragmentVariables, } from 'graphql-tag';\n//# sourceMappingURL=index.js.map", "import * as React from 'react';\nimport { canUseSymbol } from '../../utilities';\nvar contextKey = canUseSymbol\n    ? Symbol.for('__APOLLO_CONTEXT__')\n    : '__APOLLO_CONTEXT__';\nexport function getApolloContext() {\n    var context = React.createContext[contextKey];\n    if (!context) {\n        Object.defineProperty(React.createContext, contextKey, {\n            value: context = React.createContext({}),\n            enumerable: false,\n            writable: false,\n            configurable: true,\n        });\n        context.displayName = 'ApolloContext';\n    }\n    return context;\n}\nexport { getApolloContext as resetApolloContext };\n//# sourceMappingURL=ApolloContext.js.map", "import { invariant } from '../../utilities/globals';\nimport * as React from 'react';\nimport { getApolloContext } from './ApolloContext';\nexport var ApolloConsumer = function (props) {\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        __DEV__ ? invariant(context && context.client, 'Could not find \"client\" in the context of ApolloConsumer. ' +\n            'Wrap the root component in an <ApolloProvider>.') : invariant(context && context.client, 28);\n        return props.children(context.client);\n    }));\n};\n//# sourceMappingURL=ApolloConsumer.js.map", "import { invariant } from '../../utilities/globals';\nimport * as React from 'react';\nimport { getApolloContext } from './ApolloContext';\nexport var ApolloProvider = function (_a) {\n    var client = _a.client, children = _a.children;\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        if (context === void 0) { context = {}; }\n        if (client && context.client !== client) {\n            context = Object.assign({}, context, { client: client });\n        }\n        __DEV__ ? invariant(context.client, 'ApolloProvider was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.') : invariant(context.client, 29);\n        return (React.createElement(ApolloContext.Provider, { value: context }, children));\n    }));\n};\n//# sourceMappingURL=ApolloProvider.js.map", "import { invariant } from '../../utilities/globals';\nexport var DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType || (DocumentType = {}));\nvar cache = new Map();\nexport function operationName(type) {\n    var name;\n    switch (type) {\n        case DocumentType.Query:\n            name = 'Query';\n            break;\n        case DocumentType.Mutation:\n            name = 'Mutation';\n            break;\n        case DocumentType.Subscription:\n            name = 'Subscription';\n            break;\n    }\n    return name;\n}\nexport function parser(document) {\n    var cached = cache.get(document);\n    if (cached)\n        return cached;\n    var variables, type, name;\n    __DEV__ ? invariant(!!document && !!document.kind, \"Argument of \".concat(document, \" passed to parser was not a valid GraphQL \") +\n        \"DocumentNode. You may need to use 'graphql-tag' or another method \" +\n        \"to convert your operation into a document\") : invariant(!!document && !!document.kind, 33);\n    var fragments = [];\n    var queries = [];\n    var mutations = [];\n    var subscriptions = [];\n    for (var _i = 0, _a = document.definitions; _i < _a.length; _i++) {\n        var x = _a[_i];\n        if (x.kind === 'FragmentDefinition') {\n            fragments.push(x);\n            continue;\n        }\n        if (x.kind === 'OperationDefinition') {\n            switch (x.operation) {\n                case 'query':\n                    queries.push(x);\n                    break;\n                case 'mutation':\n                    mutations.push(x);\n                    break;\n                case 'subscription':\n                    subscriptions.push(x);\n                    break;\n            }\n        }\n    }\n    __DEV__ ? invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. \" +\n        \"You must include a query, subscription or mutation as well\") : invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), 34);\n    __DEV__ ? invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" +\n        \"\".concat(document, \" had \").concat(queries.length, \" queries, \").concat(subscriptions.length, \" \") +\n        \"subscriptions and \".concat(mutations.length, \" mutations. \") +\n        \"You can use 'compose' to join multiple operation types to a component\") : invariant(queries.length + mutations.length + subscriptions.length <= 1, 35);\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length\n        ? queries\n        : mutations.length\n            ? mutations\n            : subscriptions;\n    __DEV__ ? invariant(definitions.length === 1, \"react-apollo only supports one definition per HOC. \".concat(document, \" had \") +\n        \"\".concat(definitions.length, \" definitions. \") +\n        \"You can use 'compose' to join multiple operation types to a component\") : invariant(definitions.length === 1, 36);\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    if (definition.name && definition.name.kind === 'Name') {\n        name = definition.name.value;\n    }\n    else {\n        name = 'data';\n    }\n    var payload = { name: name, type: type, variables: variables };\n    cache.set(document, payload);\n    return payload;\n}\nexport function verifyDocumentType(document, type) {\n    var operation = parser(document);\n    var requiredOperationName = operationName(type);\n    var usedOperationName = operationName(operation.type);\n    __DEV__ ? invariant(operation.type === type, \"Running a \".concat(requiredOperationName, \" requires a graphql \") +\n        \"\".concat(requiredOperationName, \", but a \").concat(usedOperationName, \" was used instead.\")) : invariant(operation.type === type, 37);\n}\n//# sourceMappingURL=index.js.map", "import { invariant } from '../../utilities/globals';\nimport { useContext } from 'react';\nimport { getApolloContext } from '../context';\nexport function useApolloClient(override) {\n    var context = useContext(getApolloContext());\n    var client = override || context.client;\n    __DEV__ ? invariant(!!client, 'Could not find \"client\" in the context or passed in as an option. ' +\n        'Wrap the root component in an <ApolloProvider>, or pass an ApolloClient ' +\n        'instance in via options.') : invariant(!!client, 32);\n    return client;\n}\n//# sourceMappingURL=useApolloClient.js.map", "import { invariant } from '../../utilities/globals';\nimport * as React from 'react';\nimport { canUseLayoutEffect } from '../../utilities';\nvar didWarnUncachedGetSnapshot = false;\nvar uSESKey = \"useSyncExternalStore\";\nvar realHook = React[uSESKey];\nexport var useSyncExternalStore = realHook || (function (subscribe, getSnapshot, getServerSnapshot) {\n    var value = getSnapshot();\n    if (__DEV__ &&\n        !didWarnUncachedGetSnapshot &&\n        value !== getSnapshot()) {\n        didWarnUncachedGetSnapshot = true;\n        __DEV__ && invariant.error('The result of getSnapshot should be cached to avoid an infinite loop');\n    }\n    var _a = React.useState({ inst: { value: value, getSnapshot: getSnapshot } }), inst = _a[0].inst, forceUpdate = _a[1];\n    if (canUseLayoutEffect) {\n        React.useLayoutEffect(function () {\n            Object.assign(inst, { value: value, getSnapshot: getSnapshot });\n            if (checkIfSnapshotChanged(inst)) {\n                forceUpdate({ inst: inst });\n            }\n        }, [subscribe, value, getSnapshot]);\n    }\n    else {\n        Object.assign(inst, { value: value, getSnapshot: getSnapshot });\n    }\n    React.useEffect(function () {\n        if (checkIfSnapshotChanged(inst)) {\n            forceUpdate({ inst: inst });\n        }\n        return subscribe(function handleStoreChange() {\n            if (checkIfSnapshotChanged(inst)) {\n                forceUpdate({ inst: inst });\n            }\n        });\n    }, [subscribe]);\n    return value;\n});\nfunction checkIfSnapshotChanged(_a) {\n    var value = _a.value, getSnapshot = _a.getSnapshot;\n    try {\n        return value !== getSnapshot();\n    }\n    catch (_b) {\n        return true;\n    }\n}\n//# sourceMappingURL=useSyncExternalStore.js.map", "import { __assign, __rest } from \"tslib\";\nimport { invariant } from '../../utilities/globals';\nimport { useCallback, useContext, useMemo, useRef, useState, } from 'react';\nimport { useSyncExternalStore } from './useSyncExternalStore';\nimport { equal } from '@wry/equality';\nimport { mergeOptions } from '../../core';\nimport { getApolloContext } from '../context';\nimport { ApolloError } from '../../errors';\nimport { NetworkStatus, } from '../../core';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { useApolloClient } from './useApolloClient';\nimport { canUseWeakMap, canUseWeakSet, compact, isNonEmptyArray, maybeDeepFreeze } from '../../utilities';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function useQuery(query, options) {\n    if (options === void 0) { options = Object.create(null); }\n    return useInternalState(useApolloClient(options.client), query).useQuery(options);\n}\nexport function useInternalState(client, query) {\n    var stateRef = useRef();\n    if (!stateRef.current ||\n        client !== stateRef.current.client ||\n        query !== stateRef.current.query) {\n        stateRef.current = new InternalState(client, query, stateRef.current);\n    }\n    var state = stateRef.current;\n    var _a = useState(0), _tick = _a[0], setTick = _a[1];\n    state.forceUpdate = function () {\n        setTick(function (tick) { return tick + 1; });\n    };\n    return state;\n}\nvar InternalState = (function () {\n    function InternalState(client, query, previous) {\n        this.client = client;\n        this.query = query;\n        this.asyncResolveFns = new Set();\n        this.optionsToIgnoreOnce = new (canUseWeakSet ? WeakSet : Set)();\n        this.ssrDisabledResult = maybeDeepFreeze({\n            loading: true,\n            data: void 0,\n            error: void 0,\n            networkStatus: NetworkStatus.loading,\n        });\n        this.skipStandbyResult = maybeDeepFreeze({\n            loading: false,\n            data: void 0,\n            error: void 0,\n            networkStatus: NetworkStatus.ready,\n        });\n        this.toQueryResultCache = new (canUseWeakMap ? WeakMap : Map)();\n        verifyDocumentType(query, DocumentType.Query);\n        var previousResult = previous && previous.result;\n        var previousData = previousResult && previousResult.data;\n        if (previousData) {\n            this.previousData = previousData;\n        }\n    }\n    InternalState.prototype.forceUpdate = function () {\n        __DEV__ && invariant.warn(\"Calling default no-op implementation of InternalState#forceUpdate\");\n    };\n    InternalState.prototype.asyncUpdate = function (signal) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var watchQueryOptions = _this.watchQueryOptions;\n            var handleAborted = function () {\n                _this.asyncResolveFns.delete(resolve);\n                _this.optionsToIgnoreOnce.delete(watchQueryOptions);\n                signal.removeEventListener('abort', handleAborted);\n                reject(signal.reason);\n            };\n            _this.asyncResolveFns.add(resolve);\n            _this.optionsToIgnoreOnce.add(watchQueryOptions);\n            signal.addEventListener('abort', handleAborted);\n            _this.forceUpdate();\n        });\n    };\n    InternalState.prototype.useQuery = function (options) {\n        var _this = this;\n        this.renderPromises = useContext(getApolloContext()).renderPromises;\n        this.useOptions(options);\n        var obsQuery = this.useObservableQuery();\n        var result = useSyncExternalStore(useCallback(function () {\n            if (_this.renderPromises) {\n                return function () { };\n            }\n            var onNext = function () {\n                var previousResult = _this.result;\n                var result = obsQuery.getCurrentResult();\n                if (previousResult &&\n                    previousResult.loading === result.loading &&\n                    previousResult.networkStatus === result.networkStatus &&\n                    equal(previousResult.data, result.data)) {\n                    return;\n                }\n                _this.setResult(result);\n            };\n            var onError = function (error) {\n                var last = obsQuery[\"last\"];\n                subscription.unsubscribe();\n                try {\n                    obsQuery.resetLastResults();\n                    subscription = obsQuery.subscribe(onNext, onError);\n                }\n                finally {\n                    obsQuery[\"last\"] = last;\n                }\n                if (!hasOwnProperty.call(error, 'graphQLErrors')) {\n                    throw error;\n                }\n                var previousResult = _this.result;\n                if (!previousResult ||\n                    (previousResult && previousResult.loading) ||\n                    !equal(error, previousResult.error)) {\n                    _this.setResult({\n                        data: (previousResult && previousResult.data),\n                        error: error,\n                        loading: false,\n                        networkStatus: NetworkStatus.error,\n                    });\n                }\n            };\n            var subscription = obsQuery.subscribe(onNext, onError);\n            return function () { return subscription.unsubscribe(); };\n        }, [\n            obsQuery,\n            this.renderPromises,\n            this.client.disableNetworkFetches,\n        ]), function () { return _this.getCurrentResult(); }, function () { return _this.getCurrentResult(); });\n        this.unsafeHandlePartialRefetch(result);\n        var queryResult = this.toQueryResult(result);\n        if (!queryResult.loading && this.asyncResolveFns.size) {\n            this.asyncResolveFns.forEach(function (resolve) { return resolve(queryResult); });\n            this.asyncResolveFns.clear();\n        }\n        return queryResult;\n    };\n    InternalState.prototype.useOptions = function (options) {\n        var _a;\n        var watchQueryOptions = this.createWatchQueryOptions(this.queryHookOptions = options);\n        var currentWatchQueryOptions = this.watchQueryOptions;\n        if (this.optionsToIgnoreOnce.has(currentWatchQueryOptions) ||\n            !equal(watchQueryOptions, currentWatchQueryOptions)) {\n            this.watchQueryOptions = watchQueryOptions;\n            if (currentWatchQueryOptions && this.observable) {\n                this.optionsToIgnoreOnce.delete(currentWatchQueryOptions);\n                this.observable.reobserve(this.getObsQueryOptions());\n                this.previousData = ((_a = this.result) === null || _a === void 0 ? void 0 : _a.data) || this.previousData;\n                this.result = void 0;\n            }\n        }\n        this.onCompleted = options.onCompleted || InternalState.prototype.onCompleted;\n        this.onError = options.onError || InternalState.prototype.onError;\n        if ((this.renderPromises || this.client.disableNetworkFetches) &&\n            this.queryHookOptions.ssr === false &&\n            !this.queryHookOptions.skip) {\n            this.result = this.ssrDisabledResult;\n        }\n        else if (this.queryHookOptions.skip ||\n            this.watchQueryOptions.fetchPolicy === 'standby') {\n            this.result = this.skipStandbyResult;\n        }\n        else if (this.result === this.ssrDisabledResult ||\n            this.result === this.skipStandbyResult) {\n            this.result = void 0;\n        }\n    };\n    InternalState.prototype.getObsQueryOptions = function () {\n        var toMerge = [];\n        var globalDefaults = this.client.defaultOptions.watchQuery;\n        if (globalDefaults)\n            toMerge.push(globalDefaults);\n        if (this.queryHookOptions.defaultOptions) {\n            toMerge.push(this.queryHookOptions.defaultOptions);\n        }\n        toMerge.push(compact(this.observable && this.observable.options, this.watchQueryOptions));\n        return toMerge.reduce(mergeOptions);\n    };\n    InternalState.prototype.createWatchQueryOptions = function (_a) {\n        var _b;\n        if (_a === void 0) { _a = {}; }\n        var skip = _a.skip, ssr = _a.ssr, onCompleted = _a.onCompleted, onError = _a.onError, defaultOptions = _a.defaultOptions, otherOptions = __rest(_a, [\"skip\", \"ssr\", \"onCompleted\", \"onError\", \"defaultOptions\"]);\n        var watchQueryOptions = Object.assign(otherOptions, { query: this.query });\n        if (this.renderPromises &&\n            (watchQueryOptions.fetchPolicy === 'network-only' ||\n                watchQueryOptions.fetchPolicy === 'cache-and-network')) {\n            watchQueryOptions.fetchPolicy = 'cache-first';\n        }\n        if (!watchQueryOptions.variables) {\n            watchQueryOptions.variables = {};\n        }\n        if (skip) {\n            var _c = watchQueryOptions.fetchPolicy, fetchPolicy = _c === void 0 ? this.getDefaultFetchPolicy() : _c, _d = watchQueryOptions.initialFetchPolicy, initialFetchPolicy = _d === void 0 ? fetchPolicy : _d;\n            Object.assign(watchQueryOptions, {\n                initialFetchPolicy: initialFetchPolicy,\n                fetchPolicy: 'standby',\n            });\n        }\n        else if (!watchQueryOptions.fetchPolicy) {\n            watchQueryOptions.fetchPolicy =\n                ((_b = this.observable) === null || _b === void 0 ? void 0 : _b.options.initialFetchPolicy) ||\n                    this.getDefaultFetchPolicy();\n        }\n        return watchQueryOptions;\n    };\n    InternalState.prototype.getDefaultFetchPolicy = function () {\n        var _a, _b;\n        return (((_a = this.queryHookOptions.defaultOptions) === null || _a === void 0 ? void 0 : _a.fetchPolicy) ||\n            ((_b = this.client.defaultOptions.watchQuery) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n            \"cache-first\");\n    };\n    InternalState.prototype.onCompleted = function (data) { };\n    InternalState.prototype.onError = function (error) { };\n    InternalState.prototype.useObservableQuery = function () {\n        var obsQuery = this.observable =\n            this.renderPromises\n                && this.renderPromises.getSSRObservable(this.watchQueryOptions)\n                || this.observable\n                || this.client.watchQuery(this.getObsQueryOptions());\n        this.obsQueryFields = useMemo(function () { return ({\n            refetch: obsQuery.refetch.bind(obsQuery),\n            reobserve: obsQuery.reobserve.bind(obsQuery),\n            fetchMore: obsQuery.fetchMore.bind(obsQuery),\n            updateQuery: obsQuery.updateQuery.bind(obsQuery),\n            startPolling: obsQuery.startPolling.bind(obsQuery),\n            stopPolling: obsQuery.stopPolling.bind(obsQuery),\n            subscribeToMore: obsQuery.subscribeToMore.bind(obsQuery),\n        }); }, [obsQuery]);\n        var ssrAllowed = !(this.queryHookOptions.ssr === false ||\n            this.queryHookOptions.skip);\n        if (this.renderPromises && ssrAllowed) {\n            this.renderPromises.registerSSRObservable(obsQuery);\n            if (obsQuery.getCurrentResult().loading) {\n                this.renderPromises.addObservableQueryPromise(obsQuery);\n            }\n        }\n        return obsQuery;\n    };\n    InternalState.prototype.setResult = function (nextResult) {\n        var previousResult = this.result;\n        if (previousResult && previousResult.data) {\n            this.previousData = previousResult.data;\n        }\n        this.result = nextResult;\n        this.forceUpdate();\n        this.handleErrorOrCompleted(nextResult);\n    };\n    InternalState.prototype.handleErrorOrCompleted = function (result) {\n        var _this = this;\n        if (!result.loading) {\n            var error_1 = this.toApolloError(result);\n            Promise.resolve().then(function () {\n                if (error_1) {\n                    _this.onError(error_1);\n                }\n                else if (result.data) {\n                    _this.onCompleted(result.data);\n                }\n            }).catch(function (error) {\n                __DEV__ && invariant.warn(error);\n            });\n        }\n    };\n    InternalState.prototype.toApolloError = function (result) {\n        return isNonEmptyArray(result.errors)\n            ? new ApolloError({ graphQLErrors: result.errors })\n            : result.error;\n    };\n    InternalState.prototype.getCurrentResult = function () {\n        if (!this.result) {\n            this.handleErrorOrCompleted(this.result = this.observable.getCurrentResult());\n        }\n        return this.result;\n    };\n    InternalState.prototype.toQueryResult = function (result) {\n        var queryResult = this.toQueryResultCache.get(result);\n        if (queryResult)\n            return queryResult;\n        var data = result.data, partial = result.partial, resultWithoutPartial = __rest(result, [\"data\", \"partial\"]);\n        this.toQueryResultCache.set(result, queryResult = __assign(__assign(__assign({ data: data }, resultWithoutPartial), this.obsQueryFields), { client: this.client, observable: this.observable, variables: this.observable.variables, called: !this.queryHookOptions.skip, previousData: this.previousData }));\n        if (!queryResult.error && isNonEmptyArray(result.errors)) {\n            queryResult.error = new ApolloError({ graphQLErrors: result.errors });\n        }\n        return queryResult;\n    };\n    InternalState.prototype.unsafeHandlePartialRefetch = function (result) {\n        if (result.partial &&\n            this.queryHookOptions.partialRefetch &&\n            !result.loading &&\n            (!result.data || Object.keys(result.data).length === 0) &&\n            this.observable.options.fetchPolicy !== 'cache-only') {\n            Object.assign(result, {\n                loading: true,\n                networkStatus: NetworkStatus.refetch,\n            });\n            this.observable.refetch();\n        }\n    };\n    return InternalState;\n}());\n//# sourceMappingURL=useQuery.js.map", "import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { mergeOptions } from '../../utilities';\nimport { useInternalState } from './useQuery';\nimport { useApolloClient } from './useApolloClient';\nvar EAGER_METHODS = [\n    'refetch',\n    'reobserve',\n    'fetchMore',\n    'updateQuery',\n    'startPolling',\n    'subscribeToMore',\n];\nexport function useLazyQuery(query, options) {\n    var _a;\n    var abortControllersRef = useRef(new Set());\n    var execOptionsRef = useRef();\n    var merged = execOptionsRef.current ? mergeOptions(options, execOptionsRef.current) : options;\n    var internalState = useInternalState(useApolloClient(options && options.client), (_a = merged === null || merged === void 0 ? void 0 : merged.query) !== null && _a !== void 0 ? _a : query);\n    var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), { skip: !execOptionsRef.current }));\n    var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy ||\n        internalState.getDefaultFetchPolicy();\n    var result = Object.assign(useQueryResult, {\n        called: !!execOptionsRef.current,\n    });\n    var eagerMethods = useMemo(function () {\n        var eagerMethods = {};\n        var _loop_1 = function (key) {\n            var method = result[key];\n            eagerMethods[key] = function () {\n                if (!execOptionsRef.current) {\n                    execOptionsRef.current = Object.create(null);\n                    internalState.forceUpdate();\n                }\n                return method.apply(this, arguments);\n            };\n        };\n        for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n            var key = EAGER_METHODS_1[_i];\n            _loop_1(key);\n        }\n        return eagerMethods;\n    }, []);\n    Object.assign(result, eagerMethods);\n    useEffect(function () {\n        return function () {\n            abortControllersRef.current.forEach(function (controller) {\n                controller.abort();\n            });\n        };\n    }, []);\n    var execute = useCallback(function (executeOptions) {\n        var controller = new AbortController();\n        abortControllersRef.current.add(controller);\n        execOptionsRef.current = executeOptions ? __assign(__assign({}, executeOptions), { fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy }) : {\n            fetchPolicy: initialFetchPolicy,\n        };\n        var promise = internalState\n            .asyncUpdate(controller.signal)\n            .then(function (queryResult) {\n            abortControllersRef.current.delete(controller);\n            return Object.assign(queryResult, eagerMethods);\n        });\n        promise.catch(function () {\n            abortControllersRef.current.delete(controller);\n        });\n        return promise;\n    }, []);\n    return [execute, result];\n}\n//# sourceMappingURL=useLazyQuery.js.map", "import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { mergeOptions, } from '../../core';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { ApolloError } from '../../errors';\nimport { useApolloClient } from './useApolloClient';\nexport function useMutation(mutation, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(mutation, DocumentType.Mutation);\n    var _a = useState({\n        called: false,\n        loading: false,\n        client: client,\n    }), result = _a[0], setResult = _a[1];\n    var ref = useRef({\n        result: result,\n        mutationId: 0,\n        isMounted: true,\n        client: client,\n        mutation: mutation,\n        options: options,\n    });\n    {\n        Object.assign(ref.current, { client: client, options: options, mutation: mutation });\n    }\n    var execute = useCallback(function (executeOptions) {\n        if (executeOptions === void 0) { executeOptions = {}; }\n        var _a = ref.current, client = _a.client, options = _a.options, mutation = _a.mutation;\n        var baseOptions = __assign(__assign({}, options), { mutation: mutation });\n        if (!ref.current.result.loading && !baseOptions.ignoreResults && ref.current.isMounted) {\n            setResult(ref.current.result = {\n                loading: true,\n                error: void 0,\n                data: void 0,\n                called: true,\n                client: client,\n            });\n        }\n        var mutationId = ++ref.current.mutationId;\n        var clientOptions = mergeOptions(baseOptions, executeOptions);\n        return client.mutate(clientOptions).then(function (response) {\n            var _a;\n            var data = response.data, errors = response.errors;\n            var error = errors && errors.length > 0\n                ? new ApolloError({ graphQLErrors: errors })\n                : void 0;\n            if (mutationId === ref.current.mutationId &&\n                !clientOptions.ignoreResults) {\n                var result_1 = {\n                    called: true,\n                    loading: false,\n                    data: data,\n                    error: error,\n                    client: client,\n                };\n                if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n                    setResult(ref.current.result = result_1);\n                }\n            }\n            var onCompleted = executeOptions.onCompleted || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onCompleted);\n            onCompleted === null || onCompleted === void 0 ? void 0 : onCompleted(response.data, clientOptions);\n            return response;\n        }).catch(function (error) {\n            var _a;\n            if (mutationId === ref.current.mutationId &&\n                ref.current.isMounted) {\n                var result_2 = {\n                    loading: false,\n                    error: error,\n                    data: void 0,\n                    called: true,\n                    client: client,\n                };\n                if (!equal(ref.current.result, result_2)) {\n                    setResult(ref.current.result = result_2);\n                }\n            }\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (onError) {\n                onError(error, clientOptions);\n                return { data: void 0, errors: error };\n            }\n            throw error;\n        });\n    }, []);\n    var reset = useCallback(function () {\n        if (ref.current.isMounted) {\n            setResult({ called: false, loading: false, client: client });\n        }\n    }, []);\n    useEffect(function () {\n        ref.current.isMounted = true;\n        return function () {\n            ref.current.isMounted = false;\n        };\n    }, []);\n    return [execute, __assign({ reset: reset }, result)];\n}\n//# sourceMappingURL=useMutation.js.map", "import '../../utilities/globals';\nimport { useState, useRef, useEffect } from 'react';\nimport { invariant } from '../../utilities/globals';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { useApolloClient } from './useApolloClient';\nexport function useSubscription(subscription, options) {\n    var hasIssuedDeprecationWarningRef = useRef(false);\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(subscription, DocumentType.Subscription);\n    var _a = useState({\n        loading: !(options === null || options === void 0 ? void 0 : options.skip),\n        error: void 0,\n        data: void 0,\n        variables: options === null || options === void 0 ? void 0 : options.variables,\n    }), result = _a[0], setResult = _a[1];\n    if (!hasIssuedDeprecationWarningRef.current) {\n        hasIssuedDeprecationWarningRef.current = true;\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionData) {\n            __DEV__ && invariant.warn(options.onData\n                ? \"'useSubscription' supports only the 'onSubscriptionData' or 'onData' option, but not both. Only the 'onData' option will be used.\"\n                : \"'onSubscriptionData' is deprecated and will be removed in a future major version. Please use the 'onData' option instead.\");\n        }\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionComplete) {\n            __DEV__ && invariant.warn(options.onComplete\n                ? \"'useSubscription' supports only the 'onSubscriptionComplete' or 'onComplete' option, but not both. Only the 'onComplete' option will be used.\"\n                : \"'onSubscriptionComplete' is deprecated and will be removed in a future major version. Please use the 'onComplete' option instead.\");\n        }\n    }\n    var _b = useState(function () {\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            return null;\n        }\n        return client.subscribe({\n            query: subscription,\n            variables: options === null || options === void 0 ? void 0 : options.variables,\n            fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n            context: options === null || options === void 0 ? void 0 : options.context,\n        });\n    }), observable = _b[0], setObservable = _b[1];\n    var canResetObservableRef = useRef(false);\n    useEffect(function () {\n        return function () {\n            canResetObservableRef.current = true;\n        };\n    }, []);\n    var ref = useRef({ client: client, subscription: subscription, options: options });\n    useEffect(function () {\n        var _a, _b, _c, _d;\n        var shouldResubscribe = options === null || options === void 0 ? void 0 : options.shouldResubscribe;\n        if (typeof shouldResubscribe === 'function') {\n            shouldResubscribe = !!shouldResubscribe(options);\n        }\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            if (!(options === null || options === void 0 ? void 0 : options.skip) !== !((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.skip) || canResetObservableRef.current) {\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n                setObservable(null);\n                canResetObservableRef.current = false;\n            }\n        }\n        else if ((shouldResubscribe !== false &&\n            (client !== ref.current.client ||\n                subscription !== ref.current.subscription ||\n                (options === null || options === void 0 ? void 0 : options.fetchPolicy) !== ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n                !(options === null || options === void 0 ? void 0 : options.skip) !== !((_c = ref.current.options) === null || _c === void 0 ? void 0 : _c.skip) ||\n                !equal(options === null || options === void 0 ? void 0 : options.variables, (_d = ref.current.options) === null || _d === void 0 ? void 0 : _d.variables))) ||\n            canResetObservableRef.current) {\n            setResult({\n                loading: true,\n                data: void 0,\n                error: void 0,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n            });\n            setObservable(client.subscribe({\n                query: subscription,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n                fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n                context: options === null || options === void 0 ? void 0 : options.context,\n            }));\n            canResetObservableRef.current = false;\n        }\n        Object.assign(ref.current, { client: client, subscription: subscription, options: options });\n    }, [client, subscription, options, canResetObservableRef.current]);\n    useEffect(function () {\n        if (!observable) {\n            return;\n        }\n        var subscription = observable.subscribe({\n            next: function (fetchResult) {\n                var _a, _b;\n                var result = {\n                    loading: false,\n                    data: fetchResult.data,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                };\n                setResult(result);\n                if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onData) {\n                    ref.current.options.onData({\n                        client: client,\n                        data: result\n                    });\n                }\n                else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionData) {\n                    ref.current.options.onSubscriptionData({\n                        client: client,\n                        subscriptionData: result\n                    });\n                }\n            },\n            error: function (error) {\n                var _a, _b;\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: error,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n                (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError) === null || _b === void 0 ? void 0 : _b.call(_a, error);\n            },\n            complete: function () {\n                var _a, _b;\n                if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onComplete) {\n                    ref.current.options.onComplete();\n                }\n                else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionComplete) {\n                    ref.current.options.onSubscriptionComplete();\n                }\n            },\n        });\n        return function () {\n            subscription.unsubscribe();\n        };\n    }, [observable]);\n    return result;\n}\n//# sourceMappingURL=useSubscription.js.map", "import { useEffect, useState } from 'react';\nexport function useReactiveVar(rv) {\n    var value = rv();\n    var setValue = useState(value)[1];\n    useEffect(function () {\n        var probablySameValue = rv();\n        if (value !== probablySameValue) {\n            setValue(probablySameValue);\n        }\n        else {\n            return rv.onNextChange(setValue);\n        }\n    }, [value]);\n    return value;\n}\n//# sourceMappingURL=useReactiveVar.js.map", "import { __assign, __rest } from \"tslib\";\nimport { useRef } from \"react\";\nimport { equal } from \"@wry/equality\";\nimport { mergeDeepArray } from \"../../utilities\";\nimport { useApolloClient } from \"./useApolloClient\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore\";\nexport function useFragment_experimental(options) {\n    var cache = useApolloClient().cache;\n    var fragment = options.fragment, fragmentName = options.fragmentName, from = options.from, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, rest = __rest(options, [\"fragment\", \"fragmentName\", \"from\", \"optimistic\"]);\n    var diffOptions = __assign(__assign({}, rest), { id: typeof from === \"string\" ? from : cache.identify(from), query: cache[\"getFragmentDoc\"](fragment, fragmentName), optimistic: optimistic });\n    var resultRef = useRef();\n    var latestDiff = cache.diff(diffOptions);\n    var getSnapshot = function () {\n        var latestDiffToResult = diffToResult(latestDiff);\n        return resultRef.current &&\n            equal(resultRef.current.data, latestDiffToResult.data)\n            ? resultRef.current\n            : (resultRef.current = latestDiffToResult);\n    };\n    return useSyncExternalStore(function (forceUpdate) {\n        return cache.watch(__assign(__assign({}, diffOptions), { immediate: true, callback: function (diff) {\n                if (!equal(diff, latestDiff)) {\n                    resultRef.current = diffToResult((latestDiff = diff));\n                    forceUpdate();\n                }\n            } }));\n    }, getSnapshot, getSnapshot);\n}\nfunction diffToResult(diff) {\n    var result = {\n        data: diff.result,\n        complete: !!diff.complete,\n    };\n    if (diff.missing) {\n        result.missing = mergeDeepArray(diff.missing.map(function (error) { return error.missing; }));\n    }\n    return result;\n}\n//# sourceMappingURL=useFragment.js.map", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nrequire('../utilities/globals');\nvar context = require('./context');\nvar hooks = require('./hooks');\nvar parser = require('./parser');\n\n\n\nexports.ApolloConsumer = context.ApolloConsumer;\nexports.ApolloProvider = context.ApolloProvider;\nexports.getApolloContext = context.getApolloContext;\nexports.resetApolloContext = context.resetApolloContext;\nexports.DocumentType = parser.DocumentType;\nexports.operationName = parser.operationName;\nexports.parser = parser.parser;\nfor (var k in hooks) {\n\tif (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = hooks[k];\n}\n//# sourceMappingURL=react.cjs.map\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar core = require('./core');\nvar react = require('./react');\n\n\n\nfor (var k in core) {\n\tif (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = core[k];\n}\nfor (var k in react) {\n\tif (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = react[k];\n}\n//# sourceMappingURL=main.cjs.map\n", "import { __extends } from \"tslib\";\nimport { Observable } from '../../utilities';\nimport { ApolloLink } from '../core';\nexport function onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\nexport { ErrorLink };\n//# sourceMappingURL=index.js.map", "const { setupServer } = require(\"msw/node\");\n\nconst server = setupServer();\n\nserver.listen({ onUnhandledRequest: \"bypass\" });\n\nprocess.once(\"SIGINT\", () => server.close());\nprocess.once(\"SIGTERM\", () => server.close());\n", "import { createRequestHandler } from \"@remix-run/architect\";\nimport * as build from \"@remix-run/dev/server-build\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  require(\"./mocks\");\n}\n\nexport const handler = createRequestHandler({\n  build,\n  mode: process.env.NODE_ENV,\n});\n", "\nimport * as entryServer from \"./entry.server.tsx\";\nimport * as route0 from \"./root.tsx\";\nimport * as route1 from \"./routes/posts/$slug.jsx\";\nimport * as route2 from \"./routes/logout.tsx\";\nimport * as route3 from \"./routes/index.tsx\";\nimport * as route4 from \"./routes/login.tsx\";\nimport * as route5 from \"./routes/notes.tsx\";\nimport * as route6 from \"./routes/notes/$noteId.tsx\";\nimport * as route7 from \"./routes/notes/index.tsx\";\nimport * as route8 from \"./routes/notes/new.tsx\";\nimport * as route9 from \"./routes/join.tsx\";\nimport * as route10 from \"./../cypress/support/test-routes/create-user.ts\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const assetsBuildDirectory = \"public/build\";\n  export const future = {\"unstable_cssModules\":false,\"unstable_cssSideEffectImports\":false,\"unstable_dev\":false,\"unstable_postcss\":false,\"unstable_tailwind\":false,\"unstable_vanillaExtract\":false,\"v2_errorBoundary\":false,\"v2_meta\":false,\"v2_routeConvention\":false};\n  export const publicPath = \"/_static/build/\";\n  export const entry = { module: entryServer };\n  \n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/posts/$slug\": {\n      id: \"routes/posts/$slug\",\n      parentId: \"root\",\n      path: \"posts/:slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/logout\": {\n      id: \"routes/logout\",\n      parentId: \"root\",\n      path: \"logout\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/index\": {\n      id: \"routes/index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/login\": {\n      id: \"routes/login\",\n      parentId: \"root\",\n      path: \"login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/notes\": {\n      id: \"routes/notes\",\n      parentId: \"root\",\n      path: \"notes\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/notes/$noteId\": {\n      id: \"routes/notes/$noteId\",\n      parentId: \"routes/notes\",\n      path: \":noteId\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/notes/index\": {\n      id: \"routes/notes/index\",\n      parentId: \"routes/notes\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route7\n    },\n  \"routes/notes/new\": {\n      id: \"routes/notes/new\",\n      parentId: \"routes/notes\",\n      path: \"new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route8\n    },\n  \"routes/join\": {\n      id: \"routes/join\",\n      parentId: \"root\",\n      path: \"join\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route9\n    },\n  \"../cypress/support/test-routes/create-user\": {\n      id: \"../cypress/support/test-routes/create-user\",\n      parentId: \"root\",\n      path: \"__tests/create-user\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route10\n    }\n  };", "import { PassThrough } from \"stream\";\nimport type { EntryContext } from \"@remix-run/node\";\nimport { Response } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport isbot from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  const callbackName = isbot(request.headers.get(\"user-agent\"))\n    ? \"onAllReady\"\n    : \"onShellReady\";\n\n  return new Promise((resolve, reject) => {\n    let didError = false;\n\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer context={remixContext} url={request.url} />,\n      {\n        [callbackName]: () => {\n          const body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(body, {\n              headers: responseHeaders,\n              status: didError ? 500 : responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError: (err: unknown) => {\n          reject(err);\n        },\n        onError: (error: unknown) => {\n          didError = true;\n\n          console.error(error);\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n", "import type {\n  LinksFunction,\n  LoaderFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nimport tailwindStylesheetUrl from \"./styles/tailwind.css\";\nimport { getUser } from \"./session.server\";\n\nexport const links: LinksFunction = () => {\n  return [\n    { rel: \"stylesheet\", href: tailwindStylesheetUrl },\n    // NOTE: Architect deploys the public directory to /_static/\n    { rel: \"icon\", href: \"/_static/favicon.ico\" },\n  ];\n};\n\nexport const meta: MetaFunction = () => ({\n  charset: \"utf-8\",\n  title: \"Remix Notes\",\n  viewport: \"width=device-width,initial-scale=1\",\n});\n\ntype LoaderData = {\n  user: Awaited<ReturnType<typeof getUser>>;\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  return json<LoaderData>({\n    user: await getUser(request),\n  });\n};\n\nexport default function App() {\n  return (\n    <html lang=\"en\" className=\"h-full\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body className=\"h-full\">\n        <Outlet />\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n", "import { createCookieSessionStorage, redirect } from \"@remix-run/node\";\nimport invariant from \"tiny-invariant\";\n\nimport type { User } from \"~/models/user.server\";\nimport { getUserById } from \"~/models/user.server\";\n\ninvariant(process.env.SESSION_SECRET, \"SESSION_SECRET must be set\");\n\nexport const sessionStorage = createCookieSessionStorage({\n  cookie: {\n    name: \"__session\",\n    httpOnly: true,\n    path: \"/\",\n    sameSite: \"lax\",\n    secrets: [process.env.SESSION_SECRET],\n    secure: process.env.NODE_ENV === \"production\",\n  },\n});\n\nconst USER_SESSION_KEY = \"userId\";\n\nexport async function getSession(request: Request) {\n  const cookie = request.headers.get(\"Cookie\");\n  return sessionStorage.getSession(cookie);\n}\n\nexport async function getUserId(\n  request: Request\n): Promise<User[\"id\"] | undefined> {\n  const session = await getSession(request);\n  const userId = session.get(USER_SESSION_KEY);\n  return userId;\n}\n\nexport async function getUser(request: Request) {\n  const userId = await getUserId(request);\n  if (userId === undefined) return null;\n\n  const user = await getUserById(userId);\n  if (user) return user;\n\n  throw await logout(request);\n}\n\nexport async function requireUserId(\n  request: Request,\n  redirectTo: string = new URL(request.url).pathname\n) {\n  const userId = await getUserId(request);\n  if (!userId) {\n    const searchParams = new URLSearchParams([[\"redirectTo\", redirectTo]]);\n    throw redirect(`/login?${searchParams}`);\n  }\n  return userId;\n}\n\nexport async function requireUser(request: Request) {\n  const userId = await requireUserId(request);\n\n  const user = await getUserById(userId);\n  if (user) return user;\n\n  throw await logout(request);\n}\n\nexport async function createUserSession({\n  request,\n  userId,\n  remember,\n  redirectTo,\n}: {\n  request: Request;\n  userId: string;\n  remember: boolean;\n  redirectTo: string;\n}) {\n  const session = await getSession(request);\n  session.set(USER_SESSION_KEY, userId);\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await sessionStorage.commitSession(session, {\n        maxAge: remember\n          ? 60 * 60 * 24 * 7 // 7 days\n          : undefined,\n      }),\n    },\n  });\n}\n\nexport async function logout(request: Request) {\n  const session = await getSession(request);\n  return redirect(\"/\", {\n    headers: {\n      \"Set-Cookie\": await sessionStorage.destroySession(session),\n    },\n  });\n}\n", "import arc from \"@architect/functions\";\nimport bcrypt from \"bcryptjs\";\nimport invariant from \"tiny-invariant\";\n\nexport type User = { id: `email#${string}`; email: string };\nexport type Password = { password: string };\n\nexport async function getUserById(id: User[\"id\"]): Promise<User | null> {\n  const db = await arc.tables();\n  const result = await db.user.query({\n    KeyConditionExpression: \"pk = :pk\",\n    ExpressionAttributeValues: { \":pk\": id },\n  });\n\n  const [record] = result.Items;\n  if (record) return { id: record.pk, email: record.email };\n  return null;\n}\n\nexport async function getUserByEmail(email: User[\"email\"]) {\n  return getUserById(`email#${email}`);\n}\n\nasync function getUserPasswordByEmail(email: User[\"email\"]) {\n  const db = await arc.tables();\n  const result = await db.password.query({\n    KeyConditionExpression: \"pk = :pk\",\n    ExpressionAttributeValues: { \":pk\": `email#${email}` },\n  });\n\n  const [record] = result.Items;\n\n  if (record) return { hash: record.password };\n  return null;\n}\n\nexport async function createUser(\n  email: User[\"email\"],\n  password: Password[\"password\"]\n) {\n  const hashedPassword = await bcrypt.hash(password, 10);\n  const db = await arc.tables();\n  await db.password.put({\n    pk: `email#${email}`,\n    password: hashedPassword,\n  });\n\n  await db.user.put({\n    pk: `email#${email}`,\n    email,\n  });\n\n  const user = await getUserByEmail(email);\n  invariant(user, `User not found after being created. This should not happen`);\n\n  return user;\n}\n\nexport async function deleteUser(email: User[\"email\"]) {\n  const db = await arc.tables();\n  await db.password.delete({ pk: `email#${email}` });\n  await db.user.delete({ pk: `email#${email}` });\n}\n\nexport async function verifyLogin(\n  email: User[\"email\"],\n  password: Password[\"password\"]\n) {\n  const userPassword = await getUserPasswordByEmail(email);\n\n  if (!userPassword) {\n    return undefined;\n  }\n\n  const isValid = await bcrypt.compare(password, userPassword.hash);\n  if (!isValid) {\n    return undefined;\n  }\n\n  return getUserByEmail(email);\n}\n", "import { useLoaderData } from \"@remix-run/react\";\nimport { gql } from \"@apollo/client\";\nimport { client } from \"../../lib/apollo\";\n\nexport async function loader({ params }) {\n  const slug = params.slug;\n  const PostQuery = gql`\n    query GetPostBySlug($id: ID!) {\n      post(id: $id, idType: SLUG) {\n        date\n        content\n        title\n        slug\n      }\n    }\n  `;\n\n  const response = await client.query({\n    query: PostQuery,\n    variables: {\n      id: slug,\n    },\n  });\n\n  const post = response?.data?.post;\n  return post;\n}\n\nexport default function Slug() {\n  const post = useLoaderData();\n  return (\n    <div>\n      <main className=\"container mx-auto mt-6 rounded-lg bg-gray-100 p-6\">\n        <h1 className=\"text-4xl\">{post.title}</h1>\n        <div className=\"mt-4 text-2xl\">\n          {new Date(post.date).toLocaleDateString()}\n        </div>\n        <article\n          className=\"mt-4 space-y-2\"\n          dangerouslySetInnerHTML={{ __html: post.content }}\n        ></article>\n      </main>\n    </div>\n  );\n}\n", "import { ApolloClient, from, HttpLink, InMemoryCache } from \"@apollo/client\";\n\nimport { onError } from \"@apollo/client/link/error\";\n\nconst uri = \"https://karlsbarbershop.com/graphql\";\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors)\n    graphQLErrors.map(({ message, locations, path }) =>\n      console.error(\"gql error\", message, locations, path)\n    );\n\n  if (networkError) console.error(\"network error\", networkError);\n});\n\nconst link = from([errorLink, new HttpLink({ uri })]);\n\nexport const client = new ApolloClient({\n  uri,\n  link,\n  cache: new InMemoryCache(),\n});\n", "import type { ActionFunction, LoaderFunction } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\n\nimport { logout } from \"~/session.server\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  return logout(request);\n};\n\nexport const loader: LoaderFunction = async () => {\n  return redirect(\"/\");\n};\n", "// import Post from \"../components/Post\";\n// import { useLoaderData } from \"@remix-run/react\";\n// import { gql } from \"@apollo/client\";\n// import { client } from \"../lib/apollo\";\n\n// export async function loader() {\n//   const PostsQuery = gql`\n//     query GetPosts {\n//       posts {\n//         nodes {\n//           title\n//           content\n//           date\n//           slug\n//         }\n//       }\n//     }\n//   `;\n//   const response = await client.query({\n//     query: PostsQuery,\n//   });\n\n//   const posts = response?.data?.posts?.nodes;\n//   return posts;\n// }\n\nexport default function Index() {\n  // const posts = useLoaderData();\n  return (\n    <div>\n      <h1>Hello!</h1>\n      {/* <div className=\"grid grid-cols-1 gap-8 p-6 lg:grid-cols-3\">\n        {posts.map((post: { title: string | null | undefined }) => {\n          return <Post post={post} key={post.title}></Post>;\n        })}\n      </div> */}\n    </div>\n  );\n}\n", "import type {\n  ActionFunction,\n  LoaderFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, Link, useActionData, useSearchParams } from \"@remix-run/react\";\nimport * as React from \"react\";\n\nimport { createUserSession, getUserId } from \"~/session.server\";\nimport { verifyLogin } from \"~/models/user.server\";\nimport { safeRedirect, validateEmail } from \"~/utils\";\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const userId = await getUserId(request);\n  if (userId) return redirect(\"/\");\n  return json({});\n};\n\ninterface ActionData {\n  errors?: {\n    email?: string;\n    password?: string;\n  };\n}\n\nexport const action: ActionFunction = async ({ request }) => {\n  const formData = await request.formData();\n  const email = formData.get(\"email\");\n  const password = formData.get(\"password\");\n  const redirectTo = safeRedirect(formData.get(\"redirectTo\"));\n  const remember = formData.get(\"remember\");\n\n  if (!validateEmail(email)) {\n    return json<ActionData>(\n      { errors: { email: \"Email is invalid\" } },\n      { status: 400 }\n    );\n  }\n\n  if (typeof password !== \"string\" || password.length === 0) {\n    return json<ActionData>(\n      { errors: { password: \"Password is required\" } },\n      { status: 400 }\n    );\n  }\n\n  if (password.length < 8) {\n    return json<ActionData>(\n      { errors: { password: \"Password is too short\" } },\n      { status: 400 }\n    );\n  }\n\n  const user = await verifyLogin(email, password);\n\n  if (!user) {\n    return json<ActionData>(\n      { errors: { email: \"Invalid email or password\" } },\n      { status: 400 }\n    );\n  }\n\n  return createUserSession({\n    request,\n    userId: user.id,\n    remember: remember === \"on\" ? true : false,\n    redirectTo,\n  });\n};\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: \"Login\",\n  };\n};\n\nexport default function LoginPage() {\n  const [searchParams] = useSearchParams();\n  const redirectTo = searchParams.get(\"redirectTo\") || \"/notes\";\n  const actionData = useActionData() as ActionData;\n  const emailRef = React.useRef<HTMLInputElement>(null);\n  const passwordRef = React.useRef<HTMLInputElement>(null);\n\n  React.useEffect(() => {\n    if (actionData?.errors?.email) {\n      emailRef.current?.focus();\n    } else if (actionData?.errors?.password) {\n      passwordRef.current?.focus();\n    }\n  }, [actionData]);\n\n  return (\n    <div className=\"flex min-h-full flex-col justify-center\">\n      <div className=\"mx-auto w-full max-w-md px-8\">\n        <Form method=\"post\" className=\"space-y-6\" noValidate>\n          <div>\n            <label\n              htmlFor=\"email\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Email address\n            </label>\n            <div className=\"mt-1\">\n              <input\n                ref={emailRef}\n                id=\"email\"\n                required\n                autoFocus={true}\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                aria-invalid={actionData?.errors?.email ? true : undefined}\n                aria-describedby=\"email-error\"\n                className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\"\n              />\n              {actionData?.errors?.email && (\n                <div className=\"pt-1 text-red-700\" id=\"email-error\">\n                  {actionData.errors.email}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Password\n            </label>\n            <div className=\"mt-1\">\n              <input\n                id=\"password\"\n                ref={passwordRef}\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                aria-invalid={actionData?.errors?.password ? true : undefined}\n                aria-describedby=\"password-error\"\n                className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\"\n              />\n              {actionData?.errors?.password && (\n                <div className=\"pt-1 text-red-700\" id=\"password-error\">\n                  {actionData.errors.password}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n          <button\n            type=\"submit\"\n            className=\"w-full rounded bg-blue-500  py-2 px-4 text-white hover:bg-blue-600 focus:bg-blue-400\"\n          >\n            Log in\n          </button>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember\"\n                name=\"remember\"\n                type=\"checkbox\"\n                className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <label\n                htmlFor=\"remember\"\n                className=\"ml-2 block text-sm text-gray-900\"\n              >\n                Remember me\n              </label>\n            </div>\n            <div className=\"text-center text-sm text-gray-500\">\n              Don't have an account?{\" \"}\n              <Link\n                className=\"text-blue-500 underline\"\n                to={{\n                  pathname: \"/join\",\n                  search: searchParams.toString(),\n                }}\n              >\n                Sign up\n              </Link>\n            </div>\n          </div>\n        </Form>\n      </div>\n    </div>\n  );\n}\n", "import { useMatches } from \"@remix-run/react\";\nimport { useMemo } from \"react\";\n\nimport type { User } from \"~/models/user.server\";\n\nconst DEFAULT_REDIRECT = \"/\";\n\n/**\n * This should be used any time the redirect path is user-provided\n * (Like the query string on our login/signup pages). This avoids\n * open-redirect vulnerabilities.\n * @param {string} to The redirect destination\n * @param {string} defaultRedirect The redirect to use if the to is unsafe.\n */\nexport function safeRedirect(\n  to: FormDataEntryValue | string | null | undefined,\n  defaultRedirect: string = DEFAULT_REDIRECT\n) {\n  if (!to || typeof to !== \"string\") {\n    return defaultRedirect;\n  }\n\n  if (!to.startsWith(\"/\") || to.startsWith(\"//\")) {\n    return defaultRedirect;\n  }\n\n  return to;\n}\n\n/**\n * This base hook is used in other hooks to quickly search for specific data\n * across all loader data using useMatches.\n * @param {string} id The route id\n * @returns {JSON|undefined} The router data or undefined if not found\n */\nexport function useMatchesData(\n  id: string\n): Record<string, unknown> | undefined {\n  const matchingRoutes = useMatches();\n  const route = useMemo(\n    () => matchingRoutes.find((route) => route.id === id),\n    [matchingRoutes, id]\n  );\n  return route?.data;\n}\n\nfunction isUser(user: any): user is User {\n  return user && typeof user === \"object\" && typeof user.email === \"string\";\n}\n\nexport function useOptionalUser(): User | undefined {\n  const data = useMatchesData(\"root\");\n  if (!data || !isUser(data.user)) {\n    return undefined;\n  }\n  return data.user;\n}\n\nexport function useUser(): User {\n  const maybeUser = useOptionalUser();\n  if (!maybeUser) {\n    throw new Error(\n      \"No user found in root loader, but user is required by useUser. If user is optional, try useOptionalUser instead.\"\n    );\n  }\n  return maybeUser;\n}\n\nexport function validateEmail(email: unknown): email is string {\n  return typeof email === \"string\" && email.length > 3 && email.includes(\"@\");\n}\n", "import type { LoaderFunction } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { Form, Link, NavLink, Outlet, useLoaderData } from \"@remix-run/react\";\n\nimport { requireUserId } from \"~/session.server\";\nimport { useUser } from \"~/utils\";\nimport { getNoteListItems } from \"~/models/note.server\";\n\ntype LoaderData = {\n  noteListItems: Awaited<ReturnType<typeof getNoteListItems>>;\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const userId = await requireUserId(request);\n  const noteListItems = await getNoteListItems({ userId });\n  return json<LoaderData>({ noteListItems });\n};\n\nexport default function NotesPage() {\n  const data = useLoaderData() as LoaderData;\n  const user = useUser();\n\n  return (\n    <div className=\"flex h-full min-h-screen flex-col\">\n      <header className=\"flex items-center justify-between bg-slate-800 p-4 text-white\">\n        <h1 className=\"text-3xl font-bold\">\n          <Link to=\".\">Notes</Link>\n        </h1>\n        <p>{user.email}</p>\n        <Form action=\"/logout\" method=\"post\">\n          <button\n            type=\"submit\"\n            className=\"rounded bg-slate-600 py-2 px-4 text-blue-100 hover:bg-blue-500 active:bg-blue-600\"\n          >\n            Logout\n          </button>\n        </Form>\n      </header>\n\n      <main className=\"flex h-full bg-white\">\n        <div className=\"h-full w-80 border-r bg-gray-50\">\n          <Link to=\"new\" className=\"block p-4 text-xl text-blue-500\">\n            + New Note\n          </Link>\n\n          <hr />\n\n          {data.noteListItems.length === 0 ? (\n            <p className=\"p-4\">No notes yet</p>\n          ) : (\n            <ol>\n              {data.noteListItems.map((note) => (\n                <li key={note.id}>\n                  <NavLink\n                    className={({ isActive }) =>\n                      `block border-b p-4 text-xl ${isActive ? \"bg-white\" : \"\"}`\n                    }\n                    to={note.id}\n                  >\n                    \uD83D\uDCDD {note.title}\n                  </NavLink>\n                </li>\n              ))}\n            </ol>\n          )}\n        </div>\n\n        <div className=\"flex-1 p-6\">\n          <Outlet />\n        </div>\n      </main>\n    </div>\n  );\n}\n", "import arc from \"@architect/functions\";\nimport cuid from \"cuid\";\n\nimport type { User } from \"./user.server\";\n\nexport type Note = {\n  id: ReturnType<typeof cuid>;\n  userId: User[\"id\"];\n  title: string;\n  body: string;\n};\n\ntype NoteItem = {\n  pk: User[\"id\"];\n  sk: `note#${Note[\"id\"]}`;\n};\n\nconst skToId = (sk: NoteItem[\"sk\"]): Note[\"id\"] => sk.replace(/^note#/, \"\");\nconst idToSk = (id: Note[\"id\"]): NoteItem[\"sk\"] => `note#${id}`;\n\nexport async function getNote({\n  id,\n  userId,\n}: Pick<Note, \"id\" | \"userId\">): Promise<Note | null> {\n  const db = await arc.tables();\n\n  const result = await db.note.get({ pk: userId, sk: idToSk(id) });\n\n  if (result) {\n    return {\n      userId: result.pk,\n      id: result.sk,\n      title: result.title,\n      body: result.body,\n    };\n  }\n  return null;\n}\n\nexport async function getNoteListItems({\n  userId,\n}: Pick<Note, \"userId\">): Promise<Array<Pick<Note, \"id\" | \"title\">>> {\n  const db = await arc.tables();\n\n  const result = await db.note.query({\n    KeyConditionExpression: \"pk = :pk\",\n    ExpressionAttributeValues: { \":pk\": userId },\n  });\n\n  return result.Items.map((n: any) => ({\n    title: n.title,\n    id: skToId(n.sk),\n  }));\n}\n\nexport async function createNote({\n  body,\n  title,\n  userId,\n}: Pick<Note, \"body\" | \"title\" | \"userId\">): Promise<Note> {\n  const db = await arc.tables();\n\n  const result = await db.note.put({\n    pk: userId,\n    sk: idToSk(cuid()),\n    title: title,\n    body: body,\n  });\n  return {\n    id: skToId(result.sk),\n    userId: result.pk,\n    title: result.title,\n    body: result.body,\n  };\n}\n\nexport async function deleteNote({ id, userId }: Pick<Note, \"id\" | \"userId\">) {\n  const db = await arc.tables();\n  return db.note.delete({ pk: userId, sk: idToSk(id) });\n}\n", "import type { ActionFunction, LoaderFunction } from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useCatch, useLoaderData } from \"@remix-run/react\";\nimport invariant from \"tiny-invariant\";\n\nimport { deleteNote } from \"~/models/note.server\";\nimport { getNote } from \"~/models/note.server\";\nimport { requireUserId } from \"~/session.server\";\n\ntype LoaderData = {\n  note: NonNullable<Awaited<ReturnType<typeof getNote>>>;\n};\n\nexport const loader: LoaderFunction = async ({ request, params }) => {\n  const userId = await requireUserId(request);\n  invariant(params.noteId, \"noteId not found\");\n\n  const note = await getNote({ userId, id: params.noteId });\n  if (!note) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n  return json<LoaderData>({ note });\n};\n\nexport const action: ActionFunction = async ({ request, params }) => {\n  const userId = await requireUserId(request);\n  invariant(params.noteId, \"noteId not found\");\n\n  await deleteNote({ userId, id: params.noteId });\n\n  return redirect(\"/notes\");\n};\n\nexport default function NoteDetailsPage() {\n  const data = useLoaderData() as LoaderData;\n\n  return (\n    <div>\n      <h3 className=\"text-2xl font-bold\">{data.note.title}</h3>\n      <p className=\"py-6\">{data.note.body}</p>\n      <hr className=\"my-4\" />\n      <Form method=\"post\">\n        <button\n          type=\"submit\"\n          className=\"rounded bg-blue-500  py-2 px-4 text-white hover:bg-blue-600 focus:bg-blue-400\"\n        >\n          Delete\n        </button>\n      </Form>\n    </div>\n  );\n}\n\nexport function ErrorBoundary({ error }: { error: Error }) {\n  console.error(error);\n\n  return <div>An unexpected error occurred: {error.message}</div>;\n}\n\nexport function CatchBoundary() {\n  const caught = useCatch();\n\n  if (caught.status === 404) {\n    return <div>Note not found</div>;\n  }\n\n  throw new Error(`Unexpected caught response with status: ${caught.status}`);\n}\n", "import { Link } from \"@remix-run/react\";\n\nexport default function NoteIndexPage() {\n  return (\n    <p>\n      No note selected. Select a note on the left, or{\" \"}\n      <Link to=\"new\" className=\"text-blue-500 underline\">\n        create a new note.\n      </Link>\n    </p>\n  );\n}\n", "import type { ActionFunction } from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData } from \"@remix-run/react\";\nimport * as React from \"react\";\n\nimport { createNote } from \"~/models/note.server\";\nimport { requireUserId } from \"~/session.server\";\n\ntype ActionData = {\n  errors?: {\n    title?: string;\n    body?: string;\n  };\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  const userId = await requireUserId(request);\n\n  const formData = await request.formData();\n  const title = formData.get(\"title\");\n  const body = formData.get(\"body\");\n\n  if (typeof title !== \"string\" || title.length === 0) {\n    return json<ActionData>(\n      { errors: { title: \"Title is required\" } },\n      { status: 400 }\n    );\n  }\n\n  if (typeof body !== \"string\" || body.length === 0) {\n    return json<ActionData>(\n      { errors: { body: \"Body is required\" } },\n      { status: 400 }\n    );\n  }\n\n  const note = await createNote({ title, body, userId });\n\n  return redirect(`/notes/${note.id}`);\n};\n\nexport default function NewNotePage() {\n  const actionData = useActionData() as ActionData;\n  const titleRef = React.useRef<HTMLInputElement>(null);\n  const bodyRef = React.useRef<HTMLTextAreaElement>(null);\n\n  React.useEffect(() => {\n    if (actionData?.errors?.title) {\n      titleRef.current?.focus();\n    } else if (actionData?.errors?.body) {\n      bodyRef.current?.focus();\n    }\n  }, [actionData]);\n\n  return (\n    <Form\n      method=\"post\"\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 8,\n        width: \"100%\",\n      }}\n    >\n      <div>\n        <label className=\"flex w-full flex-col gap-1\">\n          <span>Title: </span>\n          <input\n            ref={titleRef}\n            name=\"title\"\n            className=\"flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose\"\n            aria-invalid={actionData?.errors?.title ? true : undefined}\n            aria-errormessage={\n              actionData?.errors?.title ? \"title-error\" : undefined\n            }\n          />\n        </label>\n        {actionData?.errors?.title && (\n          <div className=\"pt-1 text-red-700\" id=\"title-error\">\n            {actionData.errors.title}\n          </div>\n        )}\n      </div>\n\n      <div>\n        <label className=\"flex w-full flex-col gap-1\">\n          <span>Body: </span>\n          <textarea\n            ref={bodyRef}\n            name=\"body\"\n            rows={8}\n            className=\"w-full flex-1 rounded-md border-2 border-blue-500 py-2 px-3 text-lg leading-6\"\n            aria-invalid={actionData?.errors?.body ? true : undefined}\n            aria-errormessage={\n              actionData?.errors?.body ? \"body-error\" : undefined\n            }\n          />\n        </label>\n        {actionData?.errors?.body && (\n          <div className=\"pt-1 text-red-700\" id=\"body-error\">\n            {actionData.errors.body}\n          </div>\n        )}\n      </div>\n\n      <div className=\"text-right\">\n        <button\n          type=\"submit\"\n          className=\"rounded bg-blue-500  py-2 px-4 text-white hover:bg-blue-600 focus:bg-blue-400\"\n        >\n          Save\n        </button>\n      </div>\n    </Form>\n  );\n}\n", "import type {\n  ActionFunction,\n  LoaderFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, Link, useActionData, useSearchParams } from \"@remix-run/react\";\nimport * as React from \"react\";\n\nimport { getUserId, createUserSession } from \"~/session.server\";\n\nimport { createUser, getUserByEmail } from \"~/models/user.server\";\nimport { safeRedirect, validateEmail } from \"~/utils\";\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const userId = await getUserId(request);\n  if (userId) return redirect(\"/\");\n  return json({});\n};\n\ninterface ActionData {\n  errors: {\n    email?: string;\n    password?: string;\n  };\n}\n\nexport const action: ActionFunction = async ({ request }) => {\n  const formData = await request.formData();\n  const email = formData.get(\"email\");\n  const password = formData.get(\"password\");\n  const redirectTo = safeRedirect(formData.get(\"redirectTo\"), \"/\");\n\n  if (!validateEmail(email)) {\n    return json<ActionData>(\n      { errors: { email: \"Email is invalid\" } },\n      { status: 400 }\n    );\n  }\n\n  if (typeof password !== \"string\" || password.length === 0) {\n    return json<ActionData>(\n      { errors: { password: \"Password is required\" } },\n      { status: 400 }\n    );\n  }\n\n  if (password.length < 8) {\n    return json<ActionData>(\n      { errors: { password: \"Password is too short\" } },\n      { status: 400 }\n    );\n  }\n\n  const existingUser = await getUserByEmail(email);\n  if (existingUser) {\n    return json<ActionData>(\n      { errors: { email: \"A user already exists with this email\" } },\n      { status: 400 }\n    );\n  }\n\n  const user = await createUser(email, password);\n\n  return createUserSession({\n    request,\n    userId: user.id,\n    remember: false,\n    redirectTo,\n  });\n};\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: \"Sign Up\",\n  };\n};\n\nexport default function Join() {\n  const [searchParams] = useSearchParams();\n  const redirectTo = searchParams.get(\"redirectTo\") ?? undefined;\n  const actionData = useActionData() as ActionData;\n  const emailRef = React.useRef<HTMLInputElement>(null);\n  const passwordRef = React.useRef<HTMLInputElement>(null);\n\n  React.useEffect(() => {\n    if (actionData?.errors?.email) {\n      emailRef.current?.focus();\n    } else if (actionData?.errors?.password) {\n      passwordRef.current?.focus();\n    }\n  }, [actionData]);\n\n  return (\n    <div className=\"flex min-h-full flex-col justify-center\">\n      <div className=\"mx-auto w-full max-w-md px-8\">\n        <Form method=\"post\" className=\"space-y-6\" noValidate>\n          <div>\n            <label\n              htmlFor=\"email\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Email address\n            </label>\n            <div className=\"mt-1\">\n              <input\n                ref={emailRef}\n                id=\"email\"\n                required\n                autoFocus={true}\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                aria-invalid={actionData?.errors?.email ? true : undefined}\n                aria-describedby=\"email-error\"\n                className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\"\n              />\n              {actionData?.errors?.email && (\n                <div className=\"pt-1 text-red-700\" id=\"email-error\">\n                  {actionData.errors.email}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Password\n            </label>\n            <div className=\"mt-1\">\n              <input\n                id=\"password\"\n                ref={passwordRef}\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"new-password\"\n                aria-invalid={actionData?.errors?.password ? true : undefined}\n                aria-describedby=\"password-error\"\n                className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\"\n              />\n              {actionData?.errors?.password && (\n                <div className=\"pt-1 text-red-700\" id=\"password-error\">\n                  {actionData.errors.password}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n          <button\n            type=\"submit\"\n            className=\"w-full rounded bg-blue-500  py-2 px-4 text-white hover:bg-blue-600 focus:bg-blue-400\"\n          >\n            Create Account\n          </button>\n          <div className=\"flex items-center justify-center\">\n            <div className=\"text-center text-sm text-gray-500\">\n              Already have an account?{\" \"}\n              <Link\n                className=\"text-blue-500 underline\"\n                to={{\n                  pathname: \"/login\",\n                  search: searchParams.toString(),\n                }}\n              >\n                Log in\n              </Link>\n            </div>\n          </div>\n        </Form>\n      </div>\n    </div>\n  );\n}\n", "import type { ActionFunction } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\n\nimport { createUser } from \"~/models/user.server\";\nimport { createUserSession } from \"~/session.server\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  if (process.env.NODE_ENV === \"production\") {\n    console.error(\n      \"\uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 test routes should not be enabled in production \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8 \uD83D\uDEA8\"\n    );\n    // test routes should not be enabled in production or without\n    // enable test routes... Just in case this somehow slips through\n    // we'll redirect :)\n    return redirect(\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\");\n  }\n\n  const { email } = await request.json();\n  if (!email) {\n    throw new Error(\"email required for login\");\n  }\n  if (!email.endsWith(\"@example.com\")) {\n    throw new Error(\"All test emails must end in @example.com\");\n  }\n\n  const user = await createUser(email, \"myreallystrongpassword\");\n\n  return createUserSession({\n    request,\n    userId: user.id,\n    remember: true,\n    redirectTo: \"/\",\n  });\n};\n\nexport default null;\n", "export default {'version':'fca06f75','entry':{'module':'/_static/build/entry.client-EWN4UQFK.js','imports':['/_static/build/_shared/chunk-Y5V3LPBG.js','/_static/build/_shared/chunk-MSLF4IBU.js','/_static/build/_shared/chunk-HRTTMHIP.js']},'routes':{'../cypress/support/test-routes/create-user':{'id':'../cypress/support/test-routes/create-user','parentId':'root','path':'__tests/create-user','index':undefined,'caseSensitive':undefined,'module':'/_static/build/_.._/cypress/support/test-routes/create-user-R6T36PRX.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/_static/build/root-OTCMXVCS.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/index':{'id':'routes/index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/_static/build/routes/index-HT7JYY3K.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/join':{'id':'routes/join','parentId':'root','path':'join','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/join-5XX2EFQO.js','imports':['/_static/build/_shared/chunk-DOWO74TZ.js','/_static/build/_shared/chunk-BNEZX73F.js','/_static/build/_shared/chunk-FCCJ6B32.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/login':{'id':'routes/login','parentId':'root','path':'login','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/login-O6TRJ3L6.js','imports':['/_static/build/_shared/chunk-DOWO74TZ.js','/_static/build/_shared/chunk-BNEZX73F.js','/_static/build/_shared/chunk-FCCJ6B32.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/logout':{'id':'routes/logout','parentId':'root','path':'logout','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/logout-VBO75TCN.js','imports':undefined,'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/notes':{'id':'routes/notes','parentId':'root','path':'notes','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/notes-JGRKCK6P.js','imports':['/_static/build/_shared/chunk-BNEZX73F.js','/_static/build/_shared/chunk-62RAQ3ZD.js','/_static/build/_shared/chunk-FCCJ6B32.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/notes/$noteId':{'id':'routes/notes/$noteId','parentId':'routes/notes','path':':noteId','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/notes/$noteId-MVWEUUF2.js','imports':undefined,'hasAction':true,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':true},'routes/notes/index':{'id':'routes/notes/index','parentId':'routes/notes','path':undefined,'index':true,'caseSensitive':undefined,'module':'/_static/build/routes/notes/index-ES24W4TE.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/notes/new':{'id':'routes/notes/new','parentId':'routes/notes','path':'new','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/notes/new-6OV4XDAU.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/posts/$slug':{'id':'routes/posts/$slug','parentId':'root','path':'posts/:slug','index':undefined,'caseSensitive':undefined,'module':'/_static/build/routes/posts/$slug-NGZHUN3I.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}},'cssBundleHref':undefined,'url':'/_static/build/manifest-FCA06F75.js'};"],
  "mappings": "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",
  "names": ["__extends", "InvariantError", "invariant", "global", "Source", "remove", "invariant", "_a", "invariant", "visit", "BREAK", "InvariantError", "__assign", "__spreadArray", "Kind", "DeepMerger", "isReference", "__rest_1", "__rest", "Observable", "handler", "error", "maybe", "__extends", "Concast", "sources", "value", "Observable", "invariant", "InvariantError", "__assign", "getOperationName", "Observable", "handler", "link", "__extends", "LinkError", "ApolloLink", "links", "createOperation", "transformOperation", "validateOperation", "invariant", "InvariantError", "from", "maybe", "onError", "canUseAsyncIteratorSymbol", "__awaiter", "__generator", "throwServerError", "InvariantError", "__spreadArray", "__assign", "print", "uri", "__rest", "ApolloLink", "_a", "_b", "visit", "_c", "hasDirectives", "fromError", "parseError", "Observable", "HttpLink", "__extends", "ApolloCache", "wrap", "getFragmentQueryDocument", "__assign", "__rest", "Cache", "__extends", "MissingFieldError", "context", "compact", "isReference", "isNonNullObject", "isArray", "isField", "shouldInclude", "resultKeyNameFromField", "DeepMerger", "createFragmentMap", "getFragmentDefinitions", "EntityStore", "maybeDeepFreeze", "makeReference", "invariant", "from", "CacheGroup", "dep", "Trie", "canUseWeakMap", "Root", "Layer", "equal", "Stump", "isObjectOrArray", "ObjectCanon", "canUseWeakSet", "json", "StoreReader", "getDefaultValues", "getQueryDefinition", "getMainDefinition", "result", "_a", "addTypenameToDocument", "getFragmentFromSelection", "Kind", "InvariantError", "mergeDeepArray", "Slot", "cache", "isNonEmptyArray", "d", "argumentsObjectFromField", "getStoreKeyName", "Policies", "existing", "incoming", "supertypeSet", "storeKeyNameFromField", "stringifyForDisplay", "StoreWriter", "getOperationDefinition", "dataId", "getTypenameFromResult", "cloneDeep", "value", "selectionSet", "InMemoryCache", "__spreadArray", "FragmentRegistry", "visit", "isNonEmptyArray", "__extends", "ApolloError", "hasOwnProperty", "DeepMerger", "__spreadArray", "__assign", "NetworkStatus", "__extends", "ObservableQuery", "getOperationDefinition", "equal", "getQueryDefinition", "invariant", "cache", "info", "cloneDeep", "isNonEmptyArray", "compact", "iterateObserversSafely", "Observable", "fixObservableSubclass", "LocalState", "client", "mergeDeep", "__awaiter", "__generator", "hasDirectives", "removeClientSetsFromDocument", "visit", "BREAK", "buildQueryFromSelectionSet", "getMainDefinition", "getFragmentDefinitions", "createFragmentMap", "_a", "shouldInclude", "isField", "resultKeyNameFromField", "isInlineFragment", "mergeDeepArray", "cacheSlot", "argumentsObjectFromField", "node", "isSelectionNode", "canUseWeakMap", "QueryInfo", "diff", "graphQLResultHasError", "QueryManager", "link", "InvariantError", "self", "asyncMap", "ApolloError", "getGraphQLErrorsFromResult", "getOperationName", "result", "removeConnectionDirectiveFromDocument", "hasClientExports", "getDefaultValues", "isDocumentNode", "isNonNullObject", "makeUniqueId", "variables", "canonicalStringify", "Concast", "execute", "isApolloError", "networkStatus", "data", "ApolloClient", "uri", "HttpLink", "ApolloLink", "mergeOptions", "setVerbosity", "DEV", "canUseSymbol", "React", "invariant", "client", "DocumentType", "invariant", "context", "useContext", "getApolloContext", "client", "invariant", "React", "canUseLayoutEffect", "useRef", "useState", "InternalState", "canUseWeakSet", "maybeDeepFreeze", "NetworkStatus", "canUseWeakMap", "verifyDocumentType", "DocumentType", "useCallback", "result", "equal", "onError", "compact", "mergeOptions", "__rest", "useMemo", "isNonEmptyArray", "ApolloError", "__assign", "eagerMethods", "key", "useEffect", "_a", "options", "mutation", "errors", "_b", "subscription", "from", "mergeDeepArray", "require_main", "onError", "ApolloLink", "Observable", "__extends", "ErrorLink", "isbot", "import_node", "import_react", "import_node", "import_tiny_invariant", "arc", "bcrypt", "invariant", "bcrypt", "invariant", "import_jsx_dev_runtime", "loader", "import_react", "import_client", "import_jsx_dev_runtime", "loader", "loader", "import_node", "loader", "import_jsx_dev_runtime", "action", "loader", "meta", "import_node", "import_react", "import_react", "route", "import_jsx_dev_runtime", "loader", "action", "meta", "_a", "_b", "_c", "_d", "loader", "import_node", "import_react", "import_functions", "arc", "cuid", "import_jsx_dev_runtime", "loader", "action", "loader", "import_node", "import_react", "import_tiny_invariant", "import_jsx_dev_runtime", "loader", "invariant", "action", "notes_exports", "import_react", "import_jsx_dev_runtime", "action", "import_node", "import_react", "React", "import_jsx_dev_runtime", "action", "_a", "_b", "_c", "_d", "action", "loader", "meta", "import_node", "import_react", "React", "import_jsx_dev_runtime", "loader", "action", "meta", "_a", "_b", "_c", "_d", "action", "import_node", "action", "notes_exports"]
}
